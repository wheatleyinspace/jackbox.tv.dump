var E8=Object.defineProperty;var fR=t=>{throw TypeError(t)};var v8=(t,e,n)=>e in t?E8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var be=(t,e,n)=>v8(t,typeof e!="symbol"?e+"":e,n),hR=(t,e,n)=>e.has(t)||fR("Cannot "+n);var Ut=(t,e,n)=>(hR(t,e,"read from private field"),n?n.call(t):e.get(t)),ra=(t,e,n)=>e.has(t)?fR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ju=(t,e,n,i)=>(hR(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Zv(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const nr={},zo=[],es=()=>{},y8=()=>!1,Vf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Qv=t=>t.startsWith("onUpdate:"),Yr=Object.assign,ey=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},T8=Object.prototype.hasOwnProperty,Xt=(t,e)=>T8.call(t,e),mt=Array.isArray,Jo=t=>Pl(t)==="[object Map]",Ff=t=>Pl(t)==="[object Set]",pR=t=>Pl(t)==="[object Date]",It=t=>typeof t=="function",Rr=t=>typeof t=="string",ki=t=>typeof t=="symbol",ir=t=>t!==null&&typeof t=="object",BI=t=>(ir(t)||It(t))&&It(t.then)&&It(t.catch),UI=Object.prototype.toString,Pl=t=>UI.call(t),b8=t=>Pl(t).slice(8,-1),MI=t=>Pl(t)==="[object Object]",ty=t=>Rr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ol=Zv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qf=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},R8=/-(\w)/g,_i=qf(t=>t.replace(R8,(e,n)=>n?n.toUpperCase():"")),x8=/\B([A-Z])/g,va=qf(t=>t.replace(x8,"-$1").toLowerCase()),Gf=qf(t=>t.charAt(0).toUpperCase()+t.slice(1)),Zp=qf(t=>t?`on${Gf(t)}`:""),ha=(t,e)=>!Object.is(t,e),uf=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},KI=(t,e,n,i=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:i,value:n})},gv=t=>{const e=parseFloat(t);return isNaN(e)?t:e},S8=t=>{const e=Rr(t)?Number(t):NaN;return isNaN(e)?t:e};let dR;const jf=()=>dR||(dR=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function jr(t){if(mt(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=Rr(i)?w8(i):jr(i);if(s)for(const a in s)e[a]=s[a]}return e}else if(Rr(t)||ir(t))return t}const C8=/;(?![^(]*\))/g,A8=/:([^]+)/,L8=/\/\*[^]*?\*\//g;function w8(t){const e={};return t.replace(L8,"").split(C8).forEach(n=>{if(n){const i=n.split(A8);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function et(t){let e="";if(Rr(t))e=t;else if(mt(t))for(let n=0;n<t.length;n++){const i=et(t[n]);i&&(e+=i+" ")}else if(ir(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function O8(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Rr(e)&&(t.class=et(e)),n&&(t.style=jr(n)),t}const I8="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",N8=Zv(I8);function $I(t){return!!t||t===""}function P8(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=Wf(t[i],e[i]);return n}function Wf(t,e){if(t===e)return!0;let n=pR(t),i=pR(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=ki(t),i=ki(e),n||i)return t===e;if(n=mt(t),i=mt(e),n||i)return n&&i?P8(t,e):!1;if(n=ir(t),i=ir(e),n||i){if(!n||!i)return!1;const s=Object.keys(t).length,a=Object.keys(e).length;if(s!==a)return!1;for(const r in t){const u=t.hasOwnProperty(r),c=e.hasOwnProperty(r);if(u&&!c||!u&&c||!Wf(t[r],e[r]))return!1}}return String(t)===String(e)}function VI(t,e){return t.findIndex(n=>Wf(n,e))}const FI=t=>!!(t&&t.__v_isRef===!0),nt=t=>Rr(t)?t:t==null?"":mt(t)||ir(t)&&(t.toString===UI||!It(t.toString))?FI(t)?nt(t.value):JSON.stringify(t,qI,2):String(t),qI=(t,e)=>FI(e)?qI(t,e.value):Jo(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,s],a)=>(n[Qp(i,a)+" =>"]=s,n),{})}:Ff(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Qp(n))}:ki(e)?Qp(e):ir(e)&&!mt(e)&&!MI(e)?String(e):e,Qp=(t,e="")=>{var n;return ki(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Wn;class GI{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Wn,!e&&Wn&&(this.index=(Wn.scopes||(Wn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Wn;try{return Wn=this,e()}finally{Wn=n}}}on(){Wn=this}off(){Wn=this.parent}stop(e){if(this._active){this._active=!1;let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(this.effects.length=0,n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function k8(t){return new GI(t)}function D8(){return Wn}let or;const ed=new WeakSet;class jI{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Wn&&Wn.active&&Wn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,ed.has(this)&&(ed.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||XI(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,_R(this),HI(this);const e=or,n=Ni;or=this,Ni=!0;try{return this.fn()}finally{YI(this),or=e,Ni=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)iy(e);this.deps=this.depsTail=void 0,_R(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?ed.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Ev(this)&&this.run()}get dirty(){return Ev(this)}}let WI=0,ul,ll;function XI(t,e=!1){if(t.flags|=8,e){t.next=ll,ll=t;return}t.next=ul,ul=t}function ry(){WI++}function ny(){if(--WI>0)return;if(ll){let e=ll;for(ll=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;ul;){let e=ul;for(ul=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){t||(t=i)}e=n}}if(t)throw t}function HI(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function YI(t){let e,n=t.depsTail,i=n;for(;i;){const s=i.prevDep;i.version===-1?(i===n&&(n=s),iy(i),B8(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=s}t.deps=e,t.depsTail=n}function Ev(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(zI(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function zI(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===vl))return;t.globalVersion=vl;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Ev(t)){t.flags&=-3;return}const n=or,i=Ni;or=t,Ni=!0;try{HI(t);const s=t.fn(t._value);(e.version===0||ha(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{or=n,Ni=i,YI(t),t.flags&=-3}}function iy(t,e=!1){const{dep:n,prevSub:i,nextSub:s}=t;if(i&&(i.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=i,t.nextSub=void 0),n.subs===t&&(n.subs=i,!i&&n.computed)){n.computed.flags&=-5;for(let a=n.computed.deps;a;a=a.nextDep)iy(a,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function B8(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}let Ni=!0;const JI=[];function ya(){JI.push(Ni),Ni=!1}function Ta(){const t=JI.pop();Ni=t===void 0?!0:t}function _R(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=or;or=void 0;try{e()}finally{or=n}}}let vl=0;class U8{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sy{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!or||!Ni||or===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==or)n=this.activeLink=new U8(or,this),or.deps?(n.prevDep=or.depsTail,or.depsTail.nextDep=n,or.depsTail=n):or.deps=or.depsTail=n,ZI(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const i=n.nextDep;i.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=i),n.prevDep=or.depsTail,n.nextDep=void 0,or.depsTail.nextDep=n,or.depsTail=n,or.deps===n&&(or.deps=i)}return n}trigger(e){this.version++,vl++,this.notify(e)}notify(e){ry();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ny()}}}function ZI(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)ZI(i)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const vv=new WeakMap,no=Symbol(""),yv=Symbol(""),yl=Symbol("");function on(t,e,n){if(Ni&&or){let i=vv.get(t);i||vv.set(t,i=new Map);let s=i.get(n);s||(i.set(n,s=new sy),s.map=i,s.key=n),s.track()}}function ws(t,e,n,i,s,a){const r=vv.get(t);if(!r){vl++;return}const u=c=>{c&&c.trigger()};if(ry(),e==="clear")r.forEach(u);else{const c=mt(t),f=c&&ty(n);if(c&&n==="length"){const h=Number(i);r.forEach((d,g)=>{(g==="length"||g===yl||!ki(g)&&g>=h)&&u(d)})}else switch((n!==void 0||r.has(void 0))&&u(r.get(n)),f&&u(r.get(yl)),e){case"add":c?f&&u(r.get("length")):(u(r.get(no)),Jo(t)&&u(r.get(yv)));break;case"delete":c||(u(r.get(no)),Jo(t)&&u(r.get(yv)));break;case"set":Jo(t)&&u(r.get(no));break}}ny()}function Bo(t){const e=jt(t);return e===t?e:(on(e,"iterate",yl),hi(t)?e:e.map(un))}function Xf(t){return on(t=jt(t),"iterate",yl),t}const M8={__proto__:null,[Symbol.iterator](){return td(this,Symbol.iterator,un)},concat(...t){return Bo(this).concat(...t.map(e=>mt(e)?Bo(e):e))},entries(){return td(this,"entries",t=>(t[1]=un(t[1]),t))},every(t,e){return bs(this,"every",t,e,void 0,arguments)},filter(t,e){return bs(this,"filter",t,e,n=>n.map(un),arguments)},find(t,e){return bs(this,"find",t,e,un,arguments)},findIndex(t,e){return bs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return bs(this,"findLast",t,e,un,arguments)},findLastIndex(t,e){return bs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return bs(this,"forEach",t,e,void 0,arguments)},includes(...t){return rd(this,"includes",t)},indexOf(...t){return rd(this,"indexOf",t)},join(t){return Bo(this).join(t)},lastIndexOf(...t){return rd(this,"lastIndexOf",t)},map(t,e){return bs(this,"map",t,e,void 0,arguments)},pop(){return Wu(this,"pop")},push(...t){return Wu(this,"push",t)},reduce(t,...e){return mR(this,"reduce",t,e)},reduceRight(t,...e){return mR(this,"reduceRight",t,e)},shift(){return Wu(this,"shift")},some(t,e){return bs(this,"some",t,e,void 0,arguments)},splice(...t){return Wu(this,"splice",t)},toReversed(){return Bo(this).toReversed()},toSorted(t){return Bo(this).toSorted(t)},toSpliced(...t){return Bo(this).toSpliced(...t)},unshift(...t){return Wu(this,"unshift",t)},values(){return td(this,"values",un)}};function td(t,e,n){const i=Xf(t),s=i[e]();return i!==t&&!hi(t)&&(s._next=s.next,s.next=()=>{const a=s._next();return a.value&&(a.value=n(a.value)),a}),s}const K8=Array.prototype;function bs(t,e,n,i,s,a){const r=Xf(t),u=r!==t&&!hi(t),c=r[e];if(c!==K8[e]){const d=c.apply(t,a);return u?un(d):d}let f=n;r!==t&&(u?f=function(d,g){return n.call(this,un(d),g,t)}:n.length>2&&(f=function(d,g){return n.call(this,d,g,t)}));const h=c.call(r,f,i);return u&&s?s(h):h}function mR(t,e,n,i){const s=Xf(t);let a=n;return s!==t&&(hi(t)?n.length>3&&(a=function(r,u,c){return n.call(this,r,u,c,t)}):a=function(r,u,c){return n.call(this,r,un(u),c,t)}),s[e](a,...i)}function rd(t,e,n){const i=jt(t);on(i,"iterate",yl);const s=i[e](...n);return(s===-1||s===!1)&&uy(n[0])?(n[0]=jt(n[0]),i[e](...n)):s}function Wu(t,e,n=[]){ya(),ry();const i=jt(t)[e].apply(t,n);return ny(),Ta(),i}const $8=Zv("__proto__,__v_isRef,__isVue"),QI=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ki));function V8(t){ki(t)||(t=String(t));const e=jt(this);return on(e,"has",t),e.hasOwnProperty(t)}class eN{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(s?a?J8:iN:a?nN:rN).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const r=mt(e);if(!s){let c;if(r&&(c=M8[n]))return c;if(n==="hasOwnProperty")return V8}const u=Reflect.get(e,n,rn(e)?e:i);return(ki(n)?QI.has(n):$8(n))||(s||on(e,"get",n),a)?u:rn(u)?r&&ty(n)?u:u.value:ir(u)?s?sN(u):bn(u):u}}class tN extends eN{constructor(e=!1){super(!1,e)}set(e,n,i,s){let a=e[n];if(!this._isShallow){const c=ao(a);if(!hi(i)&&!ao(i)&&(a=jt(a),i=jt(i)),!mt(e)&&rn(a)&&!rn(i))return c?!1:(a.value=i,!0)}const r=mt(e)&&ty(n)?Number(n)<e.length:Xt(e,n),u=Reflect.set(e,n,i,rn(e)?e:s);return e===jt(s)&&(r?ha(i,a)&&ws(e,"set",n,i):ws(e,"add",n,i)),u}deleteProperty(e,n){const i=Xt(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&i&&ws(e,"delete",n,void 0),s}has(e,n){const i=Reflect.has(e,n);return(!ki(n)||!QI.has(n))&&on(e,"has",n),i}ownKeys(e){return on(e,"iterate",mt(e)?"length":no),Reflect.ownKeys(e)}}class F8 extends eN{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const q8=new tN,G8=new F8,j8=new tN(!0);const Tv=t=>t,qc=t=>Reflect.getPrototypeOf(t);function W8(t,e,n){return function(...i){const s=this.__v_raw,a=jt(s),r=Jo(a),u=t==="entries"||t===Symbol.iterator&&r,c=t==="keys"&&r,f=s[t](...i),h=n?Tv:e?bv:un;return!e&&on(a,"iterate",c?yv:no),{next(){const{value:d,done:g}=f.next();return g?{value:d,done:g}:{value:u?[h(d[0]),h(d[1])]:h(d),done:g}},[Symbol.iterator](){return this}}}}function Gc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function X8(t,e){const n={get(s){const a=this.__v_raw,r=jt(a),u=jt(s);t||(ha(s,u)&&on(r,"get",s),on(r,"get",u));const{has:c}=qc(r),f=e?Tv:t?bv:un;if(c.call(r,s))return f(a.get(s));if(c.call(r,u))return f(a.get(u));a!==r&&a.get(s)},get size(){const s=this.__v_raw;return!t&&on(jt(s),"iterate",no),Reflect.get(s,"size",s)},has(s){const a=this.__v_raw,r=jt(a),u=jt(s);return t||(ha(s,u)&&on(r,"has",s),on(r,"has",u)),s===u?a.has(s):a.has(s)||a.has(u)},forEach(s,a){const r=this,u=r.__v_raw,c=jt(u),f=e?Tv:t?bv:un;return!t&&on(c,"iterate",no),u.forEach((h,d)=>s.call(a,f(h),f(d),r))}};return Yr(n,t?{add:Gc("add"),set:Gc("set"),delete:Gc("delete"),clear:Gc("clear")}:{add(s){!e&&!hi(s)&&!ao(s)&&(s=jt(s));const a=jt(this);return qc(a).has.call(a,s)||(a.add(s),ws(a,"add",s,s)),this},set(s,a){!e&&!hi(a)&&!ao(a)&&(a=jt(a));const r=jt(this),{has:u,get:c}=qc(r);let f=u.call(r,s);f||(s=jt(s),f=u.call(r,s));const h=c.call(r,s);return r.set(s,a),f?ha(a,h)&&ws(r,"set",s,a):ws(r,"add",s,a),this},delete(s){const a=jt(this),{has:r,get:u}=qc(a);let c=r.call(a,s);c||(s=jt(s),c=r.call(a,s)),u&&u.call(a,s);const f=a.delete(s);return c&&ws(a,"delete",s,void 0),f},clear(){const s=jt(this),a=s.size!==0,r=s.clear();return a&&ws(s,"clear",void 0,void 0),r}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=W8(s,t,e)}),n}function ay(t,e){const n=X8(t,e);return(i,s,a)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?i:Reflect.get(Xt(n,s)&&s in i?n:i,s,a)}const H8={get:ay(!1,!1)},Y8={get:ay(!1,!0)},z8={get:ay(!0,!1)};const rN=new WeakMap,nN=new WeakMap,iN=new WeakMap,J8=new WeakMap;function Z8(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Q8(t){return t.__v_skip||!Object.isExtensible(t)?0:Z8(b8(t))}function bn(t){return ao(t)?t:oy(t,!1,q8,H8,rN)}function eK(t){return oy(t,!1,j8,Y8,nN)}function sN(t){return oy(t,!0,G8,z8,iN)}function oy(t,e,n,i,s){if(!ir(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=s.get(t);if(a)return a;const r=Q8(t);if(r===0)return t;const u=new Proxy(t,r===2?i:n);return s.set(t,u),u}function Zo(t){return ao(t)?Zo(t.__v_raw):!!(t&&t.__v_isReactive)}function ao(t){return!!(t&&t.__v_isReadonly)}function hi(t){return!!(t&&t.__v_isShallow)}function uy(t){return t?!!t.__v_raw:!1}function jt(t){const e=t&&t.__v_raw;return e?jt(e):t}function Qo(t){return!Xt(t,"__v_skip")&&Object.isExtensible(t)&&KI(t,"__v_skip",!0),t}const un=t=>ir(t)?bn(t):t,bv=t=>ir(t)?sN(t):t;function rn(t){return t?t.__v_isRef===!0:!1}function Ja(t){return oN(t,!1)}function aN(t){return oN(t,!0)}function oN(t,e){return rn(t)?t:new tK(t,e)}class tK{constructor(e,n){this.dep=new sy,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:jt(e),this._value=n?e:un(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,i=this.__v_isShallow||hi(e)||ao(e);e=i?e:jt(e),ha(e,n)&&(this._rawValue=e,this._value=i?e:un(e),this.dep.trigger())}}function rK(t){return rn(t)?t.value:t}const nK={get:(t,e,n)=>e==="__v_raw"?t:rK(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const s=t[e];return rn(s)&&!rn(n)?(s.value=n,!0):Reflect.set(t,e,n,i)}};function uN(t){return Zo(t)?t:new Proxy(t,nK)}class iK{constructor(e,n,i){this.fn=e,this.setter=n,this._value=void 0,this.dep=new sy(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=vl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&or!==this)return XI(this,!0),!0}get value(){const e=this.dep.track();return zI(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sK(t,e,n=!1){let i,s;return It(t)?i=t:(i=t.get,s=t.set),new iK(i,s,n)}const jc={},_f=new WeakMap;let za;function aK(t,e=!1,n=za){if(n){let i=_f.get(n);i||_f.set(n,i=[]),i.push(t)}}function oK(t,e,n=nr){const{immediate:i,deep:s,once:a,scheduler:r,augmentJob:u,call:c}=n,f=C=>s?C:hi(C)||s===!1||s===0?Os(C,1):Os(C);let h,d,g,E,v=!1,S=!1;if(rn(t)?(d=()=>t.value,v=hi(t)):Zo(t)?(d=()=>f(t),v=!0):mt(t)?(S=!0,v=t.some(C=>Zo(C)||hi(C)),d=()=>t.map(C=>{if(rn(C))return C.value;if(Zo(C))return f(C);if(It(C))return c?c(C,2):C()})):It(t)?e?d=c?()=>c(t,2):t:d=()=>{if(g){ya();try{g()}finally{Ta()}}const C=za;za=h;try{return c?c(t,3,[E]):t(E)}finally{za=C}}:d=es,e&&s){const C=d,R=s===!0?1/0:s;d=()=>Os(C(),R)}const x=D8(),A=()=>{h.stop(),x&&x.active&&ey(x.effects,h)};if(a&&e){const C=e;e=(...R)=>{C(...R),A()}}let w=S?new Array(t.length).fill(jc):jc;const I=C=>{if(!(!(h.flags&1)||!h.dirty&&!C))if(e){const R=h.run();if(s||v||(S?R.some((_,L)=>ha(_,w[L])):ha(R,w))){g&&g();const _=za;za=h;try{const L=[R,w===jc?void 0:S&&w[0]===jc?[]:w,E];c?c(e,3,L):e(...L),w=R}finally{za=_}}}else h.run()};return u&&u(I),h=new jI(d),h.scheduler=r?()=>r(I,!1):I,E=C=>aK(C,!1,h),g=h.onStop=()=>{const C=_f.get(h);if(C){if(c)c(C,4);else for(const R of C)R();_f.delete(h)}},e?i?I(!0):w=h.run():r?r(I.bind(null,!0),!0):h.run(),A.pause=h.pause.bind(h),A.resume=h.resume.bind(h),A.stop=A,A}function Os(t,e=1/0,n){if(e<=0||!ir(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,rn(t))Os(t.value,e,n);else if(mt(t))for(let i=0;i<t.length;i++)Os(t[i],e,n);else if(Ff(t)||Jo(t))t.forEach(i=>{Os(i,e,n)});else if(MI(t)){for(const i in t)Os(t[i],e,n);for(const i of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,i)&&Os(t[i],e,n)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function kl(t,e,n,i){try{return i?t(...i):t()}catch(s){Hf(s,e,n)}}function Di(t,e,n,i){if(It(t)){const s=kl(t,e,n,i);return s&&BI(s)&&s.catch(a=>{Hf(a,e,n)}),s}if(mt(t)){const s=[];for(let a=0;a<t.length;a++)s.push(Di(t[a],e,n,i));return s}}function Hf(t,e,n,i=!0){const s=e?e.vnode:null,{errorHandler:a,throwUnhandledErrorInProduction:r}=e&&e.appContext.config||nr;if(e){let u=e.parent;const c=e.proxy,f=`https://vuejs.org/error-reference/#runtime-${n}`;for(;u;){const h=u.ec;if(h){for(let d=0;d<h.length;d++)if(h[d](t,c,f)===!1)return}u=u.parent}if(a){ya(),kl(a,null,10,[t,c,f]),Ta();return}}uK(t,n,s,i,r)}function uK(t,e,n,i=!0,s=!1){if(s)throw t;console.error(t)}const gn=[];let Yi=-1;const eu=[];let oa=null,Fo=0;const lN=Promise.resolve();let mf=null;function lK(t){const e=mf||lN;return t?e.then(this?t.bind(this):t):e}function cK(t){let e=Yi+1,n=gn.length;for(;e<n;){const i=e+n>>>1,s=gn[i],a=Tl(s);a<t||a===t&&s.flags&2?e=i+1:n=i}return e}function ly(t){if(!(t.flags&1)){const e=Tl(t),n=gn[gn.length-1];!n||!(t.flags&2)&&e>=Tl(n)?gn.push(t):gn.splice(cK(e),0,t),t.flags|=1,cN()}}function cN(){mf||(mf=lN.then(hN))}function fK(t){mt(t)?eu.push(...t):oa&&t.id===-1?oa.splice(Fo+1,0,t):t.flags&1||(eu.push(t),t.flags|=1),cN()}function gR(t,e,n=Yi+1){for(;n<gn.length;n++){const i=gn[n];if(i&&i.flags&2){if(t&&i.id!==t.uid)continue;gn.splice(n,1),n--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function fN(t){if(eu.length){const e=[...new Set(eu)].sort((n,i)=>Tl(n)-Tl(i));if(eu.length=0,oa){oa.push(...e);return}for(oa=e,Fo=0;Fo<oa.length;Fo++){const n=oa[Fo];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}oa=null,Fo=0}}const Tl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function hN(t){try{for(Yi=0;Yi<gn.length;Yi++){const e=gn[Yi];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),kl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Yi<gn.length;Yi++){const e=gn[Yi];e&&(e.flags&=-2)}Yi=-1,gn.length=0,fN(),mf=null,(gn.length||eu.length)&&hN()}}let Wr=null,pN=null;function gf(t){const e=Wr;return Wr=t,pN=t&&t.type.__scopeId||null,e}function Ds(t,e=Wr,n){if(!e||t._n)return t;const i=(...s)=>{i._d&&LR(-1);const a=gf(e);let r;try{r=t(...s)}finally{gf(a),i._d&&LR(1)}return r};return i._n=!0,i._c=!0,i._d=!0,i}function St(t,e){if(Wr===null)return t;const n=Zf(Wr),i=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[a,r,u,c=nr]=e[s];a&&(It(a)&&(a={mounted:a,updated:a}),a.deep&&Os(r),i.push({dir:a,instance:n,value:r,oldValue:void 0,arg:u,modifiers:c}))}return t}function Ga(t,e,n,i){const s=t.dirs,a=e&&e.dirs;for(let r=0;r<s.length;r++){const u=s[r];a&&(u.oldValue=a[r].value);let c=u.dir[i];c&&(ya(),Di(c,n,8,[t.el,u,t,e]),Ta())}}const hK=Symbol("_vte"),dN=t=>t.__isTeleport,ua=Symbol("_leaveCb"),Wc=Symbol("_enterCb");function pK(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return cy(()=>{t.isMounted=!0}),RN(()=>{t.isUnmounting=!0}),t}const ci=[Function,Array],_N={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ci,onEnter:ci,onAfterEnter:ci,onEnterCancelled:ci,onBeforeLeave:ci,onLeave:ci,onAfterLeave:ci,onLeaveCancelled:ci,onBeforeAppear:ci,onAppear:ci,onAfterAppear:ci,onAppearCancelled:ci},mN=t=>{const e=t.subTree;return e.component?mN(e.component):e},dK={name:"BaseTransition",props:_N,setup(t,{slots:e}){const n=uu(),i=pK();return()=>{const s=e.default&&vN(e.default(),!0);if(!s||!s.length)return;const a=gN(s),r=jt(t),{mode:u}=r;if(i.isLeaving)return nd(a);const c=ER(a);if(!c)return nd(a);let f=Rv(c,r,i,n,d=>f=d);c.type!==yn&&bl(c,f);let h=n.subTree&&ER(n.subTree);if(h&&h.type!==yn&&!Za(c,h)&&mN(n).type!==yn){let d=Rv(h,r,i,n);if(bl(h,d),u==="out-in"&&c.type!==yn)return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.job.flags&8||n.update(),delete d.afterLeave,h=void 0},nd(a);u==="in-out"&&c.type!==yn?d.delayLeave=(g,E,v)=>{const S=EN(i,h);S[String(h.key)]=h,g[ua]=()=>{E(),g[ua]=void 0,delete f.delayedLeave,h=void 0},f.delayedLeave=()=>{v(),delete f.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return a}}};function gN(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==yn){e=n;break}}return e}const _K=dK;function EN(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function Rv(t,e,n,i,s){const{appear:a,mode:r,persisted:u=!1,onBeforeEnter:c,onEnter:f,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:g,onLeave:E,onAfterLeave:v,onLeaveCancelled:S,onBeforeAppear:x,onAppear:A,onAfterAppear:w,onAppearCancelled:I}=e,C=String(t.key),R=EN(n,t),_=(O,k)=>{O&&Di(O,i,9,k)},L=(O,k)=>{const j=k[1];_(O,k),mt(O)?O.every(B=>B.length<=1)&&j():O.length<=1&&j()},b={mode:r,persisted:u,beforeEnter(O){let k=c;if(!n.isMounted)if(a)k=x||c;else return;O[ua]&&O[ua](!0);const j=R[C];j&&Za(t,j)&&j.el[ua]&&j.el[ua](),_(k,[O])},enter(O){let k=f,j=h,B=d;if(!n.isMounted)if(a)k=A||f,j=w||h,B=I||d;else return;let ae=!1;const fe=O[Wc]=G=>{ae||(ae=!0,G?_(B,[O]):_(j,[O]),b.delayedLeave&&b.delayedLeave(),O[Wc]=void 0)};k?L(k,[O,fe]):fe()},leave(O,k){const j=String(t.key);if(O[Wc]&&O[Wc](!0),n.isUnmounting)return k();_(g,[O]);let B=!1;const ae=O[ua]=fe=>{B||(B=!0,k(),fe?_(S,[O]):_(v,[O]),O[ua]=void 0,R[j]===t&&delete R[j])};R[j]=t,E?L(E,[O,ae]):ae()},clone(O){const k=Rv(O,e,n,i,s);return s&&s(k),k}};return b}function nd(t){if(Yf(t))return t=da(t),t.children=null,t}function ER(t){if(!Yf(t))return dN(t.type)&&t.children?gN(t.children):t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&It(n.default))return n.default()}}function bl(t,e){t.shapeFlag&6&&t.component?(t.transition=e,bl(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function vN(t,e=!1,n){let i=[],s=0;for(let a=0;a<t.length;a++){let r=t[a];const u=n==null?r.key:String(n)+String(r.key!=null?r.key:a);r.type===ht?(r.patchFlag&128&&s++,i=i.concat(vN(r.children,e,u))):(e||r.type!==yn)&&i.push(u!=null?da(r,{key:u}):r)}if(s>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function dt(t,e){return It(t)?Yr({name:t.name},e,{setup:t}):t}function yN(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Ef(t,e,n,i,s=!1){if(mt(t)){t.forEach((v,S)=>Ef(v,e&&(mt(e)?e[S]:e),n,i,s));return}if(tu(i)&&!s){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Ef(t,e,n,i.component.subTree);return}const a=i.shapeFlag&4?Zf(i.component):i.el,r=s?null:a,{i:u,r:c}=t,f=e&&e.r,h=u.refs===nr?u.refs={}:u.refs,d=u.setupState,g=jt(d),E=d===nr?()=>!1:v=>Xt(g,v);if(f!=null&&f!==c&&(Rr(f)?(h[f]=null,E(f)&&(d[f]=null)):rn(f)&&(f.value=null)),It(c))kl(c,u,12,[r,h]);else{const v=Rr(c),S=rn(c);if(v||S){const x=()=>{if(t.f){const A=v?E(c)?d[c]:h[c]:c.value;s?mt(A)&&ey(A,a):mt(A)?A.includes(a)||A.push(a):v?(h[c]=[a],E(c)&&(d[c]=h[c])):(c.value=[a],t.k&&(h[t.k]=c.value))}else v?(h[c]=r,E(c)&&(d[c]=r)):S&&(c.value=r,t.k&&(h[t.k]=r))};r?(x.id=-1,Gn(x,n)):x()}}}jf().requestIdleCallback;jf().cancelIdleCallback;const tu=t=>!!t.type.__asyncLoader,Yf=t=>t.type.__isKeepAlive;function mK(t,e){TN(t,"a",e)}function gK(t,e){TN(t,"da",e)}function TN(t,e,n=tn){const i=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(zf(e,i,n),n){let s=n.parent;for(;s&&s.parent;)Yf(s.parent.vnode)&&EK(i,e,n,s),s=s.parent}}function EK(t,e,n,i){const s=zf(e,t,i,!0);fy(()=>{ey(i[e],s)},n)}function zf(t,e,n=tn,i=!1){if(n){const s=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...r)=>{ya();const u=Ml(n),c=Di(e,n,t,r);return u(),Ta(),c});return i?s.unshift(a):s.push(a),a}}const Ms=t=>(e,n=tn)=>{(!Sl||t==="sp")&&zf(t,(...i)=>e(...i),n)},bN=Ms("bm"),cy=Ms("m"),vK=Ms("bu"),yK=Ms("u"),RN=Ms("bum"),fy=Ms("um"),TK=Ms("sp"),bK=Ms("rtg"),RK=Ms("rtc");function xK(t,e=tn){zf("ec",t,e)}const hy="components",SK="directives";function ct(t,e){return py(hy,t,!0,e)||t}const xN=Symbol.for("v-ndc");function Dl(t){return Rr(t)?py(hy,t,!1)||t:t||xN}function Kr(t){return py(SK,t)}function py(t,e,n=!0,i=!1){const s=Wr||tn;if(s){const a=s.type;if(t===hy){const u=f$(a,!1);if(u&&(u===e||u===_i(e)||u===Gf(_i(e))))return a}const r=vR(s[t]||a[t],e)||vR(s.appContext[t],e);return!r&&i?a:r}}function vR(t,e){return t&&(t[e]||t[_i(e)]||t[Gf(_i(e))])}function Qt(t,e,n,i){let s;const a=n,r=mt(t);if(r||Rr(t)){const u=r&&Zo(t);let c=!1;u&&(c=!hi(t),t=Xf(t)),s=new Array(t.length);for(let f=0,h=t.length;f<h;f++)s[f]=e(c?un(t[f]):t[f],f,void 0,a)}else if(typeof t=="number"){s=new Array(t);for(let u=0;u<t;u++)s[u]=e(u+1,u,void 0,a)}else if(ir(t))if(t[Symbol.iterator])s=Array.from(t,(u,c)=>e(u,c,void 0,a));else{const u=Object.keys(t);s=new Array(u.length);for(let c=0,f=u.length;c<f;c++){const h=u[c];s[c]=e(t[h],h,c,a)}}else s=[];return s}function cl(t,e,n={},i,s){if(Wr.ce||Wr.parent&&tu(Wr.parent)&&Wr.parent.ce)return e!=="default"&&(n.name=e),Y(),Ht(ht,null,[ft("slot",n,i)],64);let a=t[e];a&&a._c&&(a._d=!1),Y();const r=a&&SN(a(n)),u=n.key||r&&r.key,c=Ht(ht,{key:(u&&!ki(u)?u:`_${e}`)+""},r||[],r&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),a&&a._c&&(a._d=!0),c}function SN(t){return t.some(e=>xl(e)?!(e.type===yn||e.type===ht&&!SN(e.children)):!0)?t:null}const xv=t=>t?WN(t)?Zf(t):xv(t.parent):null,fl=Yr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xv(t.parent),$root:t=>xv(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>AN(t),$forceUpdate:t=>t.f||(t.f=()=>{ly(t.update)}),$nextTick:t=>t.n||(t.n=lK.bind(t.proxy)),$watch:t=>XK.bind(t)}),id=(t,e)=>t!==nr&&!t.__isScriptSetup&&Xt(t,e),CK={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:s,props:a,accessCache:r,type:u,appContext:c}=t;let f;if(e[0]!=="$"){const E=r[e];if(E!==void 0)switch(E){case 1:return i[e];case 2:return s[e];case 4:return n[e];case 3:return a[e]}else{if(id(i,e))return r[e]=1,i[e];if(s!==nr&&Xt(s,e))return r[e]=2,s[e];if((f=t.propsOptions[0])&&Xt(f,e))return r[e]=3,a[e];if(n!==nr&&Xt(n,e))return r[e]=4,n[e];Sv&&(r[e]=0)}}const h=fl[e];let d,g;if(h)return e==="$attrs"&&on(t.attrs,"get",""),h(t);if((d=u.__cssModules)&&(d=d[e]))return d;if(n!==nr&&Xt(n,e))return r[e]=4,n[e];if(g=c.config.globalProperties,Xt(g,e))return g[e]},set({_:t},e,n){const{data:i,setupState:s,ctx:a}=t;return id(s,e)?(s[e]=n,!0):i!==nr&&Xt(i,e)?(i[e]=n,!0):Xt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:s,propsOptions:a}},r){let u;return!!n[r]||t!==nr&&Xt(t,r)||id(e,r)||(u=a[0])&&Xt(u,r)||Xt(i,r)||Xt(fl,r)||Xt(s.config.globalProperties,r)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Xt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function yR(t){return mt(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Sv=!0;function AK(t){const e=AN(t),n=t.proxy,i=t.ctx;Sv=!1,e.beforeCreate&&TR(e.beforeCreate,t,"bc");const{data:s,computed:a,methods:r,watch:u,provide:c,inject:f,created:h,beforeMount:d,mounted:g,beforeUpdate:E,updated:v,activated:S,deactivated:x,beforeDestroy:A,beforeUnmount:w,destroyed:I,unmounted:C,render:R,renderTracked:_,renderTriggered:L,errorCaptured:b,serverPrefetch:O,expose:k,inheritAttrs:j,components:B,directives:ae,filters:fe}=e;if(f&&LK(f,i,null),r)for(const ce in r){const he=r[ce];It(he)&&(i[ce]=he.bind(n))}if(s){const ce=s.call(n,n);ir(ce)&&(t.data=bn(ce))}if(Sv=!0,a)for(const ce in a){const he=a[ce],we=It(he)?he.bind(n,n):It(he.get)?he.get.bind(n,n):es,Ae=!It(he)&&It(he.set)?he.set.bind(n):es,ye=Hn({get:we,set:Ae});Object.defineProperty(i,ce,{enumerable:!0,configurable:!0,get:()=>ye.value,set:W=>ye.value=W})}if(u)for(const ce in u)CN(u[ce],i,n,ce);if(c){const ce=It(c)?c.call(n):c;Reflect.ownKeys(ce).forEach(he=>{kK(he,ce[he])})}h&&TR(h,t,"c");function re(ce,he){mt(he)?he.forEach(we=>ce(we.bind(n))):he&&ce(he.bind(n))}if(re(bN,d),re(cy,g),re(vK,E),re(yK,v),re(mK,S),re(gK,x),re(xK,b),re(RK,_),re(bK,L),re(RN,w),re(fy,C),re(TK,O),mt(k))if(k.length){const ce=t.exposed||(t.exposed={});k.forEach(he=>{Object.defineProperty(ce,he,{get:()=>n[he],set:we=>n[he]=we})})}else t.exposed||(t.exposed={});R&&t.render===es&&(t.render=R),j!=null&&(t.inheritAttrs=j),B&&(t.components=B),ae&&(t.directives=ae),O&&yN(t)}function LK(t,e,n=es){mt(t)&&(t=Cv(t));for(const i in t){const s=t[i];let a;ir(s)?"default"in s?a=Ns(s.from||i,s.default,!0):a=Ns(s.from||i):a=Ns(s),rn(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:r=>a.value=r}):e[i]=a}}function TR(t,e,n){Di(mt(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function CN(t,e,n,i){let s=i.includes(".")?VN(n,i):()=>n[i];if(Rr(t)){const a=e[t];It(a)&&io(s,a)}else if(It(t))io(s,t.bind(n));else if(ir(t))if(mt(t))t.forEach(a=>CN(a,e,n,i));else{const a=It(t.handler)?t.handler.bind(n):e[t.handler];It(a)&&io(s,a,t)}}function AN(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:s,optionsCache:a,config:{optionMergeStrategies:r}}=t.appContext,u=a.get(e);let c;return u?c=u:!s.length&&!n&&!i?c=e:(c={},s.length&&s.forEach(f=>vf(c,f,r,!0)),vf(c,e,r)),ir(e)&&a.set(e,c),c}function vf(t,e,n,i=!1){const{mixins:s,extends:a}=e;a&&vf(t,a,n,!0),s&&s.forEach(r=>vf(t,r,n,!0));for(const r in e)if(!(i&&r==="expose")){const u=wK[r]||n&&n[r];t[r]=u?u(t[r],e[r]):e[r]}return t}const wK={data:bR,props:RR,emits:RR,methods:el,computed:el,beforeCreate:_n,created:_n,beforeMount:_n,mounted:_n,beforeUpdate:_n,updated:_n,beforeDestroy:_n,beforeUnmount:_n,destroyed:_n,unmounted:_n,activated:_n,deactivated:_n,errorCaptured:_n,serverPrefetch:_n,components:el,directives:el,watch:IK,provide:bR,inject:OK};function bR(t,e){return e?t?function(){return Yr(It(t)?t.call(this,this):t,It(e)?e.call(this,this):e)}:e:t}function OK(t,e){return el(Cv(t),Cv(e))}function Cv(t){if(mt(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function _n(t,e){return t?[...new Set([].concat(t,e))]:e}function el(t,e){return t?Yr(Object.create(null),t,e):e}function RR(t,e){return t?mt(t)&&mt(e)?[...new Set([...t,...e])]:Yr(Object.create(null),yR(t),yR(e??{})):e}function IK(t,e){if(!t)return e;if(!e)return t;const n=Yr(Object.create(null),t);for(const i in e)n[i]=_n(t[i],e[i]);return n}function LN(){return{app:null,config:{isNativeTag:y8,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let NK=0;function PK(t,e){return function(i,s=null){It(i)||(i=Yr({},i)),s!=null&&!ir(s)&&(s=null);const a=LN(),r=new WeakSet,u=[];let c=!1;const f=a.app={_uid:NK++,_component:i,_props:s,_container:null,_context:a,_instance:null,version:p$,get config(){return a.config},set config(h){},use(h,...d){return r.has(h)||(h&&It(h.install)?(r.add(h),h.install(f,...d)):It(h)&&(r.add(h),h(f,...d))),f},mixin(h){return a.mixins.includes(h)||a.mixins.push(h),f},component(h,d){return d?(a.components[h]=d,f):a.components[h]},directive(h,d){return d?(a.directives[h]=d,f):a.directives[h]},mount(h,d,g){if(!c){const E=f._ceVNode||ft(i,s);return E.appContext=a,g===!0?g="svg":g===!1&&(g=void 0),t(E,h,g),c=!0,f._container=h,h.__vue_app__=f,Zf(E.component)}},onUnmount(h){u.push(h)},unmount(){c&&(Di(u,f._instance,16),t(null,f._container),delete f._container.__vue_app__)},provide(h,d){return a.provides[h]=d,f},runWithContext(h){const d=ru;ru=f;try{return h()}finally{ru=d}}};return f}}let ru=null;function kK(t,e){if(tn){let n=tn.provides;const i=tn.parent&&tn.parent.provides;i===n&&(n=tn.provides=Object.create(i)),n[t]=e}}function Ns(t,e,n=!1){const i=tn||Wr;if(i||ru){const s=ru?ru._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&It(e)?e.call(i&&i.proxy):e}}const wN={},ON=()=>Object.create(wN),IN=t=>Object.getPrototypeOf(t)===wN;function DK(t,e,n,i=!1){const s={},a=ON();t.propsDefaults=Object.create(null),NN(t,e,s,a);for(const r in t.propsOptions[0])r in s||(s[r]=void 0);n?t.props=i?s:eK(s):t.type.props?t.props=s:t.props=a,t.attrs=a}function BK(t,e,n,i){const{props:s,attrs:a,vnode:{patchFlag:r}}=t,u=jt(s),[c]=t.propsOptions;let f=!1;if((i||r>0)&&!(r&16)){if(r&8){const h=t.vnode.dynamicProps;for(let d=0;d<h.length;d++){let g=h[d];if(Jf(t.emitsOptions,g))continue;const E=e[g];if(c)if(Xt(a,g))E!==a[g]&&(a[g]=E,f=!0);else{const v=_i(g);s[v]=Av(c,u,v,E,t,!1)}else E!==a[g]&&(a[g]=E,f=!0)}}}else{NN(t,e,s,a)&&(f=!0);let h;for(const d in u)(!e||!Xt(e,d)&&((h=va(d))===d||!Xt(e,h)))&&(c?n&&(n[d]!==void 0||n[h]!==void 0)&&(s[d]=Av(c,u,d,void 0,t,!0)):delete s[d]);if(a!==u)for(const d in a)(!e||!Xt(e,d))&&(delete a[d],f=!0)}f&&ws(t.attrs,"set","")}function NN(t,e,n,i){const[s,a]=t.propsOptions;let r=!1,u;if(e)for(let c in e){if(ol(c))continue;const f=e[c];let h;s&&Xt(s,h=_i(c))?!a||!a.includes(h)?n[h]=f:(u||(u={}))[h]=f:Jf(t.emitsOptions,c)||(!(c in i)||f!==i[c])&&(i[c]=f,r=!0)}if(a){const c=jt(n),f=u||nr;for(let h=0;h<a.length;h++){const d=a[h];n[d]=Av(s,c,d,f[d],t,!Xt(f,d))}}return r}function Av(t,e,n,i,s,a){const r=t[n];if(r!=null){const u=Xt(r,"default");if(u&&i===void 0){const c=r.default;if(r.type!==Function&&!r.skipFactory&&It(c)){const{propsDefaults:f}=s;if(n in f)i=f[n];else{const h=Ml(s);i=f[n]=c.call(null,e),h()}}else i=c;s.ce&&s.ce._setProp(n,i)}r[0]&&(a&&!u?i=!1:r[1]&&(i===""||i===va(n))&&(i=!0))}return i}const UK=new WeakMap;function PN(t,e,n=!1){const i=n?UK:e.propsCache,s=i.get(t);if(s)return s;const a=t.props,r={},u=[];let c=!1;if(!It(t)){const h=d=>{c=!0;const[g,E]=PN(d,e,!0);Yr(r,g),E&&u.push(...E)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!a&&!c)return ir(t)&&i.set(t,zo),zo;if(mt(a))for(let h=0;h<a.length;h++){const d=_i(a[h]);xR(d)&&(r[d]=nr)}else if(a)for(const h in a){const d=_i(h);if(xR(d)){const g=a[h],E=r[d]=mt(g)||It(g)?{type:g}:Yr({},g),v=E.type;let S=!1,x=!0;if(mt(v))for(let A=0;A<v.length;++A){const w=v[A],I=It(w)&&w.name;if(I==="Boolean"){S=!0;break}else I==="String"&&(x=!1)}else S=It(v)&&v.name==="Boolean";E[0]=S,E[1]=x,(S||Xt(E,"default"))&&u.push(d)}}const f=[r,u];return ir(t)&&i.set(t,f),f}function xR(t){return t[0]!=="$"&&!ol(t)}const kN=t=>t[0]==="_"||t==="$stable",dy=t=>mt(t)?t.map(zi):[zi(t)],MK=(t,e,n)=>{if(e._n)return e;const i=Ds((...s)=>dy(e(...s)),n);return i._c=!1,i},DN=(t,e,n)=>{const i=t._ctx;for(const s in t){if(kN(s))continue;const a=t[s];if(It(a))e[s]=MK(s,a,i);else if(a!=null){const r=dy(a);e[s]=()=>r}}},BN=(t,e)=>{const n=dy(e);t.slots.default=()=>n},UN=(t,e,n)=>{for(const i in e)(n||i!=="_")&&(t[i]=e[i])},KK=(t,e,n)=>{const i=t.slots=ON();if(t.vnode.shapeFlag&32){const s=e._;s?(UN(i,e,n),n&&KI(i,"_",s,!0)):DN(e,i)}else e&&BN(t,e)},$K=(t,e,n)=>{const{vnode:i,slots:s}=t;let a=!0,r=nr;if(i.shapeFlag&32){const u=e._;u?n&&u===1?a=!1:UN(s,e,n):(a=!e.$stable,DN(e,s)),r=e}else e&&(BN(t,e),r={default:1});if(a)for(const u in s)!kN(u)&&r[u]==null&&delete s[u]},Gn=e$;function VK(t){return FK(t)}function FK(t,e){const n=jf();n.__VUE__=!0;const{insert:i,remove:s,patchProp:a,createElement:r,createText:u,createComment:c,setText:f,setElementText:h,parentNode:d,nextSibling:g,setScopeId:E=es,insertStaticContent:v}=t,S=(H,Q,z,J=null,_e=null,ge=null,Ie=void 0,Re=null,D=!!Q.dynamicChildren)=>{if(H===Q)return;H&&!Za(H,Q)&&(J=xt(H),W(H,_e,ge,!0),H=null),Q.patchFlag===-2&&(D=!1,Q.dynamicChildren=null);const{type:M,ref:de,shapeFlag:Te}=Q;switch(M){case Bl:x(H,Q,z,J);break;case yn:A(H,Q,z,J);break;case lf:H==null&&w(Q,z,J,Ie);break;case ht:B(H,Q,z,J,_e,ge,Ie,Re,D);break;default:Te&1?R(H,Q,z,J,_e,ge,Ie,Re,D):Te&6?ae(H,Q,z,J,_e,ge,Ie,Re,D):(Te&64||Te&128)&&M.process(H,Q,z,J,_e,ge,Ie,Re,D,Ze)}de!=null&&_e&&Ef(de,H&&H.ref,ge,Q||H,!Q)},x=(H,Q,z,J)=>{if(H==null)i(Q.el=u(Q.children),z,J);else{const _e=Q.el=H.el;Q.children!==H.children&&f(_e,Q.children)}},A=(H,Q,z,J)=>{H==null?i(Q.el=c(Q.children||""),z,J):Q.el=H.el},w=(H,Q,z,J)=>{[H.el,H.anchor]=v(H.children,Q,z,J,H.el,H.anchor)},I=({el:H,anchor:Q},z,J)=>{let _e;for(;H&&H!==Q;)_e=g(H),i(H,z,J),H=_e;i(Q,z,J)},C=({el:H,anchor:Q})=>{let z;for(;H&&H!==Q;)z=g(H),s(H),H=z;s(Q)},R=(H,Q,z,J,_e,ge,Ie,Re,D)=>{Q.type==="svg"?Ie="svg":Q.type==="math"&&(Ie="mathml"),H==null?_(Q,z,J,_e,ge,Ie,Re,D):O(H,Q,_e,ge,Ie,Re,D)},_=(H,Q,z,J,_e,ge,Ie,Re)=>{let D,M;const{props:de,shapeFlag:Te,transition:Ge,dirs:Ue}=H;if(D=H.el=r(H.type,ge,de&&de.is,de),Te&8?h(D,H.children):Te&16&&b(H.children,D,null,J,_e,sd(H,ge),Ie,Re),Ue&&Ga(H,null,J,"created"),L(D,H,H.scopeId,Ie,J),de){for(const Le in de)Le!=="value"&&!ol(Le)&&a(D,Le,null,de[Le],ge,J);"value"in de&&a(D,"value",null,de.value,ge),(M=de.onVnodeBeforeMount)&&Hi(M,J,H)}Ue&&Ga(H,null,J,"beforeMount");const ve=qK(_e,Ge);ve&&Ge.beforeEnter(D),i(D,Q,z),((M=de&&de.onVnodeMounted)||ve||Ue)&&Gn(()=>{M&&Hi(M,J,H),ve&&Ge.enter(D),Ue&&Ga(H,null,J,"mounted")},_e)},L=(H,Q,z,J,_e)=>{if(z&&E(H,z),J)for(let ge=0;ge<J.length;ge++)E(H,J[ge]);if(_e){let ge=_e.subTree;if(Q===ge||qN(ge.type)&&(ge.ssContent===Q||ge.ssFallback===Q)){const Ie=_e.vnode;L(H,Ie,Ie.scopeId,Ie.slotScopeIds,_e.parent)}}},b=(H,Q,z,J,_e,ge,Ie,Re,D=0)=>{for(let M=D;M<H.length;M++){const de=H[M]=Re?la(H[M]):zi(H[M]);S(null,de,Q,z,J,_e,ge,Ie,Re)}},O=(H,Q,z,J,_e,ge,Ie)=>{const Re=Q.el=H.el;let{patchFlag:D,dynamicChildren:M,dirs:de}=Q;D|=H.patchFlag&16;const Te=H.props||nr,Ge=Q.props||nr;let Ue;if(z&&ja(z,!1),(Ue=Ge.onVnodeBeforeUpdate)&&Hi(Ue,z,Q,H),de&&Ga(Q,H,z,"beforeUpdate"),z&&ja(z,!0),(Te.innerHTML&&Ge.innerHTML==null||Te.textContent&&Ge.textContent==null)&&h(Re,""),M?k(H.dynamicChildren,M,Re,z,J,sd(Q,_e),ge):Ie||he(H,Q,Re,null,z,J,sd(Q,_e),ge,!1),D>0){if(D&16)j(Re,Te,Ge,z,_e);else if(D&2&&Te.class!==Ge.class&&a(Re,"class",null,Ge.class,_e),D&4&&a(Re,"style",Te.style,Ge.style,_e),D&8){const ve=Q.dynamicProps;for(let Le=0;Le<ve.length;Le++){const Je=ve[Le],X=Te[Je],q=Ge[Je];(q!==X||Je==="value")&&a(Re,Je,X,q,_e,z)}}D&1&&H.children!==Q.children&&h(Re,Q.children)}else!Ie&&M==null&&j(Re,Te,Ge,z,_e);((Ue=Ge.onVnodeUpdated)||de)&&Gn(()=>{Ue&&Hi(Ue,z,Q,H),de&&Ga(Q,H,z,"updated")},J)},k=(H,Q,z,J,_e,ge,Ie)=>{for(let Re=0;Re<Q.length;Re++){const D=H[Re],M=Q[Re],de=D.el&&(D.type===ht||!Za(D,M)||D.shapeFlag&70)?d(D.el):z;S(D,M,de,null,J,_e,ge,Ie,!0)}},j=(H,Q,z,J,_e)=>{if(Q!==z){if(Q!==nr)for(const ge in Q)!ol(ge)&&!(ge in z)&&a(H,ge,Q[ge],null,_e,J);for(const ge in z){if(ol(ge))continue;const Ie=z[ge],Re=Q[ge];Ie!==Re&&ge!=="value"&&a(H,ge,Re,Ie,_e,J)}"value"in z&&a(H,"value",Q.value,z.value,_e)}},B=(H,Q,z,J,_e,ge,Ie,Re,D)=>{const M=Q.el=H?H.el:u(""),de=Q.anchor=H?H.anchor:u("");let{patchFlag:Te,dynamicChildren:Ge,slotScopeIds:Ue}=Q;Ue&&(Re=Re?Re.concat(Ue):Ue),H==null?(i(M,z,J),i(de,z,J),b(Q.children||[],z,de,_e,ge,Ie,Re,D)):Te>0&&Te&64&&Ge&&H.dynamicChildren?(k(H.dynamicChildren,Ge,z,_e,ge,Ie,Re),(Q.key!=null||_e&&Q===_e.subTree)&&MN(H,Q,!0)):he(H,Q,z,de,_e,ge,Ie,Re,D)},ae=(H,Q,z,J,_e,ge,Ie,Re,D)=>{Q.slotScopeIds=Re,H==null?Q.shapeFlag&512?_e.ctx.activate(Q,z,J,Ie,D):fe(Q,z,J,_e,ge,Ie,D):G(H,Q,D)},fe=(H,Q,z,J,_e,ge,Ie)=>{const Re=H.component=a$(H,J,_e);if(Yf(H)&&(Re.ctx.renderer=Ze),o$(Re,!1,Ie),Re.asyncDep){if(_e&&_e.registerDep(Re,re,Ie),!H.el){const D=Re.subTree=ft(yn);A(null,D,Q,z)}}else re(Re,H,Q,z,_e,ge,Ie)},G=(H,Q,z)=>{const J=Q.component=H.component;if(ZK(H,Q,z))if(J.asyncDep&&!J.asyncResolved){ce(J,Q,z);return}else J.next=Q,J.update();else Q.el=H.el,J.vnode=Q},re=(H,Q,z,J,_e,ge,Ie)=>{const Re=()=>{if(H.isMounted){let{next:Te,bu:Ge,u:Ue,parent:ve,vnode:Le}=H;{const F=KN(H);if(F){Te&&(Te.el=Le.el,ce(H,Te,Ie)),F.asyncDep.then(()=>{H.isUnmounted||Re()});return}}let Je=Te,X;ja(H,!1),Te?(Te.el=Le.el,ce(H,Te,Ie)):Te=Le,Ge&&uf(Ge),(X=Te.props&&Te.props.onVnodeBeforeUpdate)&&Hi(X,ve,Te,Le),ja(H,!0);const q=CR(H),se=H.subTree;H.subTree=q,S(se,q,d(se.el),xt(se),H,_e,ge),Te.el=q.el,Je===null&&QK(H,q.el),Ue&&Gn(Ue,_e),(X=Te.props&&Te.props.onVnodeUpdated)&&Gn(()=>Hi(X,ve,Te,Le),_e)}else{let Te;const{el:Ge,props:Ue}=Q,{bm:ve,m:Le,parent:Je,root:X,type:q}=H,se=tu(Q);ja(H,!1),ve&&uf(ve),!se&&(Te=Ue&&Ue.onVnodeBeforeMount)&&Hi(Te,Je,Q),ja(H,!0);{X.ce&&X.ce._injectChildStyle(q);const F=H.subTree=CR(H);S(null,F,z,J,H,_e,ge),Q.el=F.el}if(Le&&Gn(Le,_e),!se&&(Te=Ue&&Ue.onVnodeMounted)){const F=Q;Gn(()=>Hi(Te,Je,F),_e)}(Q.shapeFlag&256||Je&&tu(Je.vnode)&&Je.vnode.shapeFlag&256)&&H.a&&Gn(H.a,_e),H.isMounted=!0,Q=z=J=null}};H.scope.on();const D=H.effect=new jI(Re);H.scope.off();const M=H.update=D.run.bind(D),de=H.job=D.runIfDirty.bind(D);de.i=H,de.id=H.uid,D.scheduler=()=>ly(de),ja(H,!0),M()},ce=(H,Q,z)=>{Q.component=H;const J=H.vnode.props;H.vnode=Q,H.next=null,BK(H,Q.props,J,z),$K(H,Q.children,z),ya(),gR(H),Ta()},he=(H,Q,z,J,_e,ge,Ie,Re,D=!1)=>{const M=H&&H.children,de=H?H.shapeFlag:0,Te=Q.children,{patchFlag:Ge,shapeFlag:Ue}=Q;if(Ge>0){if(Ge&128){Ae(M,Te,z,J,_e,ge,Ie,Re,D);return}else if(Ge&256){we(M,Te,z,J,_e,ge,Ie,Re,D);return}}Ue&8?(de&16&&ot(M,_e,ge),Te!==M&&h(z,Te)):de&16?Ue&16?Ae(M,Te,z,J,_e,ge,Ie,Re,D):ot(M,_e,ge,!0):(de&8&&h(z,""),Ue&16&&b(Te,z,J,_e,ge,Ie,Re,D))},we=(H,Q,z,J,_e,ge,Ie,Re,D)=>{H=H||zo,Q=Q||zo;const M=H.length,de=Q.length,Te=Math.min(M,de);let Ge;for(Ge=0;Ge<Te;Ge++){const Ue=Q[Ge]=D?la(Q[Ge]):zi(Q[Ge]);S(H[Ge],Ue,z,null,_e,ge,Ie,Re,D)}M>de?ot(H,_e,ge,!0,!1,Te):b(Q,z,J,_e,ge,Ie,Re,D,Te)},Ae=(H,Q,z,J,_e,ge,Ie,Re,D)=>{let M=0;const de=Q.length;let Te=H.length-1,Ge=de-1;for(;M<=Te&&M<=Ge;){const Ue=H[M],ve=Q[M]=D?la(Q[M]):zi(Q[M]);if(Za(Ue,ve))S(Ue,ve,z,null,_e,ge,Ie,Re,D);else break;M++}for(;M<=Te&&M<=Ge;){const Ue=H[Te],ve=Q[Ge]=D?la(Q[Ge]):zi(Q[Ge]);if(Za(Ue,ve))S(Ue,ve,z,null,_e,ge,Ie,Re,D);else break;Te--,Ge--}if(M>Te){if(M<=Ge){const Ue=Ge+1,ve=Ue<de?Q[Ue].el:J;for(;M<=Ge;)S(null,Q[M]=D?la(Q[M]):zi(Q[M]),z,ve,_e,ge,Ie,Re,D),M++}}else if(M>Ge)for(;M<=Te;)W(H[M],_e,ge,!0),M++;else{const Ue=M,ve=M,Le=new Map;for(M=ve;M<=Ge;M++){const ke=Q[M]=D?la(Q[M]):zi(Q[M]);ke.key!=null&&Le.set(ke.key,M)}let Je,X=0;const q=Ge-ve+1;let se=!1,F=0;const ie=new Array(q);for(M=0;M<q;M++)ie[M]=0;for(M=Ue;M<=Te;M++){const ke=H[M];if(X>=q){W(ke,_e,ge,!0);continue}let Z;if(ke.key!=null)Z=Le.get(ke.key);else for(Je=ve;Je<=Ge;Je++)if(ie[Je-ve]===0&&Za(ke,Q[Je])){Z=Je;break}Z===void 0?W(ke,_e,ge,!0):(ie[Z-ve]=M+1,Z>=F?F=Z:se=!0,S(ke,Q[Z],z,null,_e,ge,Ie,Re,D),X++)}const xe=se?GK(ie):zo;for(Je=xe.length-1,M=q-1;M>=0;M--){const ke=ve+M,Z=Q[ke],le=ke+1<de?Q[ke+1].el:J;ie[M]===0?S(null,Z,z,le,_e,ge,Ie,Re,D):se&&(Je<0||M!==xe[Je]?ye(Z,z,le,2):Je--)}}},ye=(H,Q,z,J,_e=null)=>{const{el:ge,type:Ie,transition:Re,children:D,shapeFlag:M}=H;if(M&6){ye(H.component.subTree,Q,z,J);return}if(M&128){H.suspense.move(Q,z,J);return}if(M&64){Ie.move(H,Q,z,Ze);return}if(Ie===ht){i(ge,Q,z);for(let Te=0;Te<D.length;Te++)ye(D[Te],Q,z,J);i(H.anchor,Q,z);return}if(Ie===lf){I(H,Q,z);return}if(J!==2&&M&1&&Re)if(J===0)Re.beforeEnter(ge),i(ge,Q,z),Gn(()=>Re.enter(ge),_e);else{const{leave:Te,delayLeave:Ge,afterLeave:Ue}=Re,ve=()=>i(ge,Q,z),Le=()=>{Te(ge,()=>{ve(),Ue&&Ue()})};Ge?Ge(ge,ve,Le):Le()}else i(ge,Q,z)},W=(H,Q,z,J=!1,_e=!1)=>{const{type:ge,props:Ie,ref:Re,children:D,dynamicChildren:M,shapeFlag:de,patchFlag:Te,dirs:Ge,cacheIndex:Ue}=H;if(Te===-2&&(_e=!1),Re!=null&&Ef(Re,null,z,H,!0),Ue!=null&&(Q.renderCache[Ue]=void 0),de&256){Q.ctx.deactivate(H);return}const ve=de&1&&Ge,Le=!tu(H);let Je;if(Le&&(Je=Ie&&Ie.onVnodeBeforeUnmount)&&Hi(Je,Q,H),de&6)je(H.component,z,J);else{if(de&128){H.suspense.unmount(z,J);return}ve&&Ga(H,null,Q,"beforeUnmount"),de&64?H.type.remove(H,Q,z,Ze,J):M&&!M.hasOnce&&(ge!==ht||Te>0&&Te&64)?ot(M,Q,z,!1,!0):(ge===ht&&Te&384||!_e&&de&16)&&ot(D,Q,z),J&&pe(H)}(Le&&(Je=Ie&&Ie.onVnodeUnmounted)||ve)&&Gn(()=>{Je&&Hi(Je,Q,H),ve&&Ga(H,null,Q,"unmounted")},z)},pe=H=>{const{type:Q,el:z,anchor:J,transition:_e}=H;if(Q===ht){He(z,J);return}if(Q===lf){C(H);return}const ge=()=>{s(z),_e&&!_e.persisted&&_e.afterLeave&&_e.afterLeave()};if(H.shapeFlag&1&&_e&&!_e.persisted){const{leave:Ie,delayLeave:Re}=_e,D=()=>Ie(z,ge);Re?Re(H.el,ge,D):D()}else ge()},He=(H,Q)=>{let z;for(;H!==Q;)z=g(H),s(H),H=z;s(Q)},je=(H,Q,z)=>{const{bum:J,scope:_e,job:ge,subTree:Ie,um:Re,m:D,a:M}=H;SR(D),SR(M),J&&uf(J),_e.stop(),ge&&(ge.flags|=8,W(Ie,H,Q,z)),Re&&Gn(Re,Q),Gn(()=>{H.isUnmounted=!0},Q),Q&&Q.pendingBranch&&!Q.isUnmounted&&H.asyncDep&&!H.asyncResolved&&H.suspenseId===Q.pendingId&&(Q.deps--,Q.deps===0&&Q.resolve())},ot=(H,Q,z,J=!1,_e=!1,ge=0)=>{for(let Ie=ge;Ie<H.length;Ie++)W(H[Ie],Q,z,J,_e)},xt=H=>{if(H.shapeFlag&6)return xt(H.component.subTree);if(H.shapeFlag&128)return H.suspense.next();const Q=g(H.anchor||H.el),z=Q&&Q[hK];return z?g(z):Q};let Me=!1;const pt=(H,Q,z)=>{H==null?Q._vnode&&W(Q._vnode,null,null,!0):S(Q._vnode||null,H,Q,null,null,null,z),Q._vnode=H,Me||(Me=!0,gR(),fN(),Me=!1)},Ze={p:S,um:W,m:ye,r:pe,mt:fe,mc:b,pc:he,pbc:k,n:xt,o:t};return{render:pt,hydrate:void 0,createApp:PK(pt)}}function sd({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ja({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function qK(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function MN(t,e,n=!1){const i=t.children,s=e.children;if(mt(i)&&mt(s))for(let a=0;a<i.length;a++){const r=i[a];let u=s[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=s[a]=la(s[a]),u.el=r.el),!n&&u.patchFlag!==-2&&MN(r,u)),u.type===Bl&&(u.el=r.el)}}function GK(t){const e=t.slice(),n=[0];let i,s,a,r,u;const c=t.length;for(i=0;i<c;i++){const f=t[i];if(f!==0){if(s=n[n.length-1],t[s]<f){e[i]=s,n.push(i);continue}for(a=0,r=n.length-1;a<r;)u=a+r>>1,t[n[u]]<f?a=u+1:r=u;f<t[n[a]]&&(a>0&&(e[i]=n[a-1]),n[a]=i)}}for(a=n.length,r=n[a-1];a-- >0;)n[a]=r,r=e[r];return n}function KN(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:KN(e)}function SR(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const jK=Symbol.for("v-scx"),WK=()=>Ns(jK);function io(t,e,n){return $N(t,e,n)}function $N(t,e,n=nr){const{immediate:i,deep:s,flush:a,once:r}=n,u=Yr({},n),c=e&&i||!e&&a!=="post";let f;if(Sl){if(a==="sync"){const E=WK();f=E.__watcherHandles||(E.__watcherHandles=[])}else if(!c){const E=()=>{};return E.stop=es,E.resume=es,E.pause=es,E}}const h=tn;u.call=(E,v,S)=>Di(E,h,v,S);let d=!1;a==="post"?u.scheduler=E=>{Gn(E,h&&h.suspense)}:a!=="sync"&&(d=!0,u.scheduler=(E,v)=>{v?E():ly(E)}),u.augmentJob=E=>{e&&(E.flags|=4),d&&(E.flags|=2,h&&(E.id=h.uid,E.i=h))};const g=oK(t,e,u);return Sl&&(f?f.push(g):c&&g()),g}function XK(t,e,n){const i=this.proxy,s=Rr(t)?t.includes(".")?VN(i,t):()=>i[t]:t.bind(i,i);let a;It(e)?a=e:(a=e.handler,n=e);const r=Ml(this),u=$N(s,a.bind(i),n);return r(),u}function VN(t,e){const n=e.split(".");return()=>{let i=t;for(let s=0;s<n.length&&i;s++)i=i[n[s]];return i}}const HK=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${_i(e)}Modifiers`]||t[`${va(e)}Modifiers`];function YK(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||nr;let s=n;const a=e.startsWith("update:"),r=a&&HK(i,e.slice(7));r&&(r.trim&&(s=n.map(h=>Rr(h)?h.trim():h)),r.number&&(s=n.map(gv)));let u,c=i[u=Zp(e)]||i[u=Zp(_i(e))];!c&&a&&(c=i[u=Zp(va(e))]),c&&Di(c,t,6,s);const f=i[u+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[u])return;t.emitted[u]=!0,Di(f,t,6,s)}}function FN(t,e,n=!1){const i=e.emitsCache,s=i.get(t);if(s!==void 0)return s;const a=t.emits;let r={},u=!1;if(!It(t)){const c=f=>{const h=FN(f,e,!0);h&&(u=!0,Yr(r,h))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!a&&!u?(ir(t)&&i.set(t,null),null):(mt(a)?a.forEach(c=>r[c]=null):Yr(r,a),ir(t)&&i.set(t,r),r)}function Jf(t,e){return!t||!Vf(e)?!1:(e=e.slice(2).replace(/Once$/,""),Xt(t,e[0].toLowerCase()+e.slice(1))||Xt(t,va(e))||Xt(t,e))}function CR(t){const{type:e,vnode:n,proxy:i,withProxy:s,propsOptions:[a],slots:r,attrs:u,emit:c,render:f,renderCache:h,props:d,data:g,setupState:E,ctx:v,inheritAttrs:S}=t,x=gf(t);let A,w;try{if(n.shapeFlag&4){const C=s||i,R=C;A=zi(f.call(R,C,h,d,E,g,v)),w=u}else{const C=e;A=zi(C.length>1?C(d,{attrs:u,slots:r,emit:c}):C(d,null)),w=e.props?u:zK(u)}}catch(C){hl.length=0,Hf(C,t,1),A=ft(yn)}let I=A;if(w&&S!==!1){const C=Object.keys(w),{shapeFlag:R}=I;C.length&&R&7&&(a&&C.some(Qv)&&(w=JK(w,a)),I=da(I,w,!1,!0))}return n.dirs&&(I=da(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(n.dirs):n.dirs),n.transition&&bl(I,n.transition),A=I,gf(x),A}const zK=t=>{let e;for(const n in t)(n==="class"||n==="style"||Vf(n))&&((e||(e={}))[n]=t[n]);return e},JK=(t,e)=>{const n={};for(const i in t)(!Qv(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function ZK(t,e,n){const{props:i,children:s,component:a}=t,{props:r,children:u,patchFlag:c}=e,f=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return i?AR(i,r,f):!!r;if(c&8){const h=e.dynamicProps;for(let d=0;d<h.length;d++){const g=h[d];if(r[g]!==i[g]&&!Jf(f,g))return!0}}}else return(s||u)&&(!u||!u.$stable)?!0:i===r?!1:i?r?AR(i,r,f):!0:!!r;return!1}function AR(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let s=0;s<i.length;s++){const a=i[s];if(e[a]!==t[a]&&!Jf(n,a))return!0}return!1}function QK({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const qN=t=>t.__isSuspense;function e$(t,e){e&&e.pendingBranch?mt(t)?e.effects.push(...t):e.effects.push(t):fK(t)}const ht=Symbol.for("v-fgt"),Bl=Symbol.for("v-txt"),yn=Symbol.for("v-cmt"),lf=Symbol.for("v-stc"),hl=[];let Yn=null;function Y(t=!1){hl.push(Yn=t?null:[])}function t$(){hl.pop(),Yn=hl[hl.length-1]||null}let Rl=1;function LR(t,e=!1){Rl+=t,t<0&&Yn&&e&&(Yn.hasOnce=!0)}function GN(t){return t.dynamicChildren=Rl>0?Yn||zo:null,t$(),Rl>0&&Yn&&Yn.push(t),t}function te(t,e,n,i,s,a){return GN(V(t,e,n,i,s,a,!0))}function Ht(t,e,n,i,s){return GN(ft(t,e,n,i,s,!0))}function xl(t){return t?t.__v_isVNode===!0:!1}function Za(t,e){return t.type===e.type&&t.key===e.key}const jN=({key:t})=>t??null,cf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Rr(t)||rn(t)||It(t)?{i:Wr,r:t,k:e,f:!!n}:t:null);function V(t,e=null,n=null,i=0,s=null,a=t===ht?0:1,r=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&jN(e),ref:e&&cf(e),scopeId:pN,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Wr};return u?(_y(c,n),a&128&&t.normalize(c)):n&&(c.shapeFlag|=Rr(n)?8:16),Rl>0&&!r&&Yn&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Yn.push(c),c}const ft=r$;function r$(t,e=null,n=null,i=0,s=null,a=!1){if((!t||t===xN)&&(t=yn),xl(t)){const u=da(t,e,!0);return n&&_y(u,n),Rl>0&&!a&&Yn&&(u.shapeFlag&6?Yn[Yn.indexOf(t)]=u:Yn.push(u)),u.patchFlag=-2,u}if(h$(t)&&(t=t.__vccOpts),e){e=n$(e);let{class:u,style:c}=e;u&&!Rr(u)&&(e.class=et(u)),ir(c)&&(uy(c)&&!mt(c)&&(c=Yr({},c)),e.style=jr(c))}const r=Rr(t)?1:qN(t)?128:dN(t)?64:ir(t)?4:It(t)?2:0;return V(t,e,n,i,s,r,a,!0)}function n$(t){return t?uy(t)||IN(t)?Yr({},t):t:null}function da(t,e,n=!1,i=!1){const{props:s,ref:a,patchFlag:r,children:u,transition:c}=t,f=e?Ul(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:f,key:f&&jN(f),ref:e&&e.ref?n&&a?mt(a)?a.concat(cf(e)):[a,cf(e)]:cf(e):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ht?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&da(t.ssContent),ssFallback:t.ssFallback&&da(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&i&&bl(h,c.clone(h)),h}function Tr(t=" ",e=0){return ft(Bl,null,t,e)}function ba(t,e){const n=ft(lf,null,t);return n.staticCount=e,n}function Ke(t="",e=!1){return e?(Y(),Ht(yn,null,t)):ft(yn,null,t)}function zi(t){return t==null||typeof t=="boolean"?ft(yn):mt(t)?ft(ht,null,t.slice()):xl(t)?la(t):ft(Bl,null,String(t))}function la(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:da(t)}function _y(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(mt(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),_y(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!IN(e)?e._ctx=Wr:s===3&&Wr&&(Wr.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else It(e)?(e={default:e,_ctx:Wr},n=32):(e=String(e),i&64?(n=16,e=[Tr(e)]):n=8);t.children=e,t.shapeFlag|=n}function Ul(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=et([e.class,i.class]));else if(s==="style")e.style=jr([e.style,i.style]);else if(Vf(s)){const a=e[s],r=i[s];r&&a!==r&&!(mt(a)&&a.includes(r))&&(e[s]=a?[].concat(a,r):r)}else s!==""&&(e[s]=i[s])}return e}function Hi(t,e,n,i=null){Di(t,e,7,[n,i])}const i$=LN();let s$=0;function a$(t,e,n){const i=t.type,s=(e?e.appContext:t.appContext)||i$,a={uid:s$++,vnode:t,type:i,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new GI(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:PN(i,s),emitsOptions:FN(i,s),emit:null,emitted:null,propsDefaults:nr,inheritAttrs:i.inheritAttrs,ctx:nr,data:nr,props:nr,attrs:nr,slots:nr,refs:nr,setupState:nr,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=YK.bind(null,a),t.ce&&t.ce(a),a}let tn=null;const uu=()=>tn||Wr;let yf,Lv;{const t=jf(),e=(n,i)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(i),a=>{s.length>1?s.forEach(r=>r(a)):s[0](a)}};yf=e("__VUE_INSTANCE_SETTERS__",n=>tn=n),Lv=e("__VUE_SSR_SETTERS__",n=>Sl=n)}const Ml=t=>{const e=tn;return yf(t),t.scope.on(),()=>{t.scope.off(),yf(e)}},wR=()=>{tn&&tn.scope.off(),yf(null)};function WN(t){return t.vnode.shapeFlag&4}let Sl=!1;function o$(t,e=!1,n=!1){e&&Lv(e);const{props:i,children:s}=t.vnode,a=WN(t);DK(t,i,a,e),KK(t,s,n);const r=a?u$(t,e):void 0;return e&&Lv(!1),r}function u$(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,CK);const{setup:i}=n;if(i){ya();const s=t.setupContext=i.length>1?c$(t):null,a=Ml(t),r=kl(i,t,0,[t.props,s]),u=BI(r);if(Ta(),a(),(u||t.sp)&&!tu(t)&&yN(t),u){if(r.then(wR,wR),e)return r.then(c=>{OR(t,c)}).catch(c=>{Hf(c,t,0)});t.asyncDep=r}else OR(t,r)}else XN(t)}function OR(t,e,n){It(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ir(e)&&(t.setupState=uN(e)),XN(t)}function XN(t,e,n){const i=t.type;t.render||(t.render=i.render||es);{const s=Ml(t);ya();try{AK(t)}finally{Ta(),s()}}}const l$={get(t,e){return on(t,"get",""),t[e]}};function c$(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,l$),slots:t.slots,emit:t.emit,expose:e}}function Zf(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(uN(Qo(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in fl)return fl[n](t)},has(e,n){return n in e||n in fl}})):t.proxy}function f$(t,e=!0){return It(t)?t.displayName||t.name:t.name||e&&t.__name}function h$(t){return It(t)&&"__vccOpts"in t}const Hn=(t,e)=>sK(t,e,Sl);function my(t,e,n){const i=arguments.length;return i===2?ir(e)&&!mt(e)?xl(e)?ft(t,null,[e]):ft(t,e):ft(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&xl(n)&&(n=[n]),ft(t,e,n))}const p$="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let wv;const IR=typeof window<"u"&&window.trustedTypes;if(IR)try{wv=IR.createPolicy("vue",{createHTML:t=>t})}catch{}const HN=wv?t=>wv.createHTML(t):t=>t,d$="http://www.w3.org/2000/svg",_$="http://www.w3.org/1998/Math/MathML",Cs=typeof document<"u"?document:null,NR=Cs&&Cs.createElement("template"),m$={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const s=e==="svg"?Cs.createElementNS(d$,t):e==="mathml"?Cs.createElementNS(_$,t):n?Cs.createElement(t,{is:n}):Cs.createElement(t);return t==="select"&&i&&i.multiple!=null&&s.setAttribute("multiple",i.multiple),s},createText:t=>Cs.createTextNode(t),createComment:t=>Cs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Cs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,s,a){const r=n?n.previousSibling:e.lastChild;if(s&&(s===a||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===a||!(s=s.nextSibling)););else{NR.innerHTML=HN(i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t);const u=NR.content;if(i==="svg"||i==="mathml"){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}e.insertBefore(u,n)}return[r?r.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},na="transition",Xu="animation",Cl=Symbol("_vtc"),YN={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},g$=Yr({},_N,YN),E$=t=>(t.displayName="Transition",t.props=g$,t),zN=E$((t,{slots:e})=>my(_K,v$(t),e)),Wa=(t,e=[])=>{mt(t)?t.forEach(n=>n(...e)):t&&t(...e)},PR=t=>t?mt(t)?t.some(e=>e.length>1):t.length>1:!1;function v$(t){const e={};for(const B in t)B in YN||(e[B]=t[B]);if(t.css===!1)return e;const{name:n="v",type:i,duration:s,enterFromClass:a=`${n}-enter-from`,enterActiveClass:r=`${n}-enter-active`,enterToClass:u=`${n}-enter-to`,appearFromClass:c=a,appearActiveClass:f=r,appearToClass:h=u,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:E=`${n}-leave-to`}=t,v=y$(s),S=v&&v[0],x=v&&v[1],{onBeforeEnter:A,onEnter:w,onEnterCancelled:I,onLeave:C,onLeaveCancelled:R,onBeforeAppear:_=A,onAppear:L=w,onAppearCancelled:b=I}=e,O=(B,ae,fe,G)=>{B._enterCancelled=G,Xa(B,ae?h:u),Xa(B,ae?f:r),fe&&fe()},k=(B,ae)=>{B._isLeaving=!1,Xa(B,d),Xa(B,E),Xa(B,g),ae&&ae()},j=B=>(ae,fe)=>{const G=B?L:w,re=()=>O(ae,B,fe);Wa(G,[ae,re]),kR(()=>{Xa(ae,B?c:a),Rs(ae,B?h:u),PR(G)||DR(ae,i,S,re)})};return Yr(e,{onBeforeEnter(B){Wa(A,[B]),Rs(B,a),Rs(B,r)},onBeforeAppear(B){Wa(_,[B]),Rs(B,c),Rs(B,f)},onEnter:j(!1),onAppear:j(!0),onLeave(B,ae){B._isLeaving=!0;const fe=()=>k(B,ae);Rs(B,d),B._enterCancelled?(Rs(B,g),MR()):(MR(),Rs(B,g)),kR(()=>{B._isLeaving&&(Xa(B,d),Rs(B,E),PR(C)||DR(B,i,x,fe))}),Wa(C,[B,fe])},onEnterCancelled(B){O(B,!1,void 0,!0),Wa(I,[B])},onAppearCancelled(B){O(B,!0,void 0,!0),Wa(b,[B])},onLeaveCancelled(B){k(B),Wa(R,[B])}})}function y$(t){if(t==null)return null;if(ir(t))return[ad(t.enter),ad(t.leave)];{const e=ad(t);return[e,e]}}function ad(t){return S8(t)}function Rs(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Cl]||(t[Cl]=new Set)).add(e)}function Xa(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[Cl];n&&(n.delete(e),n.size||(t[Cl]=void 0))}function kR(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let T$=0;function DR(t,e,n,i){const s=t._endId=++T$,a=()=>{s===t._endId&&i()};if(n!=null)return setTimeout(a,n);const{type:r,timeout:u,propCount:c}=b$(t,e);if(!r)return i();const f=r+"end";let h=0;const d=()=>{t.removeEventListener(f,g),a()},g=E=>{E.target===t&&++h>=c&&d()};setTimeout(()=>{h<c&&d()},u+1),t.addEventListener(f,g)}function b$(t,e){const n=window.getComputedStyle(t),i=v=>(n[v]||"").split(", "),s=i(`${na}Delay`),a=i(`${na}Duration`),r=BR(s,a),u=i(`${Xu}Delay`),c=i(`${Xu}Duration`),f=BR(u,c);let h=null,d=0,g=0;e===na?r>0&&(h=na,d=r,g=a.length):e===Xu?f>0&&(h=Xu,d=f,g=c.length):(d=Math.max(r,f),h=d>0?r>f?na:Xu:null,g=h?h===na?a.length:c.length:0);const E=h===na&&/\b(transform|all)(,|$)/.test(i(`${na}Property`).toString());return{type:h,timeout:d,propCount:g,hasTransform:E}}function BR(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>UR(n)+UR(t[i])))}function UR(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function MR(){return document.body.offsetHeight}function R$(t,e,n){const i=t[Cl];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const KR=Symbol("_vod"),x$=Symbol("_vsh"),S$=Symbol(""),C$=/(^|;)\s*display\s*:/;function A$(t,e,n){const i=t.style,s=Rr(n);let a=!1;if(n&&!s){if(e)if(Rr(e))for(const r of e.split(";")){const u=r.slice(0,r.indexOf(":")).trim();n[u]==null&&ff(i,u,"")}else for(const r in e)n[r]==null&&ff(i,r,"");for(const r in n)r==="display"&&(a=!0),ff(i,r,n[r])}else if(s){if(e!==n){const r=i[S$];r&&(n+=";"+r),i.cssText=n,a=C$.test(n)}}else e&&t.removeAttribute("style");KR in t&&(t[KR]=a?i.display:"",t[x$]&&(i.display="none"))}const $R=/\s*!important$/;function ff(t,e,n){if(mt(n))n.forEach(i=>ff(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=L$(t,e);$R.test(n)?t.setProperty(va(i),n.replace($R,""),"important"):t[i]=n}}const VR=["Webkit","Moz","ms"],od={};function L$(t,e){const n=od[e];if(n)return n;let i=_i(e);if(i!=="filter"&&i in t)return od[e]=i;i=Gf(i);for(let s=0;s<VR.length;s++){const a=VR[s]+i;if(a in t)return od[e]=a}return e}const FR="http://www.w3.org/1999/xlink";function qR(t,e,n,i,s,a=N8(e)){i&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(FR,e.slice(6,e.length)):t.setAttributeNS(FR,e,n):n==null||a&&!$I(n)?t.removeAttribute(e):t.setAttribute(e,a?"":ki(n)?String(n):n)}function GR(t,e,n,i,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?HN(n):n);return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){const u=a==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(u!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let r=!1;if(n===""||n==null){const u=typeof t[e];u==="boolean"?n=$I(n):n==null&&u==="string"?(n="",r=!0):u==="number"&&(n=0,r=!0)}try{t[e]=n}catch{}r&&t.removeAttribute(s||e)}function Qa(t,e,n,i){t.addEventListener(e,n,i)}function w$(t,e,n,i){t.removeEventListener(e,n,i)}const jR=Symbol("_vei");function O$(t,e,n,i,s=null){const a=t[jR]||(t[jR]={}),r=a[e];if(i&&r)r.value=i;else{const[u,c]=I$(e);if(i){const f=a[e]=k$(i,s);Qa(t,u,f,c)}else r&&(w$(t,u,r,c),a[e]=void 0)}}const WR=/(?:Once|Passive|Capture)$/;function I$(t){let e;if(WR.test(t)){e={};let i;for(;i=t.match(WR);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):va(t.slice(2)),e]}let ud=0;const N$=Promise.resolve(),P$=()=>ud||(N$.then(()=>ud=0),ud=Date.now());function k$(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Di(D$(i,n.value),e,5,[i])};return n.value=t,n.attached=P$(),n}function D$(t,e){if(mt(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>s=>!s._stopped&&i&&i(s))}else return e}const XR=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,B$=(t,e,n,i,s,a)=>{const r=s==="svg";e==="class"?R$(t,i,r):e==="style"?A$(t,n,i):Vf(e)?Qv(e)||O$(t,e,n,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):U$(t,e,i,r))?(GR(t,e,i),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&qR(t,e,i,r,a,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Rr(i))?GR(t,_i(e),i,a,e):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),qR(t,e,i,r))};function U$(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&XR(e)&&It(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return XR(e)&&Rr(n)?!1:e in t}const Tf=t=>{const e=t.props["onUpdate:modelValue"]||!1;return mt(e)?n=>uf(e,n):e};function M$(t){t.target.composing=!0}function HR(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const nu=Symbol("_assign"),YR={created(t,{modifiers:{lazy:e,trim:n,number:i}},s){t[nu]=Tf(s);const a=i||s.props&&s.props.type==="number";Qa(t,e?"change":"input",r=>{if(r.target.composing)return;let u=t.value;n&&(u=u.trim()),a&&(u=gv(u)),t[nu](u)}),n&&Qa(t,"change",()=>{t.value=t.value.trim()}),e||(Qa(t,"compositionstart",M$),Qa(t,"compositionend",HR),Qa(t,"change",HR))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:i,trim:s,number:a}},r){if(t[nu]=Tf(r),t.composing)return;const u=(a||t.type==="number")&&!/^0\d/.test(t.value)?gv(t.value):t.value,c=e??"";u!==c&&(document.activeElement===t&&t.type!=="range"&&(i&&e===n||s&&t.value.trim()===c)||(t.value=c))}},K$={deep:!0,created(t,e,n){t[nu]=Tf(n),Qa(t,"change",()=>{const i=t._modelValue,s=$$(t),a=t.checked,r=t[nu];if(mt(i)){const u=VI(i,s),c=u!==-1;if(a&&!c)r(i.concat(s));else if(!a&&c){const f=[...i];f.splice(u,1),r(f)}}else if(Ff(i)){const u=new Set(i);a?u.add(s):u.delete(s),r(u)}else r(JN(t,a))})},mounted:zR,beforeUpdate(t,e,n){t[nu]=Tf(n),zR(t,e,n)}};function zR(t,{value:e,oldValue:n},i){t._modelValue=e;let s;if(mt(e))s=VI(e,i.props.value)>-1;else if(Ff(e))s=e.has(i.props.value);else{if(e===n)return;s=Wf(e,JN(t,!0))}t.checked!==s&&(t.checked=s)}function $$(t){return"_value"in t?t._value:t.value}function JN(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const V$=["ctrl","shift","alt","meta"],F$={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>V$.some(n=>t[`${n}Key`]&&!e.includes(n))},Ir=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(s,...a)=>{for(let r=0;r<e.length;r++){const u=F$[e[r]];if(u&&u(s,e))return}return t(s,...a)})},q$={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Bi=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=s=>{if(!("key"in s))return;const a=va(s.key);if(e.some(r=>r===a||q$[r]===a))return t(s)})},G$=Yr({patchProp:B$},m$);let JR;function j$(){return JR||(JR=VK(G$))}const ZN=(...t)=>{const e=j$().createApp(...t),{mount:n}=e;return e.mount=i=>{const s=X$(i);if(!s)return;const a=e._component;!It(a)&&!a.render&&!a.template&&(a.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const r=n(s,!1,W$(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),r},e};function W$(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function X$(t){return Rr(t)?document.querySelector(t):t}const H$=dt({props:{player:Object},methods:{onChoiceClick(t){const e=this.player.choices[t];if(e.send){this.$ecast.updateObject(this.player.responseKey,e.send).catch(this.$handleEcastError);return}const n=this.player.action??"choice",i=this.player.key??"value",s=e.value??t,a={action:n,[i]:s};this.$ecast.updateObject(this.player.responseKey,a).catch(this.$handleEcastError)}}}),rt=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},Y$={class:"choices"},z$={class:"constrain"},J$={key:0},Z$=["disabled","onClick"];function Q$(t,e,n,i,s,a){const r=Kr("bb");return Y(),te("div",Y$,[V("div",z$,[t.player.prompt?St((Y(),te("p",J$,null,512)),[[r,t.player.prompt]]):Ke("",!0),(Y(!0),te(ht,null,Qt(t.player.choices,(u,c)=>(Y(),te("button",{key:c,class:et({selected:u.isSelected}),disabled:u.isDisabled,onClick:Ir(f=>t.onChoiceClick(c),["prevent"])},nt(u.text),11,Z$))),128))])])}const e6=rt(H$,[["render",Q$]]);var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function is(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function t6(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var s=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:function(){return t[i]}})}),n}var ld={exports:{}},ZR;function r6(){return ZR||(ZR=1,function(t){(function(){function e(u,c){var f=u.x-c.x,h=u.y-c.y;return f*f+h*h}function n(u,c,f){var h=c.x,d=c.y,g=f.x-h,E=f.y-d;if(g!==0||E!==0){var v=((u.x-h)*g+(u.y-d)*E)/(g*g+E*E);v>1?(h=f.x,d=f.y):v>0&&(h+=g*v,d+=E*v)}return g=u.x-h,E=u.y-d,g*g+E*E}function i(u,c){for(var f=u[0],h=[f],d,g=1,E=u.length;g<E;g++)d=u[g],e(d,f)>c&&(h.push(d),f=d);return f!==d&&h.push(d),h}function s(u,c,f,h,d){for(var g=h,E,v=c+1;v<f;v++){var S=n(u[v],u[c],u[f]);S>g&&(E=v,g=S)}g>h&&(E-c>1&&s(u,c,E,h,d),d.push(u[E]),f-E>1&&s(u,E,f,h,d))}function a(u,c){var f=u.length-1,h=[u[0]];return s(u,0,f,c,h),h.push(u[f]),h}function r(u,c,f){if(u.length<=2)return u;var h=c!==void 0?c*c:1;return u=f?u:i(u,h),u=a(u,h),u}t.exports=r,t.exports.default=r})()}(ld)),ld.exports}var n6=r6();const QN=is(n6);let Xc=class{static toPrecision(e,n){const i=10**n;return Math.round((e+Number.EPSILON)*i)/i}};class i6{constructor(e,n,i){be(this,"DEFAULT_WIDTH",400);be(this,"DEFAULT_HEIGHT",400);be(this,"canvas");be(this,"ctx");be(this,"doodle");be(this,"brush","");be(this,"brushDrawFunctions",{});be(this,"color","#000000");be(this,"layer",0);be(this,"points",[]);be(this,"precision",2);be(this,"scale",{width:1,height:1});be(this,"tolerance",.5);be(this,"weight",4);be(this,"weightScale",1);be(this,"isInteracting",!1);var s,a,r;i!=null&&i.brush&&(this.brush=i.brush),i!=null&&i.brushDrawFunctions&&(this.brushDrawFunctions=i.brushDrawFunctions),i!=null&&i.color&&(this.color=i.color),i!=null&&i.layer&&(this.layer=i.layer),i!=null&&i.precision&&(this.precision=i.precision),i!=null&&i.scale&&(this.scale=i.scale),i!=null&&i.tolerance&&(this.tolerance=i.tolerance),i!=null&&i.weight&&(this.weight=i.weight),i!=null&&i.weightScale&&(this.weightScale=i.weightScale),e.width=(((s=n.size)==null?void 0:s.width)??this.DEFAULT_WIDTH)*this.scale.width,e.height=(((a=n.size)==null?void 0:a.height)??this.DEFAULT_HEIGHT)*this.scale.height,this.canvas=e,this.ctx=e.getContext("2d"),(r=this.ctx)==null||r.scale(this.scale.width,this.scale.height),this.doodle=n,this.doodle.lines.length&&this.drawLines()}addPoint(e){this.points.push(e)}normalizePoint(e){const n={x:e.x/this.scale.width,y:e.y/this.scale.height},i={x:Math.min(Math.max(.5*this.weight,n.x),this.canvas.width/this.scale.width-.5*this.weight),y:Math.min(Math.max(.5*this.weight,n.y),this.canvas.height/this.scale.height-.5*this.weight)};return{x:Xc.toPrecision(i.x,this.precision),y:Xc.toPrecision(i.y,this.precision)}}drawLines(){if(!this.ctx)return;this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);const e=this.doodle.maxLayer??0,n=Array.from({length:e+1},()=>{const a=document.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height;const r=a.getContext("2d");return r==null||r.scale(this.scale.width,this.scale.height),{canvas:a,ctx:r}}),i=a=>{if(a.color!=="transparent")return;const r=a.layer!=null?a.layer:this.layer;for(let u=0;u<=r;u++)this.drawLine(a,n[u].ctx)};Object.values(this.doodle.lines).forEach(a=>{const r=n[a.layer??0].ctx;a.color==="transparent"?i(a):this.drawLine(a,r)});const s={brush:this.brush,color:this.color,index:this.doodle.lines.length,layer:this.layer,points:this.points,weight:this.weight};this.color==="transparent"?i(s):this.drawLine(s,n[s.layer].ctx),n.forEach(({canvas:a})=>{this.ctx.drawImage(a,0,0,this.canvas.width/this.scale.width,this.canvas.height/this.scale.height)})}drawLine(e,n){if(!n)return;const i=e.brush&&this.brushDrawFunctions[e.brush];if(i){i(e,n);return}e.color==="transparent"?n.globalCompositeOperation="destination-out":(n.fillStyle=e.color,n.globalCompositeOperation="source-over",n.strokeStyle=e.color),n.lineCap="round",n.lineJoin="round",n.lineWidth=e.weight*this.weightScale,n.beginPath(),e.points.forEach((s,a)=>{e.points.length===1&&a===0&&(n.save(),n.arc(s.x,s.y,e.weight/2,0,2*Math.PI),n.fill(),n.restore(),n.beginPath()),n.lineTo(s.x,s.y)}),n.stroke()}renderImage(e="image/png"){return this.doodle.lines.length>0&&this.drawLines(),this.canvas.toDataURL(e)}onStart(e){this.isInteracting=!0;const n=this.normalizePoint(e);this.addPoint(n),this.drawLines()}onMove(e){if(!this.isInteracting)return;const n=this.points[this.points.length-1];if(!n){this.addPoint(this.normalizePoint(e));return}const i=.5*this.weight,s={x:e.x-n.x,y:e.y-n.y},a=Math.sqrt(s.x**2+s.y**2);if(a>i){const r=(a-i)/a,u={x:s.x*r,y:s.y*r},c={x:n.x+u.x,y:n.y+u.y};this.addPoint(this.normalizePoint(c)),this.drawLines()}}onEnd(){if(!this.isInteracting)return null;const e={brush:this.brush,color:this.color,index:this.doodle.lines.length,layer:this.layer,points:QN(this.points,this.tolerance).map(n=>({x:Xc.toPrecision(n.x,this.precision),y:Xc.toPrecision(n.y,this.precision)})),weight:this.weight};return this.isInteracting=!1,this.points=[],e}}const s6=dt({props:{canvasOptions:Object,hideSubmit:Boolean,hideUndo:Boolean,player:Object},data(){return{canvas:null,isSubmitting:!1,isUndoing:!1}},computed:{canSubmit(){return!(this.isSubmitting||this.isUndoing||this.player.doodle.lines.length<=0)},pointerBoxWidth(){var e,n,i;let t=320;return(e=this.player.doodle.size)!=null&&e.width&&(t=this.player.doodle.size.width),t*(((i=(n=this.canvasOptions)==null?void 0:n.scale)==null?void 0:i.width)??1)},pointerBoxHeight(){var e,n,i;let t=320;return(e=this.player.doodle.size)!=null&&e.height&&(t=this.player.doodle.size.height),t*(((i=(n=this.canvasOptions)==null?void 0:n.scale)==null?void 0:i.height)??1)}},watch:{canvasOptions:function(e){this.canvas&&(this.canvas.brush=e.brush??"",this.canvas.color=e.color??"#000000",this.canvas.layer=e.layer??0,this.canvas.precision=e.precision??2,this.canvas.scale=e.scale??{width:1,height:1},this.canvas.tolerance=e.tolerance??.5,this.canvas.weight=e.weight??4)},"player.doodle.key":function(){this.createCanvas()},"player.doodle.lines":{handler(){this.canvas&&this.canvas.drawLines()},deep:!0}},beforeMount(){const t=uu();if(!(t!=null&&t.appContext.directives.pointerbox))throw new Error("Doodle.vue relies on PointerBoxPlugin. Please install it inside your main.ts file.")},mounted(){this.createCanvas()},methods:{createCanvas(){const t=this.$refs.canvas;this.canvas=bn(new i6(t,this.player.doodle,this.canvasOptions))},onPointerBoxStart(t){if(!this.canvas)return;const e={x:t.detail.translations.doodleCanvas.x,y:t.detail.translations.doodleCanvas.y};this.canvas.onStart(e)},onPointerBoxMove(t){if(!this.canvas)return;const e={x:t.detail.translations.doodleCanvas.x,y:t.detail.translations.doodleCanvas.y};this.canvas.onMove(e)},async onPointerBoxEnd(){if(!this.canvas)return;const t=this.canvas.onEnd();if(t)try{await this.$ecast.strokeDoodle(this.player.doodle.key,t)}catch(e){this.$handleEcastError(e)}},async onSubmit(){this.isSubmitting=!0;try{await this.$ecast.lock(this.player.doodle.key)}catch(t){this.isSubmitting=!1,this.$handleEcastError(t)}},async onUndo(){if(this.canvas){this.isUndoing=!0;try{await this.$ecast.undoDoodle(this.player.doodle.key)}catch(t){this.$handleEcastError(t)}finally{this.isUndoing=!1}}}}}),a6={class:"doodle"},o6={ref:"canvas"},u6=["disabled"],l6=["disabled"];function c6(t,e,n,i,s,a){const r=Kr("pointerbox-translate"),u=Kr("pointerbox"),c=Kr("t");return Y(),te("div",a6,[St((Y(),te("div",{class:"stage","onPointerbox:start":e[0]||(e[0]=(...f)=>t.onPointerBoxStart&&t.onPointerBoxStart(...f)),"onPointerbox:move":e[1]||(e[1]=(...f)=>t.onPointerBoxMove&&t.onPointerBoxMove(...f)),"onPointerbox:end":e[2]||(e[2]=(...f)=>t.onPointerBoxEnd&&t.onPointerBoxEnd(...f))},[St(V("canvas",o6,null,512),[[r,{id:"doodleCanvas",width:t.pointerBoxWidth,height:t.pointerBoxHeight}]])],32)),[[u,{restrictToBox:!0}]]),t.hideUndo?Ke("",!0):St((Y(),te("button",{key:0,class:"doodle-action undo",disabled:!t.canSubmit,onClick:e[3]||(e[3]=Ir((...f)=>t.onUndo&&t.onUndo(...f),["prevent"]))},null,8,u6)),[[c,"ACTION.UNDO"]]),t.hideSubmit?Ke("",!0):St((Y(),te("button",{key:1,class:"doodle-action submit",disabled:!t.canSubmit,onClick:e[4]||(e[4]=Ir((...f)=>t.onSubmit&&t.onSubmit(...f),["prevent"]))},null,8,l6)),[[c,"ACTION.SUBMIT"]])])}const e2=rt(s6,[["render",c6]]);var cd,QR;function f6(){if(QR)return cd;QR=1;var t={DEBUG:!1,LIB_VERSION:"2.53.0"},e;if(typeof window>"u"){var n={hostname:""};e={navigator:{userAgent:""},document:{location:n,referrer:""},screen:{width:0,height:0},location:n}}else e=window;var i=24*60*60*1e3,s=Array.prototype,a=Function.prototype,r=Object.prototype,u=s.slice,c=r.toString,f=r.hasOwnProperty,h=e.console,d=e.navigator,g=e.document,E=e.opera,v=e.screen,S=d.userAgent,x=a.bind,A=s.forEach,w=s.indexOf,I=s.map,C=Array.isArray,R={},_={trim:function(m){return m.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},L={log:function(){if(t.DEBUG&&!_.isUndefined(h)&&h)try{h.log.apply(h,arguments)}catch{_.each(arguments,function(T){h.log(T)})}},warn:function(){if(t.DEBUG&&!_.isUndefined(h)&&h){var m=["Mixpanel warning:"].concat(_.toArray(arguments));try{h.warn.apply(h,m)}catch{_.each(m,function(P){h.warn(P)})}}},error:function(){if(t.DEBUG&&!_.isUndefined(h)&&h){var m=["Mixpanel error:"].concat(_.toArray(arguments));try{h.error.apply(h,m)}catch{_.each(m,function(P){h.error(P)})}}},critical:function(){if(!_.isUndefined(h)&&h){var m=["Mixpanel error:"].concat(_.toArray(arguments));try{h.error.apply(h,m)}catch{_.each(m,function(P){h.error(P)})}}}},b=function(m,T){return function(){return arguments[0]="["+T+"] "+arguments[0],m.apply(L,arguments)}},O=function(m){return{log:b(L.log,m),error:b(L.error,m),critical:b(L.critical,m)}};_.bind=function(m,T){var P,K;if(x&&m.bind===x)return x.apply(m,u.call(arguments,1));if(!_.isFunction(m))throw new TypeError;return P=u.call(arguments,2),K=function(){if(!(this instanceof K))return m.apply(T,P.concat(u.call(arguments)));var ne={};ne.prototype=m.prototype;var ue=new ne;ne.prototype=null;var Se=m.apply(ue,P.concat(u.call(arguments)));return Object(Se)===Se?Se:ue},K},_.each=function(m,T,P){if(m!=null){if(A&&m.forEach===A)m.forEach(T,P);else if(m.length===+m.length){for(var K=0,ne=m.length;K<ne;K++)if(K in m&&T.call(P,m[K],K,m)===R)return}else for(var ue in m)if(f.call(m,ue)&&T.call(P,m[ue],ue,m)===R)return}},_.extend=function(m){return _.each(u.call(arguments,1),function(T){for(var P in T)T[P]!==void 0&&(m[P]=T[P])}),m},_.isArray=C||function(m){return c.call(m)==="[object Array]"},_.isFunction=function(m){try{return/^\s*\bfunction\b/.test(m)}catch{return!1}},_.isArguments=function(m){return!!(m&&f.call(m,"callee"))},_.toArray=function(m){return m?m.toArray?m.toArray():_.isArray(m)||_.isArguments(m)?u.call(m):_.values(m):[]},_.map=function(m,T,P){if(I&&m.map===I)return m.map(T,P);var K=[];return _.each(m,function(ne){K.push(T.call(P,ne))}),K},_.keys=function(m){var T=[];return m===null||_.each(m,function(P,K){T[T.length]=K}),T},_.values=function(m){var T=[];return m===null||_.each(m,function(P){T[T.length]=P}),T},_.include=function(m,T){var P=!1;return m===null?P:w&&m.indexOf===w?m.indexOf(T)!=-1:(_.each(m,function(K){if(P||(P=K===T))return R}),P)},_.includes=function(m,T){return m.indexOf(T)!==-1},_.inherit=function(m,T){return m.prototype=new T,m.prototype.constructor=m,m.superclass=T.prototype,m},_.isObject=function(m){return m===Object(m)&&!_.isArray(m)},_.isEmptyObject=function(m){if(_.isObject(m)){for(var T in m)if(f.call(m,T))return!1;return!0}return!1},_.isUndefined=function(m){return m===void 0},_.isString=function(m){return c.call(m)=="[object String]"},_.isDate=function(m){return c.call(m)=="[object Date]"},_.isNumber=function(m){return c.call(m)=="[object Number]"},_.isElement=function(m){return!!(m&&m.nodeType===1)},_.encodeDates=function(m){return _.each(m,function(T,P){_.isDate(T)?m[P]=_.formatDate(T):_.isObject(T)&&(m[P]=_.encodeDates(T))}),m},_.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},_.formatDate=function(m){function T(P){return P<10?"0"+P:P}return m.getUTCFullYear()+"-"+T(m.getUTCMonth()+1)+"-"+T(m.getUTCDate())+"T"+T(m.getUTCHours())+":"+T(m.getUTCMinutes())+":"+T(m.getUTCSeconds())},_.strip_empty_properties=function(m){var T={};return _.each(m,function(P,K){_.isString(P)&&P.length>0&&(T[K]=P)}),T},_.truncate=function(m,T){var P;return typeof m=="string"?P=m.slice(0,T):_.isArray(m)?(P=[],_.each(m,function(K){P.push(_.truncate(K,T))})):_.isObject(m)?(P={},_.each(m,function(K,ne){P[ne]=_.truncate(K,T)})):P=m,P},_.JSONEncode=function(){return function(m){var T=m,P=function(ne){var ue=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,Se={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return ue.lastIndex=0,ue.test(ne)?'"'+ne.replace(ue,function(Fe){var Ne=Se[Fe];return typeof Ne=="string"?Ne:"\\u"+("0000"+Fe.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+ne+'"'},K=function(ne,ue){var Se="",Fe="    ",Ne=0,Ve="",ze="",ut=0,$e=Se,it=[],st=ue[ne];switch(st&&typeof st=="object"&&typeof st.toJSON=="function"&&(st=st.toJSON(ne)),typeof st){case"string":return P(st);case"number":return isFinite(st)?String(st):"null";case"boolean":case"null":return String(st);case"object":if(!st)return"null";if(Se+=Fe,it=[],c.apply(st)==="[object Array]"){for(ut=st.length,Ne=0;Ne<ut;Ne+=1)it[Ne]=K(Ne,st)||"null";return ze=it.length===0?"[]":Se?`[
`+Se+it.join(`,
`+Se)+`
`+$e+"]":"["+it.join(",")+"]",Se=$e,ze}for(Ve in st)f.call(st,Ve)&&(ze=K(Ve,st),ze&&it.push(P(Ve)+(Se?": ":":")+ze));return ze=it.length===0?"{}":Se?"{"+it.join(",")+$e+"}":"{"+it.join(",")+"}",Se=$e,ze}};return K("",{"":T})}}(),_.JSONDecode=function(){var m,T,P={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},K,ne=function(it){var st=new SyntaxError(it);throw st.at=m,st.text=K,st},ue=function(it){return it&&it!==T&&ne("Expected '"+it+"' instead of '"+T+"'"),T=K.charAt(m),m+=1,T},Se=function(){var it,st="";for(T==="-"&&(st="-",ue("-"));T>="0"&&T<="9";)st+=T,ue();if(T===".")for(st+=".";ue()&&T>="0"&&T<="9";)st+=T;if(T==="e"||T==="E")for(st+=T,ue(),(T==="-"||T==="+")&&(st+=T,ue());T>="0"&&T<="9";)st+=T,ue();if(it=+st,!isFinite(it))ne("Bad number");else return it},Fe=function(){var it,st,Vt="",Lt;if(T==='"')for(;ue();){if(T==='"')return ue(),Vt;if(T==="\\")if(ue(),T==="u"){for(Lt=0,st=0;st<4&&(it=parseInt(ue(),16),!!isFinite(it));st+=1)Lt=Lt*16+it;Vt+=String.fromCharCode(Lt)}else if(typeof P[T]=="string")Vt+=P[T];else break;else Vt+=T}ne("Bad string")},Ne=function(){for(;T&&T<=" ";)ue()},Ve=function(){switch(T){case"t":return ue("t"),ue("r"),ue("u"),ue("e"),!0;case"f":return ue("f"),ue("a"),ue("l"),ue("s"),ue("e"),!1;case"n":return ue("n"),ue("u"),ue("l"),ue("l"),null}ne('Unexpected "'+T+'"')},ze,ut=function(){var it=[];if(T==="["){if(ue("["),Ne(),T==="]")return ue("]"),it;for(;T;){if(it.push(ze()),Ne(),T==="]")return ue("]"),it;ue(","),Ne()}}ne("Bad array")},$e=function(){var it,st={};if(T==="{"){if(ue("{"),Ne(),T==="}")return ue("}"),st;for(;T;){if(it=Fe(),Ne(),ue(":"),Object.hasOwnProperty.call(st,it)&&ne('Duplicate key "'+it+'"'),st[it]=ze(),Ne(),T==="}")return ue("}"),st;ue(","),Ne()}}ne("Bad object")};return ze=function(){switch(Ne(),T){case"{":return $e();case"[":return ut();case'"':return Fe();case"-":return Se();default:return T>="0"&&T<="9"?Se():Ve()}},function(it){var st;return K=it,m=0,T=" ",st=ze(),Ne(),T&&ne("Syntax error"),st}}(),_.base64Encode=function(m){var T="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",P,K,ne,ue,Se,Fe,Ne,Ve,ze=0,ut=0,$e="",it=[];if(!m)return m;m=_.utf8Encode(m);do P=m.charCodeAt(ze++),K=m.charCodeAt(ze++),ne=m.charCodeAt(ze++),Ve=P<<16|K<<8|ne,ue=Ve>>18&63,Se=Ve>>12&63,Fe=Ve>>6&63,Ne=Ve&63,it[ut++]=T.charAt(ue)+T.charAt(Se)+T.charAt(Fe)+T.charAt(Ne);while(ze<m.length);switch($e=it.join(""),m.length%3){case 1:$e=$e.slice(0,-2)+"==";break;case 2:$e=$e.slice(0,-1)+"=";break}return $e},_.utf8Encode=function(m){m=(m+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var T="",P,K,ne=0,ue;for(P=K=0,ne=m.length,ue=0;ue<ne;ue++){var Se=m.charCodeAt(ue),Fe=null;Se<128?K++:Se>127&&Se<2048?Fe=String.fromCharCode(Se>>6|192,Se&63|128):Fe=String.fromCharCode(Se>>12|224,Se>>6&63|128,Se&63|128),Fe!==null&&(K>P&&(T+=m.substring(P,K)),T+=Fe,P=K=ue+1)}return K>P&&(T+=m.substring(P,m.length)),T},_.UUID=function(){var m=function(){var K=1*new Date,ne;if(e.performance&&e.performance.now)ne=e.performance.now();else for(ne=0;K==1*new Date;)ne++;return K.toString(16)+Math.floor(ne).toString(16)},T=function(){return Math.random().toString(16).replace(".","")},P=function(){var K=S,ne,ue,Se=[],Fe=0;function Ne(Ve,ze){var ut,$e=0;for(ut=0;ut<ze.length;ut++)$e|=Se[ut]<<ut*8;return Ve^$e}for(ne=0;ne<K.length;ne++)ue=K.charCodeAt(ne),Se.unshift(ue&255),Se.length>=4&&(Fe=Ne(Fe,Se),Se=[]);return Se.length>0&&(Fe=Ne(Fe,Se)),Fe.toString(16)};return function(){var K=(v.height*v.width).toString(16);return m()+"-"+T()+"-"+P()+"-"+K+"-"+m()}}();var k=["ahrefsbot","ahrefssiteaudit","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];_.isBlockedUA=function(m){var T;for(m=m.toLowerCase(),T=0;T<k.length;T++)if(m.indexOf(k[T])!==-1)return!0;return!1},_.HTTPBuildQuery=function(m,T){var P,K,ne=[];return _.isUndefined(T)&&(T="&"),_.each(m,function(ue,Se){P=encodeURIComponent(ue.toString()),K=encodeURIComponent(Se),ne[ne.length]=K+"="+P}),ne.join(T)},_.getQueryParam=function(m,T){T=T.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var P="[\\?&]"+T+"=([^&#]*)",K=new RegExp(P),ne=K.exec(m);if(ne===null||ne&&typeof ne[1]!="string"&&ne[1].length)return"";var ue=ne[1];try{ue=decodeURIComponent(ue)}catch{L.error("Skipping decoding for malformed query param: "+ue)}return ue.replace(/\+/g," ")},_.cookie={get:function(m){for(var T=m+"=",P=g.cookie.split(";"),K=0;K<P.length;K++){for(var ne=P[K];ne.charAt(0)==" ";)ne=ne.substring(1,ne.length);if(ne.indexOf(T)===0)return decodeURIComponent(ne.substring(T.length,ne.length))}return null},parse:function(m){var T;try{T=_.JSONDecode(_.cookie.get(m))||{}}catch{}return T},set_seconds:function(m,T,P,K,ne,ue,Se){var Fe="",Ne="",Ve="";if(Se)Fe="; domain="+Se;else if(K){var ze=we(g.location.hostname);Fe=ze?"; domain=."+ze:""}if(P){var ut=new Date;ut.setTime(ut.getTime()+P*1e3),Ne="; expires="+ut.toGMTString()}ue&&(ne=!0,Ve="; SameSite=None"),ne&&(Ve+="; secure"),g.cookie=m+"="+encodeURIComponent(T)+Ne+"; path=/"+Fe+Ve},set:function(m,T,P,K,ne,ue,Se){var Fe="",Ne="",Ve="";if(Se)Fe="; domain="+Se;else if(K){var ze=we(g.location.hostname);Fe=ze?"; domain=."+ze:""}if(P){var ut=new Date;ut.setTime(ut.getTime()+P*24*60*60*1e3),Ne="; expires="+ut.toGMTString()}ue&&(ne=!0,Ve="; SameSite=None"),ne&&(Ve+="; secure");var $e=m+"="+encodeURIComponent(T)+Ne+"; path=/"+Fe+Ve;return g.cookie=$e,$e},remove:function(m,T,P){_.cookie.set(m,"",-1,T,!1,!1,P)}};var j=null,B=function(m,T){if(j!==null&&!T)return j;var P=!0;try{m=m||window.localStorage;var K="__mplss_"+re(8),ne="xyz";m.setItem(K,ne),m.getItem(K)!==ne&&(P=!1),m.removeItem(K)}catch{P=!1}return j=P,P};_.localStorage={is_supported:function(m){var T=B(null,m);return T||L.error("localStorage unsupported; falling back to cookie store"),T},error:function(m){L.error("localStorage error: "+m)},get:function(m){try{return window.localStorage.getItem(m)}catch(T){_.localStorage.error(T)}return null},parse:function(m){try{return _.JSONDecode(_.localStorage.get(m))||{}}catch{}return null},set:function(m,T){try{window.localStorage.setItem(m,T)}catch(P){_.localStorage.error(P)}},remove:function(m){try{window.localStorage.removeItem(m)}catch(T){_.localStorage.error(T)}}},_.register_event=function(){var m=function(K,ne,ue,Se,Fe){if(!K){L.error("No valid element provided to register_event");return}if(K.addEventListener&&!Se)K.addEventListener(ne,ue,!!Fe);else{var Ne="on"+ne,Ve=K[Ne];K[Ne]=T(K,ue,Ve)}};function T(K,ne,ue){var Se=function(Fe){if(Fe=Fe||P(window.event),!!Fe){var Ne=!0,Ve,ze;return _.isFunction(ue)&&(Ve=ue(Fe)),ze=ne.call(K,Fe),(Ve===!1||ze===!1)&&(Ne=!1),Ne}};return Se}function P(K){return K&&(K.preventDefault=P.preventDefault,K.stopPropagation=P.stopPropagation),K}return P.preventDefault=function(){this.returnValue=!1},P.stopPropagation=function(){this.cancelBubble=!0},m}();var ae=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');_.dom_query=function(){function m(ne){return ne.all?ne.all:ne.getElementsByTagName("*")}var T=/[\t\r\n]/g;function P(ne,ue){var Se=" "+ue+" ";return(" "+ne.className+" ").replace(T," ").indexOf(Se)>=0}function K(ne){if(!g.getElementsByTagName)return[];var ue=ne.split(" "),Se,Fe,Ne,Ve,ze,ut,$e,it,st,Vt,Lt=[g];for(ut=0;ut<ue.length;ut++){if(Se=ue[ut].replace(/^\s+/,"").replace(/\s+$/,""),Se.indexOf("#")>-1){Fe=Se.split("#"),Ne=Fe[0];var Er=Fe[1],sr=g.getElementById(Er);if(!sr||Ne&&sr.nodeName.toLowerCase()!=Ne)return[];Lt=[sr];continue}if(Se.indexOf(".")>-1){Fe=Se.split("."),Ne=Fe[0];var ei=Fe[1];for(Ne||(Ne="*"),Ve=[],ze=0,$e=0;$e<Lt.length;$e++)for(Ne=="*"?st=m(Lt[$e]):st=Lt[$e].getElementsByTagName(Ne),it=0;it<st.length;it++)Ve[ze++]=st[it];for(Lt=[],Vt=0,$e=0;$e<Ve.length;$e++)Ve[$e].className&&_.isString(Ve[$e].className)&&P(Ve[$e],ei)&&(Lt[Vt++]=Ve[$e]);continue}var ti=Se.match(ae);if(ti){Ne=ti[1];var vi=ti[2],nc=ti[3],hs=ti[4];for(Ne||(Ne="*"),Ve=[],ze=0,$e=0;$e<Lt.length;$e++)for(Ne=="*"?st=m(Lt[$e]):st=Lt[$e].getElementsByTagName(Ne),it=0;it<st.length;it++)Ve[ze++]=st[it];Lt=[],Vt=0;var yi;switch(nc){case"=":yi=function(Zr){return Zr.getAttribute(vi)==hs};break;case"~":yi=function(Zr){return Zr.getAttribute(vi).match(new RegExp("\\b"+hs+"\\b"))};break;case"|":yi=function(Zr){return Zr.getAttribute(vi).match(new RegExp("^"+hs+"-?"))};break;case"^":yi=function(Zr){return Zr.getAttribute(vi).indexOf(hs)===0};break;case"$":yi=function(Zr){return Zr.getAttribute(vi).lastIndexOf(hs)==Zr.getAttribute(vi).length-hs.length};break;case"*":yi=function(Zr){return Zr.getAttribute(vi).indexOf(hs)>-1};break;default:yi=function(Zr){return Zr.getAttribute(vi)}}for(Lt=[],Vt=0,$e=0;$e<Ve.length;$e++)yi(Ve[$e])&&(Lt[Vt++]=Ve[$e]);continue}for(Ne=Se,Ve=[],ze=0,$e=0;$e<Lt.length;$e++)for(st=Lt[$e].getElementsByTagName(Ne),it=0;it<st.length;it++)Ve[ze++]=st[it];Lt=Ve}return Lt}return function(ne){return _.isElement(ne)?[ne]:_.isObject(ne)&&!_.isUndefined(ne.length)?ne:K.call(this,ne)}}();var fe=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],G=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","ttclid","twclid","wbraid"];_.info={campaignParams:function(m){var T="",P={};return _.each(fe,function(K){T=_.getQueryParam(g.URL,K),T.length?P[K]=T:m!==void 0&&(P[K]=m)}),P},clickParams:function(){var m="",T={};return _.each(G,function(P){m=_.getQueryParam(g.URL,P),m.length&&(T[P]=m)}),T},marketingParams:function(){return _.extend(_.info.campaignParams(),_.info.clickParams())},searchEngine:function(m){return m.search("https?://(.*)google.([^/?]*)")===0?"google":m.search("https?://(.*)bing.com")===0?"bing":m.search("https?://(.*)yahoo.com")===0?"yahoo":m.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(m){var T=_.info.searchEngine(m),P=T!="yahoo"?"q":"p",K={};if(T!==null){K.$search_engine=T;var ne=_.getQueryParam(m,P);ne.length&&(K.mp_keyword=ne)}return K},browser:function(m,T,P){return T=T||"",P||_.includes(m," OPR/")?_.includes(m,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(m)?"BlackBerry":_.includes(m,"IEMobile")||_.includes(m,"WPDesktop")?"Internet Explorer Mobile":_.includes(m,"SamsungBrowser/")?"Samsung Internet":_.includes(m,"Edge")||_.includes(m,"Edg/")?"Microsoft Edge":_.includes(m,"FBIOS")?"Facebook Mobile":_.includes(m,"Chrome")?"Chrome":_.includes(m,"CriOS")?"Chrome iOS":_.includes(m,"UCWEB")||_.includes(m,"UCBrowser")?"UC Browser":_.includes(m,"FxiOS")?"Firefox iOS":_.includes(T,"Apple")?_.includes(m,"Mobile")?"Mobile Safari":"Safari":_.includes(m,"Android")?"Android Mobile":_.includes(m,"Konqueror")?"Konqueror":_.includes(m,"Firefox")?"Firefox":_.includes(m,"MSIE")||_.includes(m,"Trident/")?"Internet Explorer":_.includes(m,"Gecko")?"Mozilla":""},browserVersion:function(m,T,P){var K=_.info.browser(m,T,P),ne={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},ue=ne[K];if(ue===void 0)return null;var Se=m.match(ue);return Se?parseFloat(Se[Se.length-2]):null},os:function(){var m=S;return/Windows/i.test(m)?/Phone/.test(m)||/WPDesktop/.test(m)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(m)?"iOS":/Android/.test(m)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(m)?"BlackBerry":/Mac/i.test(m)?"Mac OS X":/Linux/.test(m)?"Linux":/CrOS/.test(m)?"Chrome OS":""},device:function(m){return/Windows Phone/i.test(m)||/WPDesktop/.test(m)?"Windows Phone":/iPad/.test(m)?"iPad":/iPod/.test(m)?"iPod Touch":/iPhone/.test(m)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(m)?"BlackBerry":/Android/.test(m)?"Android":""},referringDomain:function(m){var T=m.split("/");return T.length>=3?T[2]:""},currentUrl:function(){return e.location.href},properties:function(m){return typeof m!="object"&&(m={}),_.extend(_.strip_empty_properties({$os:_.info.os(),$browser:_.info.browser(S,d.vendor,E),$referrer:g.referrer,$referring_domain:_.info.referringDomain(g.referrer),$device:_.info.device(S)}),{$current_url:_.info.currentUrl(),$browser_version:_.info.browserVersion(S,d.vendor,E),$screen_height:v.height,$screen_width:v.width,mp_lib:"web",$lib_version:t.LIB_VERSION,$insert_id:re(),time:_.timestamp()/1e3},_.strip_empty_properties(m))},people_properties:function(){return _.extend(_.strip_empty_properties({$os:_.info.os(),$browser:_.info.browser(S,d.vendor,E)}),{$browser_version:_.info.browserVersion(S,d.vendor,E)})},mpPageViewProperties:function(){return _.strip_empty_properties({current_page_title:g.title,current_domain:e.location.hostname,current_url_path:e.location.pathname,current_url_protocol:e.location.protocol,current_url_search:e.location.search})}};var re=function(m){var T=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return m?T.substring(0,m):T},ce=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,he=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,we=function(m){var T=he,P=m.split("."),K=P[P.length-1];(K.length>4||K==="com"||K==="org")&&(T=ce);var ne=m.match(T);return ne?ne[0]:""},Ae=null,ye=null;typeof JSON<"u"&&(Ae=JSON.stringify,ye=JSON.parse),Ae=Ae||_.JSONEncode,ye=ye||_.JSONDecode,_.toArray=_.toArray,_.isObject=_.isObject,_.JSONEncode=_.JSONEncode,_.JSONDecode=_.JSONDecode,_.isBlockedUA=_.isBlockedUA,_.isEmptyObject=_.isEmptyObject,_.info=_.info,_.info.device=_.info.device,_.info.browser=_.info.browser,_.info.browserVersion=_.info.browserVersion,_.info.properties=_.info.properties;var W=function(){};W.prototype.create_properties=function(){},W.prototype.event_handler=function(){},W.prototype.after_track_handler=function(){},W.prototype.init=function(m){return this.mp=m,this},W.prototype.track=function(m,T,P,K){var ne=this,ue=_.dom_query(m);if(ue.length===0){L.error("The DOM query ("+m+") returned 0 elements");return}return _.each(ue,function(Se){_.register_event(Se,this.override_event,function(Fe){var Ne={},Ve=ne.create_properties(P,this),ze=ne.mp.get_config("track_links_timeout");ne.event_handler(Fe,this,Ne),window.setTimeout(ne.track_callback(K,Ve,Ne,!0),ze),ne.mp.track(T,Ve,ne.track_callback(K,Ve,Ne))})},this),!0},W.prototype.track_callback=function(m,T,P,K){K=K||!1;var ne=this;return function(){P.callback_fired||(P.callback_fired=!0,!(m&&m(K,T)===!1)&&ne.after_track_handler(T,P,K))}},W.prototype.create_properties=function(m,T){var P;return typeof m=="function"?P=m(T):P=_.extend({},m),P};var pe=function(){this.override_event="click"};_.inherit(pe,W),pe.prototype.create_properties=function(m,T){var P=pe.superclass.create_properties.apply(this,arguments);return T.href&&(P.url=T.href),P},pe.prototype.event_handler=function(m,T,P){P.new_tab=m.which===2||m.metaKey||m.ctrlKey||T.target==="_blank",P.href=T.href,P.new_tab||m.preventDefault()},pe.prototype.after_track_handler=function(m,T){T.new_tab||setTimeout(function(){window.location=T.href},0)};var He=function(){this.override_event="submit"};_.inherit(He,W),He.prototype.event_handler=function(m,T,P){P.element=T,m.preventDefault()},He.prototype.after_track_handler=function(m,T){setTimeout(function(){T.element.submit()},0)};var je=O("lock"),ot=function(m,T){T=T||{},this.storageKey=m,this.storage=T.storage||window.localStorage,this.pollIntervalMS=T.pollIntervalMS||100,this.timeoutMS=T.timeoutMS||2e3};ot.prototype.withLock=function(m,T,P){!P&&typeof T!="function"&&(P=T,T=null);var K=P||new Date().getTime()+"|"+Math.random(),ne=new Date().getTime(),ue=this.storageKey,Se=this.pollIntervalMS,Fe=this.timeoutMS,Ne=this.storage,Ve=ue+":X",ze=ue+":Y",ut=ue+":Z",$e=function(sr){T&&T(sr)},it=function(sr){if(new Date().getTime()-ne>Fe){je.error("Timeout waiting for mutex on "+ue+"; clearing lock. ["+K+"]"),Ne.removeItem(ut),Ne.removeItem(ze),Lt();return}setTimeout(function(){try{sr()}catch(ei){$e(ei)}},Se*(Math.random()+.1))},st=function(sr,ei){sr()?ei():it(function(){st(sr,ei)})},Vt=function(){var sr=Ne.getItem(ze);if(sr&&sr!==K)return!1;if(Ne.setItem(ze,K),Ne.getItem(ze)===K)return!0;if(!B(Ne,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},Lt=function(){Ne.setItem(Ve,K),st(Vt,function(){if(Ne.getItem(Ve)===K){Er();return}it(function(){if(Ne.getItem(ze)!==K){Lt();return}st(function(){return!Ne.getItem(ut)},Er)})})},Er=function(){Ne.setItem(ut,"1");try{m()}finally{Ne.removeItem(ut),Ne.getItem(ze)===K&&Ne.removeItem(ze),Ne.getItem(Ve)===K&&Ne.removeItem(Ve)}};try{if(B(Ne,!0))Lt();else throw new Error("localStorage support check failed")}catch(sr){$e(sr)}};var xt=O("batch"),Me=function(m,T){T=T||{},this.storageKey=m,this.storage=T.storage||window.localStorage,this.reportError=T.errorReporter||_.bind(xt.error,xt),this.lock=new ot(m,{storage:this.storage}),this.pid=T.pid||null,this.memQueue=[]};Me.prototype.enqueue=function(m,T,P){var K={id:re(),flushAfter:new Date().getTime()+T*2,payload:m};this.lock.withLock(_.bind(function(){var ue;try{var Se=this.readFromStorage();Se.push(K),ue=this.saveToStorage(Se),ue&&this.memQueue.push(K)}catch{this.reportError("Error enqueueing item",m),ue=!1}P&&P(ue)},this),_.bind(function(ue){this.reportError("Error acquiring storage lock",ue),P&&P(!1)},this),this.pid)},Me.prototype.fillBatch=function(m){var T=this.memQueue.slice(0,m);if(T.length<m){var P=this.readFromStorage();if(P.length){var K={};_.each(T,function(Se){K[Se.id]=!0});for(var ne=0;ne<P.length;ne++){var ue=P[ne];if(new Date().getTime()>ue.flushAfter&&!K[ue.id]&&(ue.orphaned=!0,T.push(ue),T.length>=m))break}}}return T};var pt=function(m,T){var P=[];return _.each(m,function(K){K.id&&!T[K.id]&&P.push(K)}),P};Me.prototype.removeItemsByID=function(m,T){var P={};_.each(m,function(ne){P[ne]=!0}),this.memQueue=pt(this.memQueue,P);var K=_.bind(function(){var ne;try{var ue=this.readFromStorage();if(ue=pt(ue,P),ne=this.saveToStorage(ue),ne){ue=this.readFromStorage();for(var Se=0;Se<ue.length;Se++){var Fe=ue[Se];if(Fe.id&&P[Fe.id])return this.reportError("Item not removed from storage"),!1}}}catch{this.reportError("Error removing items",m),ne=!1}return ne},this);this.lock.withLock(function(){var ue=K();T&&T(ue)},_.bind(function(ue){var Se=!1;if(this.reportError("Error acquiring storage lock",ue),!B(this.storage,!0)&&(Se=K(),!Se))try{this.storage.removeItem(this.storageKey)}catch(Fe){this.reportError("Error clearing queue",Fe)}T&&T(Se)},this),this.pid)};var Ze=function(m,T){var P=[];return _.each(m,function(K){var ne=K.id;if(ne in T){var ue=T[ne];ue!==null&&(K.payload=ue,P.push(K))}else P.push(K)}),P};Me.prototype.updatePayloads=function(m,T){this.memQueue=Ze(this.memQueue,m),this.lock.withLock(_.bind(function(){var K;try{var ne=this.readFromStorage();ne=Ze(ne,m),K=this.saveToStorage(ne)}catch{this.reportError("Error updating items",m),K=!1}T&&T(K)},this),_.bind(function(K){this.reportError("Error acquiring storage lock",K),T&&T(!1)},this),this.pid)},Me.prototype.readFromStorage=function(){var m;try{m=this.storage.getItem(this.storageKey),m&&(m=ye(m),_.isArray(m)||(this.reportError("Invalid storage entry:",m),m=null))}catch(T){this.reportError("Error retrieving queue",T),m=null}return m||[]},Me.prototype.saveToStorage=function(m){try{return this.storage.setItem(this.storageKey,Ae(m)),!0}catch(T){return this.reportError("Error saving queue",T),!1}},Me.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var _t=10*60*1e3,H=O("batch"),Q=function(m,T){this.errorReporter=T.errorReporter,this.queue=new Me(m,{errorReporter:_.bind(this.reportError,this),storage:T.storage}),this.libConfig=T.libConfig,this.sendRequest=T.sendRequestFunc,this.beforeSendHook=T.beforeSendHook,this.stopAllBatching=T.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={}};Q.prototype.enqueue=function(m,T){this.queue.enqueue(m,this.flushInterval,T)},Q.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()},Q.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)},Q.prototype.clear=function(){this.queue.clear()},Q.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size},Q.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)},Q.prototype.scheduleFlush=function(m){this.flushInterval=m,this.stopped||(this.timeoutID=setTimeout(_.bind(this.flush,this),this.flushInterval))},Q.prototype.flush=function(m){try{if(this.requestInProgress){H.log("Flush: Request already in progress");return}m=m||{};var T=this.libConfig.batch_request_timeout_ms,P=new Date().getTime(),K=this.batchSize,ne=this.queue.fillBatch(K),ue=[],Se={};if(_.each(ne,function(Ve){var ze=Ve.payload;if(this.beforeSendHook&&!Ve.orphaned&&(ze=this.beforeSendHook(ze)),ze){ze.event&&ze.properties&&(ze.properties=_.extend({},ze.properties,{mp_sent_by_lib_version:t.LIB_VERSION}));var ut=!0,$e=Ve.id;$e?(this.itemIdsSentSuccessfully[$e]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:Ve,batchSize:ne.length,timesSent:this.itemIdsSentSuccessfully[$e]}),ut=!1):this.reportError("[dupe] found item with no ID",{item:Ve}),ut&&ue.push(ze)}Se[Ve.id]=ze},this),ue.length<1){this.resetFlush();return}this.requestInProgress=!0;var Fe=_.bind(function(Ve){this.requestInProgress=!1;try{var ze=!1;if(m.unloading)this.queue.updatePayloads(Se);else if(_.isObject(Ve)&&Ve.error==="timeout"&&new Date().getTime()-P>=T)this.reportError("Network timeout; retrying"),this.flush();else if(_.isObject(Ve)&&Ve.xhr_req&&(Ve.xhr_req.status>=500||Ve.xhr_req.status===429||Ve.error==="timeout")){var ut=this.flushInterval*2,$e=Ve.xhr_req.responseHeaders;if($e){var it=$e["Retry-After"];it&&(ut=parseInt(it,10)*1e3||ut)}ut=Math.min(_t,ut),this.reportError("Error; retry in "+ut+" ms"),this.scheduleFlush(ut)}else if(_.isObject(Ve)&&Ve.xhr_req&&Ve.xhr_req.status===413)if(ne.length>1){var st=Math.max(1,Math.floor(K/2));this.batchSize=Math.min(this.batchSize,st,ne.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",ne),this.resetBatchSize(),ze=!0;else ze=!0;ze&&(this.queue.removeItemsByID(_.map(ne,function(Vt){return Vt.id}),_.bind(function(Vt){Vt?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this)),_.each(ne,_.bind(function(Vt){var Lt=Vt.id;Lt?(this.itemIdsSentSuccessfully[Lt]=this.itemIdsSentSuccessfully[Lt]||0,this.itemIdsSentSuccessfully[Lt]++,this.itemIdsSentSuccessfully[Lt]>5&&this.reportError("[dupe] item ID sent too many times",{item:Vt,batchSize:ne.length,timesSent:this.itemIdsSentSuccessfully[Lt]})):this.reportError("[dupe] found item with no ID while removing",{item:Vt})},this)))}catch(Vt){this.reportError("Error handling API response",Vt),this.resetFlush()}},this),Ne={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:T};m.unloading&&(Ne.transport="sendBeacon"),H.log("MIXPANEL REQUEST:",ue),this.sendRequest(ue,Ne,Fe)}catch(Ve){this.reportError("Error flushing request queue",Ve),this.resetFlush()}},Q.prototype.reportError=function(m,T){if(H.error.apply(H.error,arguments),this.errorReporter)try{T instanceof Error||(T=new Error(m)),this.errorReporter(m,T)}catch(P){H.error(P)}};var z="__mp_opt_in_out_";function J(m,T){Le(!0,m,T)}function _e(m,T){Le(!1,m,T)}function ge(m,T){return Ue(m,T)==="1"}function Ie(m,T){if(ve(T))return L.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var P=Ue(m,T)==="0";return P&&L.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),P}function Re(m){return Je(m,function(T){return this.get_config(T)})}function D(m){return Je(m,function(T){return this._get_config(T)})}function M(m){return Je(m,function(T){return this._get_config(T)})}function de(m,T){T=T||{},Te(T).remove(Ge(m,T),!!T.crossSubdomainCookie,T.cookieDomain)}function Te(m){return m=m||{},m.persistenceType==="localStorage"?_.localStorage:_.cookie}function Ge(m,T){return T=T||{},(T.persistencePrefix||z)+m}function Ue(m,T){return Te(T).get(Ge(m,T))}function ve(m){if(m&&m.ignoreDnt)return!1;var T=m&&m.window||e,P=T.navigator||{},K=!1;return _.each([P.doNotTrack,P.msDoNotTrack,T.doNotTrack],function(ne){_.includes([!0,1,"1","yes"],ne)&&(K=!0)}),K}function Le(m,T,P){if(!_.isString(T)||!T.length){L.error("gdpr."+(m?"optIn":"optOut")+" called with an invalid token");return}P=P||{},Te(P).set(Ge(T,P),m?1:0,_.isNumber(P.cookieExpiration)?P.cookieExpiration:null,!!P.crossSubdomainCookie,!!P.secureCookie,!!P.crossSiteCookie,P.cookieDomain),P.track&&m&&P.track(P.trackEventName||"$opt_in",P.trackProperties,{send_immediately:!0})}function Je(m,T){return function(){var P=!1;try{var K=T.call(this,"token"),ne=T.call(this,"ignore_dnt"),ue=T.call(this,"opt_out_tracking_persistence_type"),Se=T.call(this,"opt_out_tracking_cookie_prefix"),Fe=T.call(this,"window");K&&(P=Ie(K,{ignoreDnt:ne,persistenceType:ue,persistencePrefix:Se,window:Fe}))}catch(Ve){L.error("Unexpected error when checking tracking opt-out status: "+Ve)}if(!P)return m.apply(this,arguments);var Ne=arguments[arguments.length-1];typeof Ne=="function"&&Ne(0)}}var X="$set",q="$set_once",se="$unset",F="$add",ie="$append",xe="$union",ke="$remove",Z="$delete",le={set_action:function(m,T){var P={},K={};return _.isObject(m)?_.each(m,function(ne,ue){this._is_reserved_property(ue)||(K[ue]=ne)},this):K[m]=T,P[X]=K,P},unset_action:function(m){var T={},P=[];return _.isArray(m)||(m=[m]),_.each(m,function(K){this._is_reserved_property(K)||P.push(K)},this),T[se]=P,T},set_once_action:function(m,T){var P={},K={};return _.isObject(m)?_.each(m,function(ne,ue){this._is_reserved_property(ue)||(K[ue]=ne)},this):K[m]=T,P[q]=K,P},union_action:function(m,T){var P={},K={};return _.isObject(m)?_.each(m,function(ne,ue){this._is_reserved_property(ue)||(K[ue]=_.isArray(ne)?ne:[ne])},this):K[m]=_.isArray(T)?T:[T],P[xe]=K,P},append_action:function(m,T){var P={},K={};return _.isObject(m)?_.each(m,function(ne,ue){this._is_reserved_property(ue)||(K[ue]=ne)},this):K[m]=T,P[ie]=K,P},remove_action:function(m,T){var P={},K={};return _.isObject(m)?_.each(m,function(ne,ue){this._is_reserved_property(ue)||(K[ue]=ne)},this):K[m]=T,P[ke]=K,P},delete_action:function(){var m={};return m[Z]="",m}},Ye=function(){};_.extend(Ye.prototype,le),Ye.prototype._init=function(m,T,P){this._mixpanel=m,this._group_key=T,this._group_id=P},Ye.prototype.set=M(function(m,T,P){var K=this.set_action(m,T);return _.isObject(m)&&(P=T),this._send_request(K,P)}),Ye.prototype.set_once=M(function(m,T,P){var K=this.set_once_action(m,T);return _.isObject(m)&&(P=T),this._send_request(K,P)}),Ye.prototype.unset=M(function(m,T){var P=this.unset_action(m);return this._send_request(P,T)}),Ye.prototype.union=M(function(m,T,P){_.isObject(m)&&(P=T);var K=this.union_action(m,T);return this._send_request(K,P)}),Ye.prototype.delete=M(function(m){var T=this.delete_action();return this._send_request(T,m)}),Ye.prototype.remove=M(function(m,T,P){var K=this.remove_action(m,T);return this._send_request(K,P)}),Ye.prototype._send_request=function(m,T){m.$group_key=this._group_key,m.$group_id=this._group_id,m.$token=this._get_config("token");var P=_.encodeDates(m);return this._mixpanel._track_or_batch({type:"groups",data:P,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},T)},Ye.prototype._is_reserved_property=function(m){return m==="$group_key"||m==="$group_id"},Ye.prototype._get_config=function(m){return this._mixpanel.get_config(m)},Ye.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id},Ye.prototype.remove=Ye.prototype.remove,Ye.prototype.set=Ye.prototype.set,Ye.prototype.set_once=Ye.prototype.set_once,Ye.prototype.union=Ye.prototype.union,Ye.prototype.unset=Ye.prototype.unset,Ye.prototype.toString=Ye.prototype.toString;var We=function(){};_.extend(We.prototype,le),We.prototype._init=function(m){this._mixpanel=m},We.prototype.set=D(function(m,T,P){var K=this.set_action(m,T);return _.isObject(m)&&(P=T),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),K[X]=_.extend({},_.info.people_properties(),K[X]),this._send_request(K,P)}),We.prototype.set_once=D(function(m,T,P){var K=this.set_once_action(m,T);return _.isObject(m)&&(P=T),this._send_request(K,P)}),We.prototype.unset=D(function(m,T){var P=this.unset_action(m);return this._send_request(P,T)}),We.prototype.increment=D(function(m,T,P){var K={},ne={};return _.isObject(m)?(_.each(m,function(ue,Se){if(!this._is_reserved_property(Se))if(isNaN(parseFloat(ue))){L.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else ne[Se]=ue},this),P=T):(_.isUndefined(T)&&(T=1),ne[m]=T),K[F]=ne,this._send_request(K,P)}),We.prototype.append=D(function(m,T,P){_.isObject(m)&&(P=T);var K=this.append_action(m,T);return this._send_request(K,P)}),We.prototype.remove=D(function(m,T,P){_.isObject(m)&&(P=T);var K=this.remove_action(m,T);return this._send_request(K,P)}),We.prototype.union=D(function(m,T,P){_.isObject(m)&&(P=T);var K=this.union_action(m,T);return this._send_request(K,P)}),We.prototype.track_charge=D(function(m,T,P){if(!_.isNumber(m)&&(m=parseFloat(m),isNaN(m))){L.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",_.extend({$amount:m},T),P)}),We.prototype.clear_charges=function(m){return this.set("$transactions",[],m)},We.prototype.delete_user=function(){if(!this._identify_called()){L.error("mixpanel.people.delete_user() requires you to call identify() first");return}var m={$delete:this._mixpanel.get_distinct_id()};return this._send_request(m)},We.prototype.toString=function(){return this._mixpanel.toString()+".people"},We.prototype._send_request=function(m,T){m.$token=this._get_config("token"),m.$distinct_id=this._mixpanel.get_distinct_id();var P=this._mixpanel.get_property("$device_id"),K=this._mixpanel.get_property("$user_id"),ne=this._mixpanel.get_property("$had_persisted_distinct_id");P&&(m.$device_id=P),K&&(m.$user_id=K),ne&&(m.$had_persisted_distinct_id=ne);var ue=_.encodeDates(m);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:ue,endpoint:this._get_config("api_host")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},T):(this._enqueue(m),_.isUndefined(T)||(this._get_config("verbose")?T({status:-1,error:null}):T(-1)),_.truncate(ue,255))},We.prototype._get_config=function(m){return this._mixpanel.get_config(m)},We.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0},We.prototype._enqueue=function(m){X in m?this._mixpanel.persistence._add_to_people_queue(X,m):q in m?this._mixpanel.persistence._add_to_people_queue(q,m):se in m?this._mixpanel.persistence._add_to_people_queue(se,m):F in m?this._mixpanel.persistence._add_to_people_queue(F,m):ie in m?this._mixpanel.persistence._add_to_people_queue(ie,m):ke in m?this._mixpanel.persistence._add_to_people_queue(ke,m):xe in m?this._mixpanel.persistence._add_to_people_queue(xe,m):L.error("Invalid call to _enqueue():",m)},We.prototype._flush_one_queue=function(m,T,P,K){var ne=this,ue=_.extend({},this._mixpanel.persistence.load_queue(m)),Se=ue;!_.isUndefined(ue)&&_.isObject(ue)&&!_.isEmptyObject(ue)&&(ne._mixpanel.persistence._pop_from_people_queue(m,ue),ne._mixpanel.persistence.save(),K&&(Se=K(ue)),T.call(ne,Se,function(Fe,Ne){Fe===0&&ne._mixpanel.persistence._add_to_people_queue(m,ue),_.isUndefined(P)||P(Fe,Ne)}))},We.prototype._flush=function(m,T,P,K,ne,ue,Se){var Fe=this;this._flush_one_queue(X,this.set,m),this._flush_one_queue(q,this.set_once,K),this._flush_one_queue(se,this.unset,ue,function(Lt){return _.keys(Lt)}),this._flush_one_queue(F,this.increment,T),this._flush_one_queue(xe,this.union,ne);var Ne=this._mixpanel.persistence.load_queue(ie);if(!_.isUndefined(Ne)&&_.isArray(Ne)&&Ne.length)for(var Ve,ze=function(Lt,Er){Lt===0&&Fe._mixpanel.persistence._add_to_people_queue(ie,Ve),_.isUndefined(P)||P(Lt,Er)},ut=Ne.length-1;ut>=0;ut--)Ne=this._mixpanel.persistence.load_queue(ie),Ve=Ne.pop(),Fe._mixpanel.persistence.save(),_.isEmptyObject(Ve)||Fe.append(Ve,ze);var $e=this._mixpanel.persistence.load_queue(ke);if(!_.isUndefined($e)&&_.isArray($e)&&$e.length)for(var it,st=function(Lt,Er){Lt===0&&Fe._mixpanel.persistence._add_to_people_queue(ke,it),_.isUndefined(Se)||Se(Lt,Er)},Vt=$e.length-1;Vt>=0;Vt--)$e=this._mixpanel.persistence.load_queue(ke),it=$e.pop(),Fe._mixpanel.persistence.save(),_.isEmptyObject(it)||Fe.remove(it,st)},We.prototype._is_reserved_property=function(m){return m==="$distinct_id"||m==="$token"||m==="$device_id"||m==="$user_id"||m==="$had_persisted_distinct_id"},We.prototype.set=We.prototype.set,We.prototype.set_once=We.prototype.set_once,We.prototype.unset=We.prototype.unset,We.prototype.increment=We.prototype.increment,We.prototype.append=We.prototype.append,We.prototype.remove=We.prototype.remove,We.prototype.union=We.prototype.union,We.prototype.track_charge=We.prototype.track_charge,We.prototype.clear_charges=We.prototype.clear_charges,We.prototype.delete_user=We.prototype.delete_user,We.prototype.toString=We.prototype.toString;var Xe="__mps",Et="__mpso",fn="__mpus",Bn="__mpa",Dr="__mpap",Sn="__mpr",us="__mpu",Zn="$people_distinct_id",qr="__alias",Fi="__timers",vo=[Xe,Et,fn,Bn,Dr,Sn,us,Zn,qr,Fi],At=function(m){this.props={},this.campaign_params_saved=!1,m.persistence_name?this.name="mp_"+m.persistence_name:this.name="mp_"+m.token+"_mixpanel";var T=m.persistence;T!=="cookie"&&T!=="localStorage"&&(L.critical("Unknown persistence type "+T+"; falling back to cookie"),T=m.persistence="cookie"),T==="localStorage"&&_.localStorage.is_supported()?this.storage=_.localStorage:this.storage=_.cookie,this.load(),this.update_config(m),this.upgrade(),this.save()};At.prototype.properties=function(){var m={};return this.load(),_.each(this.props,function(T,P){_.include(vo,P)||(m[P]=T)}),m},At.prototype.load=function(){if(!this.disabled){var m=this.storage.parse(this.name);m&&(this.props=_.extend({},m))}},At.prototype.upgrade=function(){var m,T;this.storage===_.localStorage?(m=_.cookie.parse(this.name),_.cookie.remove(this.name),_.cookie.remove(this.name,!0),m&&this.register_once(m)):this.storage===_.cookie&&(T=_.localStorage.parse(this.name),_.localStorage.remove(this.name),T&&this.register_once(T))},At.prototype.save=function(){this.disabled||this.storage.set(this.name,_.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)},At.prototype.load_prop=function(m){return this.load(),this.props[m]},At.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)},At.prototype.clear=function(){this.remove(),this.props={}},At.prototype.register_once=function(m,T,P){return _.isObject(m)?(typeof T>"u"&&(T="None"),this.expire_days=typeof P>"u"?this.default_expiry:P,this.load(),_.each(m,function(K,ne){(!this.props.hasOwnProperty(ne)||this.props[ne]===T)&&(this.props[ne]=K)},this),this.save(),!0):!1},At.prototype.register=function(m,T){return _.isObject(m)?(this.expire_days=typeof T>"u"?this.default_expiry:T,this.load(),_.extend(this.props,m),this.save(),!0):!1},At.prototype.unregister=function(m){this.load(),m in this.props&&(delete this.props[m],this.save())},At.prototype.update_search_keyword=function(m){this.register(_.info.searchInfo(m))},At.prototype.update_referrer_info=function(m){this.register_once({$initial_referrer:m||"$direct",$initial_referring_domain:_.info.referringDomain(m)||"$direct"},"")},At.prototype.get_referrer_info=function(){return _.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})},At.prototype.update_config=function(m){this.default_expiry=this.expire_days=m.cookie_expiration,this.set_disabled(m.disable_persistence),this.set_cookie_domain(m.cookie_domain),this.set_cross_site(m.cross_site_cookie),this.set_cross_subdomain(m.cross_subdomain_cookie),this.set_secure(m.secure_cookie)},At.prototype.set_disabled=function(m){this.disabled=m,this.disabled?this.remove():this.save()},At.prototype.set_cookie_domain=function(m){m!==this.cookie_domain&&(this.remove(),this.cookie_domain=m,this.save())},At.prototype.set_cross_site=function(m){m!==this.cross_site&&(this.cross_site=m,this.remove(),this.save())},At.prototype.set_cross_subdomain=function(m){m!==this.cross_subdomain&&(this.cross_subdomain=m,this.remove(),this.save())},At.prototype.get_cross_subdomain=function(){return this.cross_subdomain},At.prototype.set_secure=function(m){m!==this.secure&&(this.secure=!!m,this.remove(),this.save())},At.prototype._add_to_people_queue=function(m,T){var P=this._get_queue_key(m),K=T[m],ne=this._get_or_create_queue(X),ue=this._get_or_create_queue(q),Se=this._get_or_create_queue(se),Fe=this._get_or_create_queue(F),Ne=this._get_or_create_queue(xe),Ve=this._get_or_create_queue(ke,[]),ze=this._get_or_create_queue(ie,[]);P===Xe?(_.extend(ne,K),this._pop_from_people_queue(F,K),this._pop_from_people_queue(xe,K),this._pop_from_people_queue(se,K)):P===Et?(_.each(K,function(ut,$e){$e in ue||(ue[$e]=ut)}),this._pop_from_people_queue(se,K)):P===fn?_.each(K,function(ut){_.each([ne,ue,Fe,Ne],function($e){ut in $e&&delete $e[ut]}),_.each(ze,function($e){ut in $e&&delete $e[ut]}),Se[ut]=!0}):P===Bn?(_.each(K,function(ut,$e){$e in ne?ne[$e]+=ut:($e in Fe||(Fe[$e]=0),Fe[$e]+=ut)},this),this._pop_from_people_queue(se,K)):P===us?(_.each(K,function(ut,$e){_.isArray(ut)&&($e in Ne||(Ne[$e]=[]),Ne[$e]=Ne[$e].concat(ut))}),this._pop_from_people_queue(se,K)):P===Sn?(Ve.push(K),this._pop_from_people_queue(ie,K)):P===Dr&&(ze.push(K),this._pop_from_people_queue(se,K)),L.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),L.log(T),this.save()},At.prototype._pop_from_people_queue=function(m,T){var P=this.props[this._get_queue_key(m)];_.isUndefined(P)||_.each(T,function(K,ne){m===ie||m===ke?_.each(P,function(ue){ue[ne]===K&&delete ue[ne]}):delete P[ne]},this)},At.prototype.load_queue=function(m){return this.load_prop(this._get_queue_key(m))},At.prototype._get_queue_key=function(m){if(m===X)return Xe;if(m===q)return Et;if(m===se)return fn;if(m===F)return Bn;if(m===ie)return Dr;if(m===ke)return Sn;if(m===xe)return us;L.error("Invalid queue:",m)},At.prototype._get_or_create_queue=function(m,T){var P=this._get_queue_key(m);return T=_.isUndefined(T)?{}:T,this.props[P]||(this.props[P]=T)},At.prototype.set_event_timer=function(m,T){var P=this.load_prop(Fi)||{};P[m]=T,this.props[Fi]=P,this.save()},At.prototype.remove_event_timer=function(m){var T=this.load_prop(Fi)||{},P=T[m];return _.isUndefined(P)||(delete this.props[Fi][m],this.save()),P};var gi,dr,ls=0,Pa=1,ka=function(m){return m},qi=function(){},Jr="mixpanel",qs="base64",yo="json",cs="$device:",Qn=e.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,To=!Qn&&S.indexOf("MSIE")===-1&&S.indexOf("Mozilla")===-1,Gi=null;d.sendBeacon&&(Gi=function(){return d.sendBeacon.apply(d,arguments)});var Ei={track:"track/",engage:"engage/",groups:"groups/",record:"record/"},fs={api_host:"https://api-js.mixpanel.com",api_routes:Ei,api_method:"POST",api_transport:"XHR",api_payload_format:qs,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:qi,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:qi,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video",record_idle_timeout_ms:30*60*1e3,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:i,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},bo=!1,Oe=function(){},Gs=function(m,T,P){var K,ne=P===Jr?dr:dr[P];if(ne&&gi===ls)K=ne;else{if(ne&&!_.isArray(ne)){L.error("You have already initialized "+P);return}K=new Oe}if(K._cached_groups={},K._init(m,T,P),K.people=new We,K.people._init(K),!K.get_config("skip_first_touch_marketing")){var ue=_.info.campaignParams(null),Se={},Fe=!1;_.each(ue,function(Ne,Ve){Se["initial_"+Ve]=Ne,Ne&&(Fe=!0)}),Fe&&K.people.set_once(Se)}return t.DEBUG=t.DEBUG||K.get_config("debug"),!_.isUndefined(ne)&&_.isArray(ne)&&(K._execute_array.call(K.people,ne.people),K._execute_array(ne)),K};Oe.prototype.init=function(m,T,P){if(_.isUndefined(P)){this.report_error("You must name your new library: init(token, config, name)");return}if(P===Jr){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var K=Gs(m,T,P);return dr[P]=K,K._loaded(),K},Oe.prototype._init=function(m,T,P){T=T||{},this.__loaded=!0,this.config={};var K={};if(!("api_payload_format"in T)){var ne=T.api_host||fs.api_host;ne.match(/\.mixpanel\.com/)&&(K.api_payload_format=yo)}if(this.set_config(_.extend({},fs,K,T,{name:P,token:m,callback_fn:(P===Jr?P:Jr+"."+P)+"._jsc"})),this._jsc=qi,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!_.localStorage.is_supported(!0)||!Qn)this._batch_requests=!1,L.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),_.each(this.get_batcher_configs(),function(Ne){L.log("Clearing batch queue "+Ne.queue_key),_.localStorage.remove(Ne.queue_key)});else if(this.init_batchers(),Gi&&e.addEventListener){var ue=_.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);e.addEventListener("pagehide",function(Ne){Ne.persisted&&ue()}),e.addEventListener("visibilitychange",function(){g.visibilityState==="hidden"&&ue()})}}this.persistence=this.cookie=new At(this.config),this.unpersisted_superprops={},this._gdpr_init();var Se=_.UUID();this.get_distinct_id()||this.register_once({distinct_id:cs+Se,$device_id:Se},"");var Fe=this.get_config("track_pageview");Fe&&this._init_url_change_tracking(Fe),this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent")&&this.start_session_recording()},Oe.prototype.start_session_recording=Re(function(){if(!e.MutationObserver){L.critical("Browser does not support MutationObserver; skipping session recording");return}var m=_.bind(function(){this._recorder=this._recorder||new e.__mp_recorder(this),this._recorder.startRecording()},this);if(_.isUndefined(e.__mp_recorder)){var T=g.createElement("script");T.type="text/javascript",T.async=!0,T.onload=m,T.src=this.get_config("recorder_src"),g.head.appendChild(T)}else m()}),Oe.prototype.stop_session_recording=function(){this._recorder?this._recorder.stopRecording():L.critical("Session recorder module not loaded")},Oe.prototype.get_session_recording_properties=function(){var m={};if(this._recorder){var T=this._recorder.replayId;T&&(m.$mp_replay_id=T)}return m},Oe.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var m=_.info.campaignParams(null);_.each(m,(function(T,P){this.unregister(P)}).bind(this))}},Oe.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(g.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(_.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(g.referrer)},Oe.prototype._dom_loaded=function(){_.each(this.__dom_loaded_queue,function(m){this._track_dom.apply(this,m)},this),this.has_opted_out_tracking()||_.each(this.__request_queue,function(m){this._send_request.apply(this,m)},this),delete this.__dom_loaded_queue,delete this.__request_queue},Oe.prototype._track_dom=function(m,T){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!bo)return this.__dom_loaded_queue.push([m,T]),!1;var P=new m().init(this);return P.track.apply(P,T)},Oe.prototype._init_url_change_tracking=function(m){var T="",P=this.track_pageview();if(P&&(T=_.info.currentUrl()),_.include(["full-url","url-with-path-and-query-string","url-with-path"],m)){e.addEventListener("popstate",function(){e.dispatchEvent(new Event("mp_locationchange"))}),e.addEventListener("hashchange",function(){e.dispatchEvent(new Event("mp_locationchange"))});var K=e.history.pushState;typeof K=="function"&&(e.history.pushState=function(ue,Se,Fe){K.call(e.history,ue,Se,Fe),e.dispatchEvent(new Event("mp_locationchange"))});var ne=e.history.replaceState;typeof ne=="function"&&(e.history.replaceState=function(ue,Se,Fe){ne.call(e.history,ue,Se,Fe),e.dispatchEvent(new Event("mp_locationchange"))}),e.addEventListener("mp_locationchange",(function(){var ue=_.info.currentUrl(),Se=!1;if(m==="full-url"?Se=ue!==T:m==="url-with-path-and-query-string"?Se=ue.split("#")[0]!==T.split("#")[0]:m==="url-with-path"&&(Se=ue.split("#")[0].split("?")[0]!==T.split("#")[0].split("?")[0]),Se){var Fe=this.track_pageview();Fe&&(T=ue)}}).bind(this))}},Oe.prototype._prepare_callback=function(m,T){if(_.isUndefined(m))return null;if(Qn){var P=function(Se){m(Se,T)};return P}else{var K=this._jsc,ne=""+Math.floor(Math.random()*1e8),ue=this.get_config("callback_fn")+"["+ne+"]";return K[ne]=function(Se){delete K[ne],m(Se,T)},ue}},Oe.prototype._send_request=function(m,T,P,K){var ne=!0;if(To)return this.__request_queue.push(arguments),ne;var ue={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},Se=null;!K&&(_.isFunction(P)||typeof P=="string")&&(K=P,P=null),P=_.extend(ue,P||{}),Qn||(P.method="GET");var Fe=P.method==="POST",Ne=Gi&&Fe&&P.transport.toLowerCase()==="sendbeacon",Ve=P.verbose;T.verbose&&(Ve=!0),this.get_config("test")&&(T.test=1),Ve&&(T.verbose=1),this.get_config("img")&&(T.img=1),Qn||(K?T.callback=K:(Ve||this.get_config("test"))&&(T.callback="(function(){})")),T.ip=this.get_config("ip")?1:0,T._=new Date().getTime().toString(),Fe&&(Se="data="+encodeURIComponent(T.data),delete T.data),m+="?"+_.HTTPBuildQuery(T);var ze=this;if("img"in T){var ut=g.createElement("img");ut.src=m,g.body.appendChild(ut)}else if(Ne){try{ne=Gi(m,Se)}catch(Er){ze.report_error(Er),ne=!1}try{K&&K(ne?1:0)}catch(Er){ze.report_error(Er)}}else if(Qn)try{var $e=new XMLHttpRequest;$e.open(P.method,m,!0);var it=this.get_config("xhr_headers");if(Fe&&(it["Content-Type"]="application/x-www-form-urlencoded"),_.each(it,function(Er,sr){$e.setRequestHeader(sr,Er)}),P.timeout_ms&&typeof $e.timeout<"u"){$e.timeout=P.timeout_ms;var st=new Date().getTime()}$e.withCredentials=!0,$e.onreadystatechange=function(){if($e.readyState===4)if($e.status===200){if(K)if(Ve){var Er;try{Er=_.JSONDecode($e.responseText)}catch(ei){if(ze.report_error(ei),P.ignore_json_errors)Er=$e.responseText;else return}K(Er)}else K(Number($e.responseText))}else{var sr;$e.timeout&&!$e.status&&new Date().getTime()-st>=$e.timeout?sr="timeout":sr="Bad HTTP status: "+$e.status+" "+$e.statusText,ze.report_error(sr),K&&K(Ve?{status:0,error:sr,xhr_req:$e}:0)}},$e.send(Se)}catch(Er){ze.report_error(Er),ne=!1}else{var Vt=g.createElement("script");Vt.type="text/javascript",Vt.async=!0,Vt.defer=!0,Vt.src=m;var Lt=g.getElementsByTagName("script")[0];Lt.parentNode.insertBefore(Vt,Lt)}return ne},Oe.prototype._execute_array=function(m){var T,P=[],K=[],ne=[];_.each(m,function(Se){Se&&(T=Se[0],_.isArray(T)?ne.push(Se):typeof Se=="function"?Se.call(this):_.isArray(Se)&&T==="alias"?P.push(Se):_.isArray(Se)&&T.indexOf("track")!==-1&&typeof this[T]=="function"?ne.push(Se):K.push(Se))},this);var ue=function(Se,Fe){_.each(Se,function(Ne){if(_.isArray(Ne[0])){var Ve=Fe;_.each(Ne,function(ze){Ve=Ve[ze[0]].apply(Ve,ze.slice(1))})}else this[Ne[0]].apply(this,Ne.slice(1))},Fe)};ue(P,this),ue(K,this),ue(ne,this)},Oe.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events},Oe.prototype.get_batcher_configs=function(){var m="__mpq_"+this.get_config("token"),T=this.get_config("api_routes");return this._batcher_configs=this._batcher_configs||{events:{type:"events",endpoint:"/"+T.track,queue_key:m+"_ev"},people:{type:"people",endpoint:"/"+T.engage,queue_key:m+"_pp"},groups:{type:"groups",endpoint:"/"+T.groups,queue_key:m+"_gr"}},this._batcher_configs},Oe.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var m=_.bind(function(P){return new Q(P.queue_key,{libConfig:this.config,sendRequestFunc:_.bind(function(K,ne,ue){this._send_request(this.get_config("api_host")+P.endpoint,this._encode_data_for_request(K),ne,this._prepare_callback(ue,K))},this),beforeSendHook:_.bind(function(K){return this._run_hook("before_send_"+P.type,K)},this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:_.bind(this.stop_batch_senders,this)})},this),T=this.get_batcher_configs();this.request_batchers={events:m(T.events),people:m(T.people),groups:m(T.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()},Oe.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,_.each(this.request_batchers,function(m){m.start()}))},Oe.prototype.stop_batch_senders=function(){this._batch_requests=!1,_.each(this.request_batchers,function(m){m.stop(),m.clear()})},Oe.prototype.push=function(m){this._execute_array([m])},Oe.prototype.disable=function(m){typeof m>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(m)},Oe.prototype._encode_data_for_request=function(m){var T=_.JSONEncode(m);return this.get_config("api_payload_format")===qs&&(T=_.base64Encode(T)),{data:T}},Oe.prototype._track_or_batch=function(m,T){var P=_.truncate(m.data,255),K=m.endpoint,ne=m.batcher,ue=m.should_send_immediately,Se=m.send_request_options||{};T=T||qi;var Fe=!0,Ne=_.bind(function(){return Se.skip_hooks||(P=this._run_hook("before_send_"+m.type,P)),P?(L.log("MIXPANEL REQUEST:"),L.log(P),this._send_request(K,this._encode_data_for_request(P),Se,this._prepare_callback(T,P))):null},this);return this._batch_requests&&!ue?ne.enqueue(P,function(Ve){Ve?T(1,P):Ne()}):Fe=Ne(),Fe&&P},Oe.prototype.track=Re(function(m,T,P,K){!K&&typeof P=="function"&&(K=P,P=null),P=P||{};var ne=P.transport;ne&&(P.transport=ne);var ue=P.send_immediately;if(typeof K!="function"&&(K=qi),_.isUndefined(m)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(m)){K(0);return}T=_.extend({},T),T.token=this.get_config("token");var Se=this.persistence.remove_event_timer(m);if(!_.isUndefined(Se)){var Fe=new Date().getTime()-Se;T.$duration=parseFloat((Fe/1e3).toFixed(3))}this._set_default_superprops();var Ne=this.get_config("track_marketing")?_.info.marketingParams():{};T=_.extend({},_.info.properties({mp_loader:this.get_config("mp_loader")}),Ne,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),T);var Ve=this.get_config("property_blacklist");_.isArray(Ve)?_.each(Ve,function($e){delete T[$e]}):this.report_error("Invalid value for property_blacklist config: "+Ve);var ze={event:m,properties:T},ut=this._track_or_batch({type:"events",data:ze,endpoint:this.get_config("api_host")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:ue,send_request_options:P},K);return ut}),Oe.prototype.set_group=Re(function(m,T,P){_.isArray(T)||(T=[T]);var K={};return K[m]=T,this.register(K),this.people.set(m,T,P)}),Oe.prototype.add_group=Re(function(m,T,P){var K=this.get_property(m),ne={};return K===void 0?(ne[m]=[T],this.register(ne)):K.indexOf(T)===-1&&(K.push(T),ne[m]=K,this.register(ne)),this.people.union(m,T,P)}),Oe.prototype.remove_group=Re(function(m,T,P){var K=this.get_property(m);if(K!==void 0){var ne=K.indexOf(T);ne>-1&&(K.splice(ne,1),this.register({group_key:K})),K.length===0&&this.unregister(m)}return this.people.remove(m,T,P)}),Oe.prototype.track_with_groups=Re(function(m,T,P,K){var ne=_.extend({},T||{});return _.each(P,function(ue,Se){ue!=null&&(ne[Se]=ue)}),this.track(m,ne,K)}),Oe.prototype._create_map_key=function(m,T){return m+"_"+JSON.stringify(T)},Oe.prototype._remove_group_from_cache=function(m,T){delete this._cached_groups[this._create_map_key(m,T)]},Oe.prototype.get_group=function(m,T){var P=this._create_map_key(m,T),K=this._cached_groups[P];return(K===void 0||K._group_key!==m||K._group_id!==T)&&(K=new Ye,K._init(this,m,T),this._cached_groups[P]=K),K},Oe.prototype.track_pageview=Re(function(m,T){typeof m!="object"&&(m={}),T=T||{};var P=T.event_name||"$mp_web_page_view",K=_.extend(_.info.mpPageViewProperties(),_.info.campaignParams(),_.info.clickParams()),ne=_.extend({},K,m);return this.track(P,ne)}),Oe.prototype.track_links=function(){return this._track_dom.call(this,pe,arguments)},Oe.prototype.track_forms=function(){return this._track_dom.call(this,He,arguments)},Oe.prototype.time_event=function(m){if(_.isUndefined(m)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(m)||this.persistence.set_event_timer(m,new Date().getTime())};var qh={persistent:!0},js=function(m){var T;return _.isObject(m)?T=m:_.isUndefined(m)?T={}:T={days:m},_.extend({},qh,T)};Oe.prototype.register=function(m,T){var P=js(T);P.persistent?this.persistence.register(m,P.days):_.extend(this.unpersisted_superprops,m)},Oe.prototype.register_once=function(m,T,P){var K=js(P);K.persistent?this.persistence.register_once(m,T,K.days):(typeof T>"u"&&(T="None"),_.each(m,function(ne,ue){(!this.unpersisted_superprops.hasOwnProperty(ue)||this.unpersisted_superprops[ue]===T)&&(this.unpersisted_superprops[ue]=ne)},this))},Oe.prototype.unregister=function(m,T){T=js(T),T.persistent?this.persistence.unregister(m):delete this.unpersisted_superprops[m]},Oe.prototype._register_single=function(m,T){var P={};P[m]=T,this.register(P)},Oe.prototype.identify=function(m,T,P,K,ne,ue,Se,Fe){var Ne=this.get_distinct_id();if(m&&Ne!==m){if(typeof m=="string"&&m.indexOf(cs)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:m})}if(!this.get_property("$device_id")){var Ve=Ne;this.register_once({$had_persisted_distinct_id:!0,$device_id:Ve},"")}m!==Ne&&m!==this.get_property(qr)&&(this.unregister(qr),this.register({distinct_id:m})),this._flags.identify_called=!0,this.people._flush(T,P,K,ne,ue,Se,Fe),m!==Ne&&this.track("$identify",{distinct_id:m,$anon_distinct_id:Ne},{skip_hooks:!0})},Oe.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var m=_.UUID();this.register_once({distinct_id:cs+m,$device_id:m},"")},Oe.prototype.get_distinct_id=function(){return this.get_property("distinct_id")},Oe.prototype.alias=function(m,T){if(m===this.get_property(Zn))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var P=this;return _.isUndefined(T)&&(T=this.get_distinct_id()),m!==T?(this._register_single(qr,m),this.track("$create_alias",{alias:m,distinct_id:T},{skip_hooks:!0},function(){P.identify(m)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(m),-1)},Oe.prototype.name_tag=function(m){this._register_single("mp_name_tag",m)},Oe.prototype.set_config=function(m){if(_.isObject(m)){_.extend(this.config,m);var T=m.batch_size;T&&_.each(this.request_batchers,function(P){P.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),t.DEBUG=t.DEBUG||this.get_config("debug")}},Oe.prototype.get_config=function(m){return this.config[m]},Oe.prototype._run_hook=function(m){var T=(this.config.hooks[m]||ka).apply(this,u.call(arguments,1));return typeof T>"u"&&(this.report_error(m+" hook did not return a value"),T=null),T},Oe.prototype.get_property=function(m){return this.persistence.load_prop([m])},Oe.prototype.toString=function(){var m=this.get_config("name");return m!==Jr&&(m=Jr+"."+m),m},Oe.prototype._event_is_disabled=function(m){return _.isBlockedUA(S)||this._flags.disable_all_events||_.include(this.__disabled_events,m)},Oe.prototype._gdpr_init=function(){var m=this.get_config("opt_out_tracking_persistence_type")==="localStorage";m&&_.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||_.cookie.get("mp_optout"))&&(_.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))},Oe.prototype._gdpr_update_persistence=function(m){var T;if(m&&m.clear_persistence)T=!0;else if(m&&m.enable_persistence)T=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==T&&this.persistence.set_disabled(T),T?this.stop_batch_senders():this._batchers_were_started&&this.start_batch_senders()},Oe.prototype._gdpr_call_func=function(m,T){return T=_.extend({track:_.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},T),_.localStorage.is_supported()||(T.persistence_type="cookie"),m(this.get_config("token"),{track:T.track,trackEventName:T.track_event_name,trackProperties:T.track_properties,persistenceType:T.persistence_type,persistencePrefix:T.cookie_prefix,cookieDomain:T.cookie_domain,cookieExpiration:T.cookie_expiration,crossSiteCookie:T.cross_site_cookie,crossSubdomainCookie:T.cross_subdomain_cookie,secureCookie:T.secure_cookie,ignoreDnt:T.ignore_dnt})},Oe.prototype.opt_in_tracking=function(m){m=_.extend({enable_persistence:!0},m),this._gdpr_call_func(J,m),this._gdpr_update_persistence(m)},Oe.prototype.opt_out_tracking=function(m){m=_.extend({clear_persistence:!0,delete_user:!0},m),m.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(_e,m),this._gdpr_update_persistence(m)},Oe.prototype.has_opted_in_tracking=function(m){return this._gdpr_call_func(ge,m)},Oe.prototype.has_opted_out_tracking=function(m){return this._gdpr_call_func(Ie,m)},Oe.prototype.clear_opt_in_out_tracking=function(m){m=_.extend({enable_persistence:!0},m),this._gdpr_call_func(de,m),this._gdpr_update_persistence(m)},Oe.prototype.report_error=function(m,T){L.error.apply(L.error,arguments);try{!T&&!(m instanceof Error)&&(m=new Error(m)),this.get_config("error_reporter")(m,T)}catch(P){L.error(P)}},Oe.prototype.init=Oe.prototype.init,Oe.prototype.reset=Oe.prototype.reset,Oe.prototype.disable=Oe.prototype.disable,Oe.prototype.time_event=Oe.prototype.time_event,Oe.prototype.track=Oe.prototype.track,Oe.prototype.track_links=Oe.prototype.track_links,Oe.prototype.track_forms=Oe.prototype.track_forms,Oe.prototype.track_pageview=Oe.prototype.track_pageview,Oe.prototype.register=Oe.prototype.register,Oe.prototype.register_once=Oe.prototype.register_once,Oe.prototype.unregister=Oe.prototype.unregister,Oe.prototype.identify=Oe.prototype.identify,Oe.prototype.alias=Oe.prototype.alias,Oe.prototype.name_tag=Oe.prototype.name_tag,Oe.prototype.set_config=Oe.prototype.set_config,Oe.prototype.get_config=Oe.prototype.get_config,Oe.prototype.get_property=Oe.prototype.get_property,Oe.prototype.get_distinct_id=Oe.prototype.get_distinct_id,Oe.prototype.toString=Oe.prototype.toString,Oe.prototype.opt_out_tracking=Oe.prototype.opt_out_tracking,Oe.prototype.opt_in_tracking=Oe.prototype.opt_in_tracking,Oe.prototype.has_opted_out_tracking=Oe.prototype.has_opted_out_tracking,Oe.prototype.has_opted_in_tracking=Oe.prototype.has_opted_in_tracking,Oe.prototype.clear_opt_in_out_tracking=Oe.prototype.clear_opt_in_out_tracking,Oe.prototype.get_group=Oe.prototype.get_group,Oe.prototype.set_group=Oe.prototype.set_group,Oe.prototype.add_group=Oe.prototype.add_group,Oe.prototype.remove_group=Oe.prototype.remove_group,Oe.prototype.track_with_groups=Oe.prototype.track_with_groups,Oe.prototype.start_batch_senders=Oe.prototype.start_batch_senders,Oe.prototype.stop_batch_senders=Oe.prototype.stop_batch_senders,Oe.prototype.start_session_recording=Oe.prototype.start_session_recording,Oe.prototype.stop_session_recording=Oe.prototype.stop_session_recording,Oe.prototype.get_session_recording_properties=Oe.prototype.get_session_recording_properties,Oe.prototype.DEFAULT_API_ROUTES=Ei,At.prototype.properties=At.prototype.properties,At.prototype.update_search_keyword=At.prototype.update_search_keyword,At.prototype.update_referrer_info=At.prototype.update_referrer_info,At.prototype.get_cross_subdomain=At.prototype.get_cross_subdomain,At.prototype.clear=At.prototype.clear;var Ws={},Gh=function(){_.each(Ws,function(m,T){T!==Jr&&(dr[T]=m)}),dr._=_},jh=function(){dr.init=function(m,T,P){if(P)return dr[P]||(dr[P]=Ws[P]=Gs(m,T,P),dr[P]._loaded()),dr[P];var K=dr;Ws[Jr]?K=Ws[Jr]:m&&(K=Gs(m,T,Jr),K._loaded(),Ws[Jr]=K),dr=K,gi===Pa&&(e[Jr]=dr),Gh()}},ec=function(){function m(){m.done||(m.done=!0,bo=!0,To=!1,_.each(Ws,function(K){K._dom_loaded()}))}function T(){try{g.documentElement.doScroll("left")}catch{setTimeout(T,1);return}m()}if(g.addEventListener)g.readyState==="complete"?m():g.addEventListener("DOMContentLoaded",m,!1);else if(g.attachEvent){g.attachEvent("onreadystatechange",m);var P=!1;try{P=e.frameElement===null}catch{}g.documentElement.doScroll&&P&&T()}_.register_event(e,"load",m,!0)};function tc(){return gi=ls,dr=new Oe,jh(),dr.init(),ec(),dr}var rc=tc();return cd=rc,cd}f6();const h6=[{name:"Prototype",tag:"prototype",wrapper:"vue",isPublic:!0,directory:"internal/prototype"},{name:"EcastTestClient",tag:"ecast-test-client",wrapper:"marionette",isPublic:!0,directory:"internal/ecast-test-client"},{name:"Quiplash 3",tag:"quiplash3-tjsp",wrapper:"vue",isPublic:!0,directory:"tjsp/quiplash3",features:["moderation"],categoryId:"quiplash3Game"},{name:"Tee K.O.",tag:"awshirt-tjsp",wrapper:"vue",isPublic:!0,directory:"tjsp/awshirt",features:["moderation"],shopItems:["shirts"],categoryId:"TeeKOGame",galleryId:"teeko"},{name:"Trivia Murder Party 2",tag:"triviadeath2-tjsp",wrapper:"vue",isPublic:!0,directory:"tjsp/triviadeath2",categoryId:"TriviaMurderParty2Game"},{name:"Quiplash 2 InterLASHional",tag:"quiplash2-international",wrapper:"marionette",isPublic:!0,directory:"standalone/quiplash2-international",categoryId:"quiplash2-internationalGame"},{name:"Guesspionage Crowdplay",tag:"guesspionage-crowdplay",wrapper:"marionette",isPublic:!0,directory:"standalone/guesspionage-crowdplay"},{name:"Drawful 2",tag:"drawful2",wrapper:"marionette",isPublic:!0,directory:"standalone/drawful2",categoryId:"DrawfulGame",shopItems:["shirts"]},{name:"Drawful 2",tag:"drawful2international",wrapper:"marionette",isPublic:!0,directory:"standalone/drawful2-international",features:["moderation"]},{name:"Acquisitions, Inc.",tag:"acquisitions-inc",wrapper:"marionette",isPublic:!0,directory:"standalone/acquisitions-inc"},{name:"The Jackbox Survey Scramble",tag:"bigsurvey",wrapper:"vue",isPublic:!0,directory:"standalone/bigsurvey",features:["moderation","kicking","dropInDropOut"],categoryId:"BigSurveyGame",galleryId:"survey-scramble"},{name:"You Don't Know Jack 2015",tag:"ydkj2015",wrapper:"marionette",isPublic:!0,directory:"pp1/ydkj2015"},{name:"Drawful",tag:"drawful",wrapper:"marionette",isPublic:!0,directory:"pp1/drawful"},{name:"Word Spud",tag:"wordspud",wrapper:"marionette",isPublic:!0,directory:"pp1/wordspud"},{name:"Lie Swatter",tag:"lieswatter",wrapper:"marionette",isPublic:!0,directory:"pp1/lieswatter"},{name:"Fibbage",tag:"fibbage",wrapper:"marionette",isPublic:!0,directory:"pp1/fibbage"},{name:"Fibbage 2",tag:"fibbage2",wrapper:"marionette",isPublic:!0,directory:"pp2/fibbage2"},{name:"Earwax",tag:"earwax",wrapper:"marionette",isPublic:!0,directory:"pp2/earwax"},{name:"Bidiots",tag:"auction",wrapper:"marionette",isPublic:!0,directory:"pp2/auction"},{name:"Bomb Corp",tag:"bombintern",wrapper:"marionette",isPublic:!0,directory:"pp2/bombintern"},{name:"Quiplash",tag:"quiplash",wrapper:"marionette",isPublic:!0,directory:"pp2/quiplash"},{name:"Fakin' It",tag:"fakinit",wrapper:"marionette",isPublic:!0,directory:"pp3/fakinit"},{name:"Tee K.O.",tag:"awshirt",wrapper:"marionette",isPublic:!0,directory:"pp3/awshirt",shopItems:["shirts"],galleryId:"teeko"},{name:"Quiplash 2",tag:"quiplash2",wrapper:"marionette",isPublic:!0,directory:"pp3/quiplash2",categoryId:"Quiplash2Game"},{name:"Trivia Murder Party",tag:"triviadeath",wrapper:"marionette",isPublic:!0,directory:"pp3/triviadeath",categoryId:"TriviaDeathResults"},{name:"Guesspionage",tag:"pollposition",wrapper:"marionette",isPublic:!0,directory:"pp3/pollposition"},{name:"Fibbage 3",tag:"fibbage3",wrapper:"marionette",isPublic:!0,directory:"pp4/fibbage3"},{name:"Survive the Internet",tag:"survivetheinternet",wrapper:"marionette",isPublic:!0,directory:"pp4/survivetheinternet",categoryId:"STIGame"},{name:"Monster Seeking Monster",tag:"monstermingle",wrapper:"marionette",isPublic:!0,directory:"pp4/monstermingle",categoryId:"MonsterMingleGame"},{name:"Bracketeering",tag:"bracketeering",wrapper:"marionette",isPublic:!0,directory:"pp4/bracketeering",categoryId:"BRKGame"},{name:"Civic Doodle",tag:"overdrawn",wrapper:"marionette",isPublic:!0,directory:"pp4/overdrawn",categoryId:"OverdrawnGame",shopItems:["shirts"]},{name:"You Don't Know Jack: Full Stream",tag:"ydkj2018",wrapper:"marionette",isPublic:!0,directory:"pp5/ydkj2018",categoryId:"YDKJ2018Game"},{name:"Split the Room",tag:"splittheroom",wrapper:"marionette",isPublic:!0,directory:"pp5/splittheroom",categoryId:"SplitTheRoomGame"},{name:"Mad Verse City",tag:"rapbattle",wrapper:"marionette",isPublic:!0,directory:"pp5/rapbattle",categoryId:"RapBattleGame"},{name:"Zeeple Dome",tag:"slingshoot",wrapper:"marionette",isPublic:!0,directory:"pp5/slingshoot",categoryId:"SlingShootGame"},{name:"Patently Stupid",tag:"patentlystupid",wrapper:"marionette",isPublic:!0,directory:"pp5/patentlystupid",categoryId:"PatentlyStupidGame",shopItems:["mugs"]},{name:"Trivia Murder Party 2",tag:"triviadeath2",wrapper:"marionette",isPublic:!0,directory:"pp6/triviadeath2",categoryId:"TriviaDeath2Game"},{name:"Role Models",tag:"rolemodels",wrapper:"marionette",isPublic:!0,features:["camera"],directory:"pp6/rolemodels",categoryId:"RoleModelsGame",shopItems:["shirts"]},{name:"Joke Boat",tag:"jokeboat",wrapper:"marionette",isPublic:!0,directory:"pp6/jokeboat",categoryId:"JokeboatGame"},{name:"Dictionarium",tag:"ridictionary",wrapper:"marionette",isPublic:!0,directory:"pp6/ridictionary",categoryId:"RidictionaryGame"},{name:"Push the Button",tag:"pushthebutton",wrapper:"marionette",isPublic:!0,directory:"pp6/pushthebutton",categoryId:"PushTheButtonGame"},{name:"Talking Points",tag:"jackbox-talks",wrapper:"marionette",isPublic:!0,directory:"pp7/jackboxtalks",features:["camera","moderation"],categoryId:"JackboxTalksGame"},{name:"Quiplash 3",tag:"quiplash3",wrapper:"marionette",isPublic:!0,directory:"pp7/quiplash3",features:["moderation"],categoryId:"quiplash3Game"},{name:"The Devils and the Details",tag:"everyday",wrapper:"marionette",isPublic:!0,directory:"pp7/everyday",categoryId:"EverydayGame",shopItems:["mugs"]},{name:"Champ'd Up",tag:"worldchamps",wrapper:"marionette",isPublic:!0,directory:"pp7/worldchamps",features:["moderation"],categoryId:"WorldChampionsGame",shopItems:["cards"]},{name:"Blather 'Round",tag:"blanky-blank",wrapper:"marionette",isPublic:!0,directory:"pp7/blanky-blank",categoryId:"BlankyBlankGame"},{name:"Job Job",tag:"apply-yourself",wrapper:"vue",isPublic:!0,directory:"pp8/apply-yourself",categoryId:"JobGameGame",features:["moderation","previews"]},{name:"Drawful Animate",tag:"drawful-animate",wrapper:"vue",isPublic:!0,directory:"pp8/drawful-animate",categoryId:"DrawfulAnimateGame",features:["moderation"]},{name:"The Wheel of Enormous Proportions",tag:"the-wheel",wrapper:"vue",isPublic:!0,directory:"pp8/the-wheel",categoryId:"TheWheelGame"},{name:"The Poll Mine",tag:"survey-bomb",wrapper:"vue",isPublic:!0,directory:"pp8/survey-bomb",categoryId:"SurveyBombGame"},{name:"Weapons Drawn",tag:"murder-detectives",wrapper:"vue",isPublic:!0,directory:"pp8/murder-detectives",categoryId:"MurderDetectivesGame",features:["moderation"]},{name:"Fibbage 4",tag:"fourbage",wrapper:"vue",isPublic:!0,directory:"pp9/fourbage",features:["moderation","kicking"],categoryId:"Fibbage4Game"},{name:"Roomerang",tag:"htmf",wrapper:"vue",isPublic:!0,directory:"pp9/htmf",features:["moderation","kicking"],categoryId:"MakeFriendsGame"},{name:"Junktopia",tag:"antique-freak",wrapper:"vue",isPublic:!0,directory:"pp9/antique-freak",features:["moderation","kicking"],categoryId:"AntiqueGameGame"},{name:"Nonsensory",tag:"range-game",wrapper:"vue",isPublic:!0,directory:"pp9/range-game",features:["moderation","kicking"],categoryId:"RangeGameGame"},{name:"Quixort",tag:"lineup",wrapper:"vue",isPublic:!0,directory:"pp9/lineup",features:["kicking","previews"],categoryId:"LineupGame"},{name:"Tee K.O. 2",tag:"awshirt2",wrapper:"vue",isPublic:!0,directory:"pp10/awshirt2",features:["moderation","kicking"],shopItems:["shirts"],categoryId:"TeeKO2Game",galleryId:"teeko2"},{name:"Dodo Re Mi",tag:"nopus-opus",wrapper:"vue",isPublic:!0,directory:"pp10/nopus-opus",features:["dropInDropOut","kicking"],categoryId:"NopusOpusGame",galleryId:"dodo-re-mi"},{name:"FixyText",tag:"risky-text",wrapper:"vue",isPublic:!0,directory:"pp10/risky-text",features:["moderation","kicking"],categoryId:"FixyTextGame",galleryId:"fixytext"},{name:"Timejinx",tag:"time-trivia",wrapper:"vue",isPublic:!0,directory:"pp10/time-trivia",features:["kicking"],categoryId:"TimeTriviaGame",galleryId:"timejinx"},{name:"Hypnotorious",tag:"us-them",wrapper:"vue",isPublic:!0,directory:"pp10/us-them",features:["moderation","kicking"],categoryId:"StrangersGame",galleryId:"hypnotorious"},{name:"Fakin' It All Night Long",tag:"fakinit2",wrapper:"vue",isPublic:!0,directory:"ppad/fakinit2",features:["moderation","kicking"],categoryId:"FakinIt2Game",galleryId:"fakin-it-all-night-long"},{name:"Dirty Drawful",tag:"drawful3",wrapper:"vue",isPublic:!0,directory:"ppad/drawful3",features:["moderation","kicking"],categoryId:"Drawful3Game",galleryId:"dirty-drawful"},{name:"Let Me Finish",tag:"captcha",wrapper:"vue",isPublic:!0,directory:"ppad/captcha",features:["moderation","kicking"],categoryId:"CAPTCHAGame",galleryId:"let-me-finish"},{name:"DOOMINATE",tag:"you-ruined-it",wrapper:"vue",isPublic:!0,directory:"pp11/you-ruined-it",features:["moderation","kicking"],categoryId:"YouRuinedItGame",galleryId:"doominate"},{name:"Legends of Trivia",tag:"trivia-rpg",wrapper:"vue",isPublic:!0,directory:"pp11/trivia-rpg",features:["kicking"],galleryId:"legends-of-trivia"},{name:"Hear Say",tag:"mic-game",wrapper:"vue",isPublic:!0,directory:"pp11/sfx",features:["moderation","kicking","microphone"],categoryId:"MicGameGame",galleryId:"hear-say"},{name:"Cookie Haus",tag:"cookies",wrapper:"vue",isPublic:!0,directory:"pp11/cookies",features:["moderation","kicking","gpu"],categoryId:"CookiesGameGame",galleryId:"cookie-haus"},{name:"Suspectives",tag:"dirty-detectives",wrapper:"vue",isPublic:!0,directory:"pp11/dirty-detectives",features:["moderation","kicking"],categoryId:"DirtyDetectivesGame",galleryId:"suspectives"}];let p6=[];const d6=[...h6,...p6],_a=t=>{var n;return(((n=window==null?void 0:window.tv)==null?void 0:n.games)||d6).find(i=>i.tag===t||i.galleryId===t||i.categoryId===t)};var fd,ex;function _6(){if(ex)return fd;ex=1;function t(){this.__data__=[],this.size=0}return fd=t,fd}var hd,tx;function Qf(){if(tx)return hd;tx=1;function t(e,n){return e===n||e!==e&&n!==n}return hd=t,hd}var pd,rx;function eh(){if(rx)return pd;rx=1;var t=Qf();function e(n,i){for(var s=n.length;s--;)if(t(n[s][0],i))return s;return-1}return pd=e,pd}var dd,nx;function m6(){if(nx)return dd;nx=1;var t=eh(),e=Array.prototype,n=e.splice;function i(s){var a=this.__data__,r=t(a,s);if(r<0)return!1;var u=a.length-1;return r==u?a.pop():n.call(a,r,1),--this.size,!0}return dd=i,dd}var _d,ix;function g6(){if(ix)return _d;ix=1;var t=eh();function e(n){var i=this.__data__,s=t(i,n);return s<0?void 0:i[s][1]}return _d=e,_d}var md,sx;function E6(){if(sx)return md;sx=1;var t=eh();function e(n){return t(this.__data__,n)>-1}return md=e,md}var gd,ax;function v6(){if(ax)return gd;ax=1;var t=eh();function e(n,i){var s=this.__data__,a=t(s,n);return a<0?(++this.size,s.push([n,i])):s[a][1]=i,this}return gd=e,gd}var Ed,ox;function th(){if(ox)return Ed;ox=1;var t=_6(),e=m6(),n=g6(),i=E6(),s=v6();function a(r){var u=-1,c=r==null?0:r.length;for(this.clear();++u<c;){var f=r[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,Ed=a,Ed}var vd,ux;function y6(){if(ux)return vd;ux=1;var t=th();function e(){this.__data__=new t,this.size=0}return vd=e,vd}var yd,lx;function T6(){if(lx)return yd;lx=1;function t(e){var n=this.__data__,i=n.delete(e);return this.size=n.size,i}return yd=t,yd}var Td,cx;function b6(){if(cx)return Td;cx=1;function t(e){return this.__data__.get(e)}return Td=t,Td}var bd,fx;function R6(){if(fx)return bd;fx=1;function t(e){return this.__data__.has(e)}return bd=t,bd}var Rd,hx;function t2(){if(hx)return Rd;hx=1;var t=typeof br=="object"&&br&&br.Object===Object&&br;return Rd=t,Rd}var xd,px;function Mi(){if(px)return xd;px=1;var t=t2(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return xd=n,xd}var Sd,dx;function rh(){if(dx)return Sd;dx=1;var t=Mi(),e=t.Symbol;return Sd=e,Sd}var Cd,_x;function x6(){if(_x)return Cd;_x=1;var t=rh(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,s=t?t.toStringTag:void 0;function a(r){var u=n.call(r,s),c=r[s];try{r[s]=void 0;var f=!0}catch{}var h=i.call(r);return f&&(u?r[s]=c:delete r[s]),h}return Cd=a,Cd}var Ad,mx;function S6(){if(mx)return Ad;mx=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return Ad=n,Ad}var Ld,gx;function yu(){if(gx)return Ld;gx=1;var t=rh(),e=x6(),n=S6(),i="[object Null]",s="[object Undefined]",a=t?t.toStringTag:void 0;function r(u){return u==null?u===void 0?s:i:a&&a in Object(u)?e(u):n(u)}return Ld=r,Ld}var wd,Ex;function mi(){if(Ex)return wd;Ex=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return wd=t,wd}var Od,vx;function gy(){if(vx)return Od;vx=1;var t=yu(),e=mi(),n="[object AsyncFunction]",i="[object Function]",s="[object GeneratorFunction]",a="[object Proxy]";function r(u){if(!e(u))return!1;var c=t(u);return c==i||c==s||c==n||c==a}return Od=r,Od}var Id,yx;function C6(){if(yx)return Id;yx=1;var t=Mi(),e=t["__core-js_shared__"];return Id=e,Id}var Nd,Tx;function A6(){if(Tx)return Nd;Tx=1;var t=C6(),e=function(){var i=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function n(i){return!!e&&e in i}return Nd=n,Nd}var Pd,bx;function r2(){if(bx)return Pd;bx=1;var t=Function.prototype,e=t.toString;function n(i){if(i!=null){try{return e.call(i)}catch{}try{return i+""}catch{}}return""}return Pd=n,Pd}var kd,Rx;function L6(){if(Rx)return kd;Rx=1;var t=gy(),e=A6(),n=mi(),i=r2(),s=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,r=Function.prototype,u=Object.prototype,c=r.toString,f=u.hasOwnProperty,h=RegExp("^"+c.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function d(g){if(!n(g)||e(g))return!1;var E=t(g)?h:a;return E.test(i(g))}return kd=d,kd}var Dd,xx;function w6(){if(xx)return Dd;xx=1;function t(e,n){return e==null?void 0:e[n]}return Dd=t,Dd}var Bd,Sx;function lo(){if(Sx)return Bd;Sx=1;var t=L6(),e=w6();function n(i,s){var a=e(i,s);return t(a)?a:void 0}return Bd=n,Bd}var Ud,Cx;function Ey(){if(Cx)return Ud;Cx=1;var t=lo(),e=Mi(),n=t(e,"Map");return Ud=n,Ud}var Md,Ax;function nh(){if(Ax)return Md;Ax=1;var t=lo(),e=t(Object,"create");return Md=e,Md}var Kd,Lx;function O6(){if(Lx)return Kd;Lx=1;var t=nh();function e(){this.__data__=t?t(null):{},this.size=0}return Kd=e,Kd}var $d,wx;function I6(){if(wx)return $d;wx=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return $d=t,$d}var Vd,Ox;function N6(){if(Ox)return Vd;Ox=1;var t=nh(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function s(a){var r=this.__data__;if(t){var u=r[a];return u===e?void 0:u}return i.call(r,a)?r[a]:void 0}return Vd=s,Vd}var Fd,Ix;function P6(){if(Ix)return Fd;Ix=1;var t=nh(),e=Object.prototype,n=e.hasOwnProperty;function i(s){var a=this.__data__;return t?a[s]!==void 0:n.call(a,s)}return Fd=i,Fd}var qd,Nx;function k6(){if(Nx)return qd;Nx=1;var t=nh(),e="__lodash_hash_undefined__";function n(i,s){var a=this.__data__;return this.size+=this.has(i)?0:1,a[i]=t&&s===void 0?e:s,this}return qd=n,qd}var Gd,Px;function D6(){if(Px)return Gd;Px=1;var t=O6(),e=I6(),n=N6(),i=P6(),s=k6();function a(r){var u=-1,c=r==null?0:r.length;for(this.clear();++u<c;){var f=r[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,Gd=a,Gd}var jd,kx;function B6(){if(kx)return jd;kx=1;var t=D6(),e=th(),n=Ey();function i(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return jd=i,jd}var Wd,Dx;function U6(){if(Dx)return Wd;Dx=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Wd=t,Wd}var Xd,Bx;function ih(){if(Bx)return Xd;Bx=1;var t=U6();function e(n,i){var s=n.__data__;return t(i)?s[typeof i=="string"?"string":"hash"]:s.map}return Xd=e,Xd}var Hd,Ux;function M6(){if(Ux)return Hd;Ux=1;var t=ih();function e(n){var i=t(this,n).delete(n);return this.size-=i?1:0,i}return Hd=e,Hd}var Yd,Mx;function K6(){if(Mx)return Yd;Mx=1;var t=ih();function e(n){return t(this,n).get(n)}return Yd=e,Yd}var zd,Kx;function $6(){if(Kx)return zd;Kx=1;var t=ih();function e(n){return t(this,n).has(n)}return zd=e,zd}var Jd,$x;function V6(){if($x)return Jd;$x=1;var t=ih();function e(n,i){var s=t(this,n),a=s.size;return s.set(n,i),this.size+=s.size==a?0:1,this}return Jd=e,Jd}var Zd,Vx;function n2(){if(Vx)return Zd;Vx=1;var t=B6(),e=M6(),n=K6(),i=$6(),s=V6();function a(r){var u=-1,c=r==null?0:r.length;for(this.clear();++u<c;){var f=r[u];this.set(f[0],f[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=n,a.prototype.has=i,a.prototype.set=s,Zd=a,Zd}var Qd,Fx;function F6(){if(Fx)return Qd;Fx=1;var t=th(),e=Ey(),n=n2(),i=200;function s(a,r){var u=this.__data__;if(u instanceof t){var c=u.__data__;if(!e||c.length<i-1)return c.push([a,r]),this.size=++u.size,this;u=this.__data__=new n(c)}return u.set(a,r),this.size=u.size,this}return Qd=s,Qd}var e0,qx;function i2(){if(qx)return e0;qx=1;var t=th(),e=y6(),n=T6(),i=b6(),s=R6(),a=F6();function r(u){var c=this.__data__=new t(u);this.size=c.size}return r.prototype.clear=e,r.prototype.delete=n,r.prototype.get=i,r.prototype.has=s,r.prototype.set=a,e0=r,e0}var t0,Gx;function s2(){if(Gx)return t0;Gx=1;var t=lo(),e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return t0=e,t0}var r0,jx;function vy(){if(jx)return r0;jx=1;var t=s2();function e(n,i,s){i=="__proto__"&&t?t(n,i,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[i]=s}return r0=e,r0}var n0,Wx;function a2(){if(Wx)return n0;Wx=1;var t=vy(),e=Qf();function n(i,s,a){(a!==void 0&&!e(i[s],a)||a===void 0&&!(s in i))&&t(i,s,a)}return n0=n,n0}var i0,Xx;function q6(){if(Xx)return i0;Xx=1;function t(e){return function(n,i,s){for(var a=-1,r=Object(n),u=s(n),c=u.length;c--;){var f=u[e?c:++a];if(i(r[f],f,r)===!1)break}return n}}return i0=t,i0}var s0,Hx;function G6(){if(Hx)return s0;Hx=1;var t=q6(),e=t();return s0=e,s0}var tl={exports:{}};tl.exports;var Yx;function o2(){return Yx||(Yx=1,function(t,e){var n=Mi(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,r=a?n.Buffer:void 0,u=r?r.allocUnsafe:void 0;function c(f,h){if(h)return f.slice();var d=f.length,g=u?u(d):new f.constructor(d);return f.copy(g),g}t.exports=c}(tl,tl.exports)),tl.exports}var a0,zx;function j6(){if(zx)return a0;zx=1;var t=Mi(),e=t.Uint8Array;return a0=e,a0}var o0,Jx;function yy(){if(Jx)return o0;Jx=1;var t=j6();function e(n){var i=new n.constructor(n.byteLength);return new t(i).set(new t(n)),i}return o0=e,o0}var u0,Zx;function u2(){if(Zx)return u0;Zx=1;var t=yy();function e(n,i){var s=i?t(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.length)}return u0=e,u0}var l0,Qx;function l2(){if(Qx)return l0;Qx=1;function t(e,n){var i=-1,s=e.length;for(n||(n=Array(s));++i<s;)n[i]=e[i];return n}return l0=t,l0}var c0,eS;function W6(){if(eS)return c0;eS=1;var t=mi(),e=Object.create,n=function(){function i(){}return function(s){if(!t(s))return{};if(e)return e(s);i.prototype=s;var a=new i;return i.prototype=void 0,a}}();return c0=n,c0}var f0,tS;function c2(){if(tS)return f0;tS=1;function t(e,n){return function(i){return e(n(i))}}return f0=t,f0}var h0,rS;function Ty(){if(rS)return h0;rS=1;var t=c2(),e=t(Object.getPrototypeOf,Object);return h0=e,h0}var p0,nS;function by(){if(nS)return p0;nS=1;var t=Object.prototype;function e(n){var i=n&&n.constructor,s=typeof i=="function"&&i.prototype||t;return n===s}return p0=e,p0}var d0,iS;function f2(){if(iS)return d0;iS=1;var t=W6(),e=Ty(),n=by();function i(s){return typeof s.constructor=="function"&&!n(s)?t(e(s)):{}}return d0=i,d0}var _0,sS;function Ra(){if(sS)return _0;sS=1;function t(e){return e!=null&&typeof e=="object"}return _0=t,_0}var m0,aS;function X6(){if(aS)return m0;aS=1;var t=yu(),e=Ra(),n="[object Arguments]";function i(s){return e(s)&&t(s)==n}return m0=i,m0}var g0,oS;function h2(){if(oS)return g0;oS=1;var t=X6(),e=Ra(),n=Object.prototype,i=n.hasOwnProperty,s=n.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(r){return e(r)&&i.call(r,"callee")&&!s.call(r,"callee")};return g0=a,g0}var E0,uS;function xa(){if(uS)return E0;uS=1;var t=Array.isArray;return E0=t,E0}var v0,lS;function p2(){if(lS)return v0;lS=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return v0=e,v0}var y0,cS;function sh(){if(cS)return y0;cS=1;var t=gy(),e=p2();function n(i){return i!=null&&e(i.length)&&!t(i)}return y0=n,y0}var T0,fS;function H6(){if(fS)return T0;fS=1;var t=sh(),e=Ra();function n(i){return e(i)&&t(i)}return T0=n,T0}var rl={exports:{}},b0,hS;function Y6(){if(hS)return b0;hS=1;function t(){return!1}return b0=t,b0}rl.exports;var pS;function Ry(){return pS||(pS=1,function(t,e){var n=Mi(),i=Y6(),s=e&&!e.nodeType&&e,a=s&&!0&&t&&!t.nodeType&&t,r=a&&a.exports===s,u=r?n.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||i;t.exports=f}(rl,rl.exports)),rl.exports}var R0,dS;function z6(){if(dS)return R0;dS=1;var t=yu(),e=Ty(),n=Ra(),i="[object Object]",s=Function.prototype,a=Object.prototype,r=s.toString,u=a.hasOwnProperty,c=r.call(Object);function f(h){if(!n(h)||t(h)!=i)return!1;var d=e(h);if(d===null)return!0;var g=u.call(d,"constructor")&&d.constructor;return typeof g=="function"&&g instanceof g&&r.call(g)==c}return R0=f,R0}var x0,_S;function J6(){if(_S)return x0;_S=1;var t=yu(),e=p2(),n=Ra(),i="[object Arguments]",s="[object Array]",a="[object Boolean]",r="[object Date]",u="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",d="[object Object]",g="[object RegExp]",E="[object Set]",v="[object String]",S="[object WeakMap]",x="[object ArrayBuffer]",A="[object DataView]",w="[object Float32Array]",I="[object Float64Array]",C="[object Int8Array]",R="[object Int16Array]",_="[object Int32Array]",L="[object Uint8Array]",b="[object Uint8ClampedArray]",O="[object Uint16Array]",k="[object Uint32Array]",j={};j[w]=j[I]=j[C]=j[R]=j[_]=j[L]=j[b]=j[O]=j[k]=!0,j[i]=j[s]=j[x]=j[a]=j[A]=j[r]=j[u]=j[c]=j[f]=j[h]=j[d]=j[g]=j[E]=j[v]=j[S]=!1;function B(ae){return n(ae)&&e(ae.length)&&!!j[t(ae)]}return x0=B,x0}var S0,mS;function xy(){if(mS)return S0;mS=1;function t(e){return function(n){return e(n)}}return S0=t,S0}var nl={exports:{}};nl.exports;var gS;function Sy(){return gS||(gS=1,function(t,e){var n=t2(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,r=a&&n.process,u=function(){try{var c=s&&s.require&&s.require("util").types;return c||r&&r.binding&&r.binding("util")}catch{}}();t.exports=u}(nl,nl.exports)),nl.exports}var C0,ES;function d2(){if(ES)return C0;ES=1;var t=J6(),e=xy(),n=Sy(),i=n&&n.isTypedArray,s=i?e(i):t;return C0=s,C0}var A0,vS;function _2(){if(vS)return A0;vS=1;function t(e,n){if(!(n==="constructor"&&typeof e[n]=="function")&&n!="__proto__")return e[n]}return A0=t,A0}var L0,yS;function Cy(){if(yS)return L0;yS=1;var t=vy(),e=Qf(),n=Object.prototype,i=n.hasOwnProperty;function s(a,r,u){var c=a[r];(!(i.call(a,r)&&e(c,u))||u===void 0&&!(r in a))&&t(a,r,u)}return L0=s,L0}var w0,TS;function Kl(){if(TS)return w0;TS=1;var t=Cy(),e=vy();function n(i,s,a,r){var u=!a;a||(a={});for(var c=-1,f=s.length;++c<f;){var h=s[c],d=r?r(a[h],i[h],h,a,i):void 0;d===void 0&&(d=i[h]),u?e(a,h,d):t(a,h,d)}return a}return w0=n,w0}var O0,bS;function Z6(){if(bS)return O0;bS=1;function t(e,n){for(var i=-1,s=Array(e);++i<e;)s[i]=n(i);return s}return O0=t,O0}var I0,RS;function Ay(){if(RS)return I0;RS=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,s){var a=typeof i;return s=s??t,!!s&&(a=="number"||a!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<s}return I0=n,I0}var N0,xS;function m2(){if(xS)return N0;xS=1;var t=Z6(),e=h2(),n=xa(),i=Ry(),s=Ay(),a=d2(),r=Object.prototype,u=r.hasOwnProperty;function c(f,h){var d=n(f),g=!d&&e(f),E=!d&&!g&&i(f),v=!d&&!g&&!E&&a(f),S=d||g||E||v,x=S?t(f.length,String):[],A=x.length;for(var w in f)(h||u.call(f,w))&&!(S&&(w=="length"||E&&(w=="offset"||w=="parent")||v&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||s(w,A)))&&x.push(w);return x}return N0=c,N0}var P0,SS;function Q6(){if(SS)return P0;SS=1;function t(e){var n=[];if(e!=null)for(var i in Object(e))n.push(i);return n}return P0=t,P0}var k0,CS;function e7(){if(CS)return k0;CS=1;var t=mi(),e=by(),n=Q6(),i=Object.prototype,s=i.hasOwnProperty;function a(r){if(!t(r))return n(r);var u=e(r),c=[];for(var f in r)f=="constructor"&&(u||!s.call(r,f))||c.push(f);return c}return k0=a,k0}var D0,AS;function $l(){if(AS)return D0;AS=1;var t=m2(),e=e7(),n=sh();function i(s){return n(s)?t(s,!0):e(s)}return D0=i,D0}var B0,LS;function t7(){if(LS)return B0;LS=1;var t=Kl(),e=$l();function n(i){return t(i,e(i))}return B0=n,B0}var U0,wS;function r7(){if(wS)return U0;wS=1;var t=a2(),e=o2(),n=u2(),i=l2(),s=f2(),a=h2(),r=xa(),u=H6(),c=Ry(),f=gy(),h=mi(),d=z6(),g=d2(),E=_2(),v=t7();function S(x,A,w,I,C,R,_){var L=E(x,w),b=E(A,w),O=_.get(b);if(O){t(x,w,O);return}var k=R?R(L,b,w+"",x,A,_):void 0,j=k===void 0;if(j){var B=r(b),ae=!B&&c(b),fe=!B&&!ae&&g(b);k=b,B||ae||fe?r(L)?k=L:u(L)?k=i(L):ae?(j=!1,k=e(b,!0)):fe?(j=!1,k=n(b,!0)):k=[]:d(b)||a(b)?(k=L,a(L)?k=v(L):(!h(L)||f(L))&&(k=s(b))):j=!1}j&&(_.set(b,k),C(k,b,I,R,_),_.delete(b)),t(x,w,k)}return U0=S,U0}var M0,OS;function n7(){if(OS)return M0;OS=1;var t=i2(),e=a2(),n=G6(),i=r7(),s=mi(),a=$l(),r=_2();function u(c,f,h,d,g){c!==f&&n(f,function(E,v){if(g||(g=new t),s(E))i(c,f,v,h,u,d,g);else{var S=d?d(r(c,v),E,v+"",c,f,g):void 0;S===void 0&&(S=E),e(c,v,S)}},a)}return M0=u,M0}var K0,IS;function g2(){if(IS)return K0;IS=1;function t(e){return e}return K0=t,K0}var $0,NS;function i7(){if(NS)return $0;NS=1;function t(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}return $0=t,$0}var V0,PS;function s7(){if(PS)return V0;PS=1;var t=i7(),e=Math.max;function n(i,s,a){return s=e(s===void 0?i.length-1:s,0),function(){for(var r=arguments,u=-1,c=e(r.length-s,0),f=Array(c);++u<c;)f[u]=r[s+u];u=-1;for(var h=Array(s+1);++u<s;)h[u]=r[u];return h[s]=a(f),t(i,this,h)}}return V0=n,V0}var F0,kS;function a7(){if(kS)return F0;kS=1;function t(e){return function(){return e}}return F0=t,F0}var q0,DS;function o7(){if(DS)return q0;DS=1;var t=a7(),e=s2(),n=g2(),i=e?function(s,a){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:n;return q0=i,q0}var G0,BS;function u7(){if(BS)return G0;BS=1;var t=800,e=16,n=Date.now;function i(s){var a=0,r=0;return function(){var u=n(),c=e-(u-r);if(r=u,c>0){if(++a>=t)return arguments[0]}else a=0;return s.apply(void 0,arguments)}}return G0=i,G0}var j0,US;function l7(){if(US)return j0;US=1;var t=o7(),e=u7(),n=e(t);return j0=n,j0}var W0,MS;function c7(){if(MS)return W0;MS=1;var t=g2(),e=s7(),n=l7();function i(s,a){return n(e(s,a,t),s+"")}return W0=i,W0}var X0,KS;function E2(){if(KS)return X0;KS=1;var t=Qf(),e=sh(),n=Ay(),i=mi();function s(a,r,u){if(!i(u))return!1;var c=typeof r;return(c=="number"?e(u)&&n(r,u.length):c=="string"&&r in u)?t(u[r],a):!1}return X0=s,X0}var H0,$S;function f7(){if($S)return H0;$S=1;var t=c7(),e=E2();function n(i){return t(function(s,a){var r=-1,u=a.length,c=u>1?a[u-1]:void 0,f=u>2?a[2]:void 0;for(c=i.length>3&&typeof c=="function"?(u--,c):void 0,f&&e(a[0],a[1],f)&&(c=u<3?void 0:c,u=1),s=Object(s);++r<u;){var h=a[r];h&&i(s,h,r,c)}return s})}return H0=n,H0}var Y0,VS;function h7(){if(VS)return Y0;VS=1;var t=n7(),e=f7(),n=e(function(i,s,a){t(i,s,a)});return Y0=n,Y0}var p7=h7();const d7=is(p7);class iu{static set(e){if(e&&this.isSupported(e)){this.locale=e,this.setDocumentLanguage();return}this.locale=this.getPreferredDeviceLocale(),this.setDocumentLanguage()}static getPreferredDeviceLocale(){const e=navigator.languages;for(let n=0;n<e.length;n++)if(this.isSupported(e[n]))return e[n];return this.supported[0]}static isSupported(e){return Object.values(this.supported).includes(e)}static setDocumentLanguage(){const n={en:"en-US",fr:"fr",it:"it",de:"de",es:"es-ES","es-XL":"es-419","pt-BR":"pt-BR"}[this.locale]??"en-US";document.documentElement.setAttribute("lang",n)}static mergeMessages(...e){return d7(e[0],...e)}}be(iu,"locale"),be(iu,"supported",["en","fr","it","de","es","es-XL","pt-BR"]);const Yo=class Yo{static get serverUrl(){const e=this.getQueryParam("server")??this.getQueryParam("s");return!e||e==="live"?"ecast.jackboxgames.com":e==="local"?"https://localhost":e.includes("localhost")?e:`${e}.jackboxgames.com`}static isDevelopment(){return window.location.hostname==="dev.jackbox.tv"||window.location.hostname==="localhost"}static isProduction(){return window.location.hostname==="jackbox.tv"}static get isCanvasSupported(){const e=document.createElement("canvas");return!!(e.getContext&&e.getContext("2d"))}static get isDragAndDropSupported(){const e=document.createElement("div");return!(!("draggable"in e)||!("ondragstart"in e)||!("ondrop"in e)||/Firefox/i.test(navigator.userAgent)&&/Android|Mobile/i.test(navigator.userAgent))}static get isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}static htmlUnescape(e){return String(e).replace(/&quot;/gi,'"').replace(/&#39;/gi,"'").replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/&amp;/gi,"&")}static htmlEscape(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}static sanitize(e){const n=this.sanitizeInput(e).replace(/'/g,"");return this.htmlEscape(n).trim()}static sanitizeName(e){return e.replace(/[^A-Z0-9\u00A1\u0020-\u002F\u00BF-\u00FF\u2026!?*$+\-'_ .,]/gi,"").replace(/'/g,"")}static sanitizeInput(e){return e=e.replace("","..."),e.replace(/[^\u00A1\u0020-\u007E\u00BF-\u00FF]/gi,"")}static sanitizeEmoji(e){return e.replace(/(\u00a9|\u00ae|[\u2000-\u2017]|[\u2020-\u3300]|\ud83c[\ud000-\udfff]|\ud83d[\ud000-\udfff]|\ud83e[\ud000-\udfff])/,"")}static safeText(e){const n=document.createElement("div");return n.textContent=e,n.innerHTML}static htmlTagsToBBCode(e,n){if(!n.length)throw new Error("[Utils.htmlTagsToBBCode] No tag pairs were passed in");return n.reduce((i,s)=>(i.replaceAll(`<${s[0]}>`,`[${s[1]}]`),i.replaceAll(`</${s[0]}>`,`</${s[1]}>`),i),e)}static hexToRgb(e){const n=new ArrayBuffer(4);new DataView(n).setUint32(0,parseInt(e.replace("#",""),16),!1);const s=new Uint8Array(n);return`${s[1]},${s[2]},${s[3]}`}static adjustColor(e,n){let i=!1,s=e;s[0]==="#"&&(s=s.slice(1),i=!0);const a=parseInt(s,16),r=Math.min(Math.max(0,(a>>16)*n),255),u=Math.min(Math.max(0,(a>>8&255)*n),255);let f=(Math.min(Math.max(0,(a&255)*n),255)|u<<8|r<<16).toString(16);for(;f.length<s.length;)f=`0${f}`;return(i?"#":"")+f}static mostFrequent(e){const n=new Map;let i=e[0],s=0;for(let a=0;a<e.length;a++){const r=e[a],u=(n.get(r)||0)+1;n.set(r,u),u>s&&(i=r,s=u)}return i}static toPrecision(e,n){const i=10**n;return Math.round((e+Number.EPSILON)*i)/i}static isInTolerance(e,n,i){return!(Math.abs(e.x-n.x)<i||Math.abs(e.y-n.y)>i)}static getDistanceBetweenPoints(e,n){const i=[e.x-n.x,e.y-n.y],s=Math.hypot(...i);return Math.round(s*100)/100}static getMidpoint(e,n){return{x:(e.x+n.x)/2,y:(e.y+n.y)/2}}static getAngleBetweenPoints(e,n){let s=Math.atan2(n.y-e.y,n.x-e.x)*(180/Math.PI);return s<0&&(s+=360),360-s}static getAngularDistance(e,n){let i=(n-e)%360;const s=i<0?1:-1;return i=Math.abs(i),i>180?s*(360-i):s*i}static getVelocity(e,n,i,s){return this.getDistanceBetweenPoints(e,i)/(s-n)}static isInsideElement(e,n){const i=n.getBoundingClientRect();return!(e.x<i.left||e.x>i.left+i.width||e.y<i.top||e.y>i.top+i.height)}static rotatePointByRadians(e,n,i){const s=n.x+(e.x-n.x)*Math.cos(i)-(e.y-n.y)*Math.sin(i),a=n.y+(e.x-n.x)*Math.sin(i)+(e.y-n.y)*Math.cos(i);return{x:s,y:a}}static rotatePointByDegrees(e,n,i){const s=i*(Math.PI/180);return this.rotatePointByRadians(e,n,s)}static rotatePoint(e,n,i){return this.rotatePointByDegrees(e,n,i)}static cyrb128(e){let n=1779033703,i=3144134277,s=1013904242,a=2773480762;for(let r=0,u;r<e.length;r++)u=e.charCodeAt(r),n=i^Math.imul(n^u,597399067),i=s^Math.imul(i^u,2869860233),s=a^Math.imul(s^u,951274213),a=n^Math.imul(a^u,2716044179);return n=Math.imul(s^n>>>18,597399067),i=Math.imul(a^i>>>22,2869860233),s=Math.imul(n^s>>>17,951274213),a=Math.imul(i^a>>>19,2716044179),[(n^i^s^a)>>>0,(i^n)>>>0,(s^n)>>>0,(a^n)>>>0]}static sfc32(e,n,i,s){return function(){e>>>=0,n>>>=0,i>>>=0,s>>>=0;let r=e+n|0;return e=n^n>>>9,n=i+(i<<3)|0,i=i<<21|i>>>11,s=s+1|0,r=r+s|0,i=i+r|0,(r>>>0)/4294967296}}};be(Yo,"queryParams",new URLSearchParams(window.location.search)),be(Yo,"getQueryParam",e=>Yo.queryParams.get(e)),be(Yo,"sleep",e=>new Promise(n=>{window.setTimeout(n,e)}));let Zi=Yo;class Mr{static get namespace(){var e;return((e=window.tv.storage)==null?void 0:e.namespace)??this.defaultNamespace}static get isDisabled(){var e;return((e=window.tv.storage)==null?void 0:e.isDisabled)??!1}static get tag(){var e;return(e=window.tv.storage)==null?void 0:e.tag}static get code(){var e;return(e=window.tv.storage)==null?void 0:e.code}static get isSupported(){if(this.isDisabled)return!1;try{return window.localStorage?(window.localStorage.setItem("support-check","1"),window.localStorage.removeItem("support-check"),!0):!1}catch{return!1}}static setup(e,n){delete window.tv.storage,window.tv.storage={namespace:Zi.getQueryParam("namespace")??Zi.getQueryParam("ns")??this.defaultNamespace,isDisabled:Zi.queryParams.has("incognito")||Zi.queryParams.has("nc")},e&&(window.tv.storage.tag=e),n&&(window.tv.storage.code=n.toLowerCase(),this.clearCodeScopedKeys(window.tv.storage.code))}static get(e,n){return this.isSupported?window.localStorage.getItem(this.getScopedKey(e,n)):null}static set(e,n,i="none"){if(this.isSupported)return window.localStorage.setItem(this.getScopedSetKey(e,i),n)}static remove(e,n){if(this.isSupported)return window.localStorage.removeItem(this.getScopedKey(e,n))}static setTag(e){const n=e.toLowerCase(),i=this.get("tags")??"[]",s=n.split("-")[0];let a=JSON.parse(i);a=a.filter(r=>{const u=r.split("-")[0];return s!==u}),a.push(n),this.set("tags",JSON.stringify(a))}static getScopedKey(e,n){const i=`${this.namespace}:${e}`,s=this.tag?`${this.namespace}:${e}:tag:${this.tag}`:null,a=this.code?`${this.namespace}:${e}:code:${this.code}`:null;if(n==="none")return i;if(n==="tag"){if(!s)throw new Error('[Storage] requested "tag" scope but tv.storage.tag is undefined');return s}if(n==="code"){if(!a)throw new Error('[Storage] requested "code" scope but tv.storage.code is undefined');return a}return a&&window.localStorage.getItem(a)!==null?a:s&&window.localStorage.getItem(s)!==null?s:i}static getScopedSetKey(e,n="none"){if(n==="tag"){if(!this.tag)throw new Error('[Storage] requested "room" scope but tv.storage.tag is undefined');return`${this.namespace}:${e}:tag:${this.tag}`}if(n==="code"){if(!this.code)throw new Error('[Storage] requested "code" scope but tv.storage.code is undefined');return`${this.namespace}:${e}:code:${this.code}`}return`${this.namespace}:${e}`}static clearCodeScopedKeys(e){this.isSupported&&Object.keys(window.localStorage).forEach(n=>{const i=n.split(":code:");i.length<=1||i[1]!==e&&window.localStorage.removeItem(n)})}}be(Mr,"defaultNamespace","tv");class pl{constructor(){be(this,"artifacts");this.migrate(),this.artifacts=this.list()}get hasUnviewed(){return this.artifacts.some(e=>!e.isViewed)}getUrl(e,n){return n.galleryId?`/gallery/${n.galleryId}/${e.artifactId}`:e.isTest?`http://games-test.jackbox.tv/artifact/${e.categoryId}/${e.artifactId}/`:`https://games.jackbox.tv/artifact/${e.categoryId}/${e.artifactId}/`}getLocalArtifact(e){const n=new Intl.DateTimeFormat(iu.locale,{year:"numeric",month:"short",day:"numeric"}),i=_a(e.categoryId);if(!i)return console.error(`[Artifacts] Unknown game with categoryId ${e.categoryId}`),null;const s=new Date(e.time),a=n.format(s),r=this.getUrl(e,i);return{...e,gameName:i.name??"",date:a,url:r}}list(){if(!Mr.isSupported)return[];const e=Date.now(),n=Mr.get("artifacts");if(!n)return[];try{return JSON.parse(n).filter(s=>e-s.time<525600*60*1e3).map(s=>this.getLocalArtifact(s)).filter(s=>s!==null)}catch{return console.warn("[Artifacts] Unable to parse artifacts array"),[]}}persist(){const e=this.artifacts.map(n=>({artifactId:n.artifactId,categoryId:n.categoryId,isTest:n.isTest,isViewed:n.isViewed,time:n.time}));Mr.set("artifacts",JSON.stringify(e))}setAsViewed(e){if(Mr.isSupported&&this.artifacts[e])try{this.artifacts[e].isViewed=!0,this.persist()}catch{console.warn(`[Artifacts] Unable to mark artifact ${e} as viewed`)}}add(e){var s;if(!Mr.isSupported||!_a(e.categoryId))return;const n={categoryId:e.categoryId,artifactId:e.artifactId,isTest:((s=e.rootId)==null?void 0:s.includes("test"))??!1,time:new Date().getTime(),isViewed:!1},i=this.getLocalArtifact(n);i&&(this.artifacts.unshift(i),this.persist())}remove(e){if(Mr.isSupported)try{this.artifacts.splice(e,1),this.persist()}catch{console.warn("[Artifacts] Unable to remove artifact")}}static setAsViewed(e){new pl().setAsViewed(e)}static add(e){new pl().add(e)}static remove(e){new pl().remove(e)}migrate(){const e=Mr.get("galleries");if(!e)return;const i=JSON.parse(e).map(a=>{const r=a.url.split("/"),u=r[r.length-2],c=a.url.includes("games-test");return{categoryId:a.categoryId,artifactId:u,isTest:c,time:a.time,isViewed:a.viewed}}),s=JSON.parse(Mr.get("artifacts")??"[]");Mr.set("artifacts",JSON.stringify([...i,...s])),Mr.remove("galleries")}}class v2{static isObject(e){return e===null?!1:typeof e=="object"}static isRef(e){return e===null?!1:e.$ref!==void 0}static isObjAndRef(e){return e===null?!1:this.isObject(e)&&Object.keys(e).length>1&&this.isRef(e)}static isModernArtifact(e){return"blob"in e}static isArtifactWithRefs(e){return e.blob?"refs"in e.blob:!1}static makeRefObj(e,n){if(!this.isObject(n))return;const i={...e[n.$ref]},s=Object.keys(n);for(let a=0;a<s.length;a++){const r=s[a];r!=="$ref"&&(i[r]=n[r])}return i}static recurse(e,n){if(this.isObjAndRef(n))return this.makeRefObj(e,n);if(this.isRef(n))return e[n.$ref];if(Array.isArray(n))for(let i=0;i<n.length;i++){const s=this.recurse(e,n[i]);s&&(n[i]=s)}if(this.isObject(n)){const i=Object.keys(n);for(let s=0;s<i.length;s++){const a=this.recurse(e,n[i[s]]);a&&(n[i[s]]=a)}}}static async hydrateFromUrl(e){const i=await(await fetch(e)).json();return this.hydrate(i)}static hydrate(e){return!this.isModernArtifact(e)||!this.isArtifactWithRefs(e)||(this.recurse(e.blob.refs,e.blob),delete e.blob.refs),e}}var Hc={exports:{}},FS;function _7(){return FS||(FS=1,function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof br<"u"&&br,i=function(){function a(){this.fetch=!1,this.DOMException=n.DOMException}return a.prototype=n,new a}();(function(a){(function(r){var u=typeof a<"u"&&a||typeof self<"u"&&self||typeof br<"u"&&br||{},c={searchParams:"URLSearchParams"in u,iterable:"Symbol"in u&&"iterator"in Symbol,blob:"FileReader"in u&&"Blob"in u&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in u,arrayBuffer:"ArrayBuffer"in u};function f(G){return G&&DataView.prototype.isPrototypeOf(G)}if(c.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(G){return G&&h.indexOf(Object.prototype.toString.call(G))>-1};function g(G){if(typeof G!="string"&&(G=String(G)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(G)||G==="")throw new TypeError('Invalid character in header field name: "'+G+'"');return G.toLowerCase()}function E(G){return typeof G!="string"&&(G=String(G)),G}function v(G){var re={next:function(){var ce=G.shift();return{done:ce===void 0,value:ce}}};return c.iterable&&(re[Symbol.iterator]=function(){return re}),re}function S(G){this.map={},G instanceof S?G.forEach(function(re,ce){this.append(ce,re)},this):Array.isArray(G)?G.forEach(function(re){if(re.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+re.length);this.append(re[0],re[1])},this):G&&Object.getOwnPropertyNames(G).forEach(function(re){this.append(re,G[re])},this)}S.prototype.append=function(G,re){G=g(G),re=E(re);var ce=this.map[G];this.map[G]=ce?ce+", "+re:re},S.prototype.delete=function(G){delete this.map[g(G)]},S.prototype.get=function(G){return G=g(G),this.has(G)?this.map[G]:null},S.prototype.has=function(G){return this.map.hasOwnProperty(g(G))},S.prototype.set=function(G,re){this.map[g(G)]=E(re)},S.prototype.forEach=function(G,re){for(var ce in this.map)this.map.hasOwnProperty(ce)&&G.call(re,this.map[ce],ce,this)},S.prototype.keys=function(){var G=[];return this.forEach(function(re,ce){G.push(ce)}),v(G)},S.prototype.values=function(){var G=[];return this.forEach(function(re){G.push(re)}),v(G)},S.prototype.entries=function(){var G=[];return this.forEach(function(re,ce){G.push([ce,re])}),v(G)},c.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);function x(G){if(!G._noBody){if(G.bodyUsed)return Promise.reject(new TypeError("Already read"));G.bodyUsed=!0}}function A(G){return new Promise(function(re,ce){G.onload=function(){re(G.result)},G.onerror=function(){ce(G.error)}})}function w(G){var re=new FileReader,ce=A(re);return re.readAsArrayBuffer(G),ce}function I(G){var re=new FileReader,ce=A(re),he=/charset=([A-Za-z0-9_-]+)/.exec(G.type),we=he?he[1]:"utf-8";return re.readAsText(G,we),ce}function C(G){for(var re=new Uint8Array(G),ce=new Array(re.length),he=0;he<re.length;he++)ce[he]=String.fromCharCode(re[he]);return ce.join("")}function R(G){if(G.slice)return G.slice(0);var re=new Uint8Array(G.byteLength);return re.set(new Uint8Array(G)),re.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(G){this.bodyUsed=this.bodyUsed,this._bodyInit=G,G?typeof G=="string"?this._bodyText=G:c.blob&&Blob.prototype.isPrototypeOf(G)?this._bodyBlob=G:c.formData&&FormData.prototype.isPrototypeOf(G)?this._bodyFormData=G:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(G)?this._bodyText=G.toString():c.arrayBuffer&&c.blob&&f(G)?(this._bodyArrayBuffer=R(G.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(G)||d(G))?this._bodyArrayBuffer=R(G):this._bodyText=G=Object.prototype.toString.call(G):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof G=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(G)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var G=x(this);if(G)return G;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var G=x(this);return G||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var G=x(this);if(G)return G;if(this._bodyBlob)return I(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(k)}),this.json=function(){return this.text().then(JSON.parse)},this}var L=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function b(G){var re=G.toUpperCase();return L.indexOf(re)>-1?re:G}function O(G,re){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');re=re||{};var ce=re.body;if(G instanceof O){if(G.bodyUsed)throw new TypeError("Already read");this.url=G.url,this.credentials=G.credentials,re.headers||(this.headers=new S(G.headers)),this.method=G.method,this.mode=G.mode,this.signal=G.signal,!ce&&G._bodyInit!=null&&(ce=G._bodyInit,G.bodyUsed=!0)}else this.url=String(G);if(this.credentials=re.credentials||this.credentials||"same-origin",(re.headers||!this.headers)&&(this.headers=new S(re.headers)),this.method=b(re.method||this.method||"GET"),this.mode=re.mode||this.mode||null,this.signal=re.signal||this.signal||function(){if("AbortController"in u){var Ae=new AbortController;return Ae.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&ce)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(ce),(this.method==="GET"||this.method==="HEAD")&&(re.cache==="no-store"||re.cache==="no-cache")){var he=/([?&])_=[^&]*/;if(he.test(this.url))this.url=this.url.replace(he,"$1_="+new Date().getTime());else{var we=/\?/;this.url+=(we.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})};function k(G){var re=new FormData;return G.trim().split("&").forEach(function(ce){if(ce){var he=ce.split("="),we=he.shift().replace(/\+/g," "),Ae=he.join("=").replace(/\+/g," ");re.append(decodeURIComponent(we),decodeURIComponent(Ae))}}),re}function j(G){var re=new S,ce=G.replace(/\r?\n[\t ]+/g," ");return ce.split("\r").map(function(he){return he.indexOf(`
`)===0?he.substr(1,he.length):he}).forEach(function(he){var we=he.split(":"),Ae=we.shift().trim();if(Ae){var ye=we.join(":").trim();try{re.append(Ae,ye)}catch(W){console.warn("Response "+W.message)}}}),re}_.call(O.prototype);function B(G,re){if(!(this instanceof B))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(re||(re={}),this.type="default",this.status=re.status===void 0?200:re.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=re.statusText===void 0?"":""+re.statusText,this.headers=new S(re.headers),this.url=re.url||"",this._initBody(G)}_.call(B.prototype),B.prototype.clone=function(){return new B(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},B.error=function(){var G=new B(null,{status:200,statusText:""});return G.ok=!1,G.status=0,G.type="error",G};var ae=[301,302,303,307,308];B.redirect=function(G,re){if(ae.indexOf(re)===-1)throw new RangeError("Invalid status code");return new B(null,{status:re,headers:{location:G}})},r.DOMException=u.DOMException;try{new r.DOMException}catch{r.DOMException=function(re,ce){this.message=re,this.name=ce;var he=Error(re);this.stack=he.stack},r.DOMException.prototype=Object.create(Error.prototype),r.DOMException.prototype.constructor=r.DOMException}function fe(G,re){return new Promise(function(ce,he){var we=new O(G,re);if(we.signal&&we.signal.aborted)return he(new r.DOMException("Aborted","AbortError"));var Ae=new XMLHttpRequest;function ye(){Ae.abort()}Ae.onload=function(){var He={statusText:Ae.statusText,headers:j(Ae.getAllResponseHeaders()||"")};we.url.indexOf("file://")===0&&(Ae.status<200||Ae.status>599)?He.status=200:He.status=Ae.status,He.url="responseURL"in Ae?Ae.responseURL:He.headers.get("X-Request-URL");var je="response"in Ae?Ae.response:Ae.responseText;setTimeout(function(){ce(new B(je,He))},0)},Ae.onerror=function(){setTimeout(function(){he(new TypeError("Network request failed"))},0)},Ae.ontimeout=function(){setTimeout(function(){he(new TypeError("Network request timed out"))},0)},Ae.onabort=function(){setTimeout(function(){he(new r.DOMException("Aborted","AbortError"))},0)};function W(He){try{return He===""&&u.location.href?u.location.href:He}catch{return He}}if(Ae.open(we.method,W(we.url),!0),we.credentials==="include"?Ae.withCredentials=!0:we.credentials==="omit"&&(Ae.withCredentials=!1),"responseType"in Ae&&(c.blob?Ae.responseType="blob":c.arrayBuffer&&(Ae.responseType="arraybuffer")),re&&typeof re.headers=="object"&&!(re.headers instanceof S||u.Headers&&re.headers instanceof u.Headers)){var pe=[];Object.getOwnPropertyNames(re.headers).forEach(function(He){pe.push(g(He)),Ae.setRequestHeader(He,E(re.headers[He]))}),we.headers.forEach(function(He,je){pe.indexOf(je)===-1&&Ae.setRequestHeader(je,He)})}else we.headers.forEach(function(He,je){Ae.setRequestHeader(je,He)});we.signal&&(we.signal.addEventListener("abort",ye),Ae.onreadystatechange=function(){Ae.readyState===4&&we.signal.removeEventListener("abort",ye)}),Ae.send(typeof we._bodyInit>"u"?null:we._bodyInit)})}return fe.polyfill=!0,u.fetch||(u.fetch=fe,u.Headers=S,u.Request=O,u.Response=B),r.Headers=S,r.Request=O,r.Response=B,r.fetch=fe,r})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e}(Hc,Hc.exports)),Hc.exports}var z0,qS;function Tu(){return qS||(qS=1,z0=TypeError),z0}const m7={},g7=Object.freeze(Object.defineProperty({__proto__:null,default:m7},Symbol.toStringTag,{value:"Module"})),E7=t6(g7);var J0,GS;function ah(){if(GS)return J0;GS=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,n=t&&e&&typeof e.get=="function"?e.get:null,i=t&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,r=s&&a&&typeof a.get=="function"?a.get:null,u=s&&Set.prototype.forEach,c=typeof WeakMap=="function"&&WeakMap.prototype,f=c?WeakMap.prototype.has:null,h=typeof WeakSet=="function"&&WeakSet.prototype,d=h?WeakSet.prototype.has:null,g=typeof WeakRef=="function"&&WeakRef.prototype,E=g?WeakRef.prototype.deref:null,v=Boolean.prototype.valueOf,S=Object.prototype.toString,x=Function.prototype.toString,A=String.prototype.match,w=String.prototype.slice,I=String.prototype.replace,C=String.prototype.toUpperCase,R=String.prototype.toLowerCase,_=RegExp.prototype.test,L=Array.prototype.concat,b=Array.prototype.join,O=Array.prototype.slice,k=Math.floor,j=typeof BigInt=="function"?BigInt.prototype.valueOf:null,B=Object.getOwnPropertySymbols,ae=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,fe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",G=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===fe||!0)?Symbol.toStringTag:null,re=Object.prototype.propertyIsEnumerable,ce=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Z){return Z.__proto__}:null);function he(Z,le){if(Z===1/0||Z===-1/0||Z!==Z||Z&&Z>-1e3&&Z<1e3||_.call(/e/,le))return le;var Ye=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof Z=="number"){var We=Z<0?-k(-Z):k(Z);if(We!==Z){var Xe=String(We),Et=w.call(le,Xe.length+1);return I.call(Xe,Ye,"$&_")+"."+I.call(I.call(Et,/([0-9]{3})/g,"$&_"),/_$/,"")}}return I.call(le,Ye,"$&_")}var we=E7,Ae=we.custom,ye=z(Ae)?Ae:null,W={__proto__:null,double:'"',single:"'"},pe={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};J0=function Z(le,Ye,We,Xe){var Et=Ye||{};if(ge(Et,"quoteStyle")&&!ge(W,Et.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ge(Et,"maxStringLength")&&(typeof Et.maxStringLength=="number"?Et.maxStringLength<0&&Et.maxStringLength!==1/0:Et.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fn=ge(Et,"customInspect")?Et.customInspect:!0;if(typeof fn!="boolean"&&fn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ge(Et,"indent")&&Et.indent!==null&&Et.indent!=="	"&&!(parseInt(Et.indent,10)===Et.indent&&Et.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ge(Et,"numericSeparator")&&typeof Et.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var Bn=Et.numericSeparator;if(typeof le>"u")return"undefined";if(le===null)return"null";if(typeof le=="boolean")return le?"true":"false";if(typeof le=="string")return Le(le,Et);if(typeof le=="number"){if(le===0)return 1/0/le>0?"0":"-0";var Dr=String(le);return Bn?he(le,Dr):Dr}if(typeof le=="bigint"){var Sn=String(le)+"n";return Bn?he(le,Sn):Sn}var us=typeof Et.depth>"u"?5:Et.depth;if(typeof We>"u"&&(We=0),We>=us&&us>0&&typeof le=="object")return xt(le)?"[Array]":"[Object]";var Zn=ie(Et,We);if(typeof Xe>"u")Xe=[];else if(D(Xe,le)>=0)return"[Circular]";function qr(Ei,fs,bo){if(fs&&(Xe=O.call(Xe),Xe.push(fs)),bo){var Oe={depth:Et.depth};return ge(Et,"quoteStyle")&&(Oe.quoteStyle=Et.quoteStyle),Z(Ei,Oe,We+1,Xe)}return Z(Ei,Et,We+1,Xe)}if(typeof le=="function"&&!pt(le)){var Fi=Re(le),vo=ke(le,qr);return"[Function"+(Fi?": "+Fi:" (anonymous)")+"]"+(vo.length>0?" { "+b.call(vo,", ")+" }":"")}if(z(le)){var At=fe?I.call(String(le),/^(Symbol\(.*\))_[^)]*$/,"$1"):ae.call(le);return typeof le=="object"&&!fe?X(At):At}if(ve(le)){for(var gi="<"+R.call(String(le.nodeName)),dr=le.attributes||[],ls=0;ls<dr.length;ls++)gi+=" "+dr[ls].name+"="+He(je(dr[ls].value),"double",Et);return gi+=">",le.childNodes&&le.childNodes.length&&(gi+="..."),gi+="</"+R.call(String(le.nodeName))+">",gi}if(xt(le)){if(le.length===0)return"[]";var Pa=ke(le,qr);return Zn&&!F(Pa)?"["+xe(Pa,Zn)+"]":"[ "+b.call(Pa,", ")+" ]"}if(Ze(le)){var ka=ke(le,qr);return!("cause"in Error.prototype)&&"cause"in le&&!re.call(le,"cause")?"{ ["+String(le)+"] "+b.call(L.call("[cause]: "+qr(le.cause),ka),", ")+" }":ka.length===0?"["+String(le)+"]":"{ ["+String(le)+"] "+b.call(ka,", ")+" }"}if(typeof le=="object"&&fn){if(ye&&typeof le[ye]=="function"&&we)return we(le,{depth:us-We});if(fn!=="symbol"&&typeof le.inspect=="function")return le.inspect()}if(M(le)){var qi=[];return i&&i.call(le,function(Ei,fs){qi.push(qr(fs,le,!0)+" => "+qr(Ei,le))}),se("Map",n.call(le),qi,Zn)}if(Ge(le)){var Jr=[];return u&&u.call(le,function(Ei){Jr.push(qr(Ei,le))}),se("Set",r.call(le),Jr,Zn)}if(de(le))return q("WeakMap");if(Ue(le))return q("WeakSet");if(Te(le))return q("WeakRef");if(H(le))return X(qr(Number(le)));if(J(le))return X(qr(j.call(le)));if(Q(le))return X(v.call(le));if(_t(le))return X(qr(String(le)));if(typeof window<"u"&&le===window)return"{ [object Window] }";if(typeof globalThis<"u"&&le===globalThis||typeof br<"u"&&le===br)return"{ [object globalThis] }";if(!Me(le)&&!pt(le)){var qs=ke(le,qr),yo=ce?ce(le)===Object.prototype:le instanceof Object||le.constructor===Object,cs=le instanceof Object?"":"null prototype",Qn=!yo&&G&&Object(le)===le&&G in le?w.call(Ie(le),8,-1):cs?"Object":"",To=yo||typeof le.constructor!="function"?"":le.constructor.name?le.constructor.name+" ":"",Gi=To+(Qn||cs?"["+b.call(L.call([],Qn||[],cs||[]),": ")+"] ":"");return qs.length===0?Gi+"{}":Zn?Gi+"{"+xe(qs,Zn)+"}":Gi+"{ "+b.call(qs,", ")+" }"}return String(le)};function He(Z,le,Ye){var We=Ye.quoteStyle||le,Xe=W[We];return Xe+Z+Xe}function je(Z){return I.call(String(Z),/"/g,"&quot;")}function ot(Z){return!G||!(typeof Z=="object"&&(G in Z||typeof Z[G]<"u"))}function xt(Z){return Ie(Z)==="[object Array]"&&ot(Z)}function Me(Z){return Ie(Z)==="[object Date]"&&ot(Z)}function pt(Z){return Ie(Z)==="[object RegExp]"&&ot(Z)}function Ze(Z){return Ie(Z)==="[object Error]"&&ot(Z)}function _t(Z){return Ie(Z)==="[object String]"&&ot(Z)}function H(Z){return Ie(Z)==="[object Number]"&&ot(Z)}function Q(Z){return Ie(Z)==="[object Boolean]"&&ot(Z)}function z(Z){if(fe)return Z&&typeof Z=="object"&&Z instanceof Symbol;if(typeof Z=="symbol")return!0;if(!Z||typeof Z!="object"||!ae)return!1;try{return ae.call(Z),!0}catch{}return!1}function J(Z){if(!Z||typeof Z!="object"||!j)return!1;try{return j.call(Z),!0}catch{}return!1}var _e=Object.prototype.hasOwnProperty||function(Z){return Z in this};function ge(Z,le){return _e.call(Z,le)}function Ie(Z){return S.call(Z)}function Re(Z){if(Z.name)return Z.name;var le=A.call(x.call(Z),/^function\s*([\w$]+)/);return le?le[1]:null}function D(Z,le){if(Z.indexOf)return Z.indexOf(le);for(var Ye=0,We=Z.length;Ye<We;Ye++)if(Z[Ye]===le)return Ye;return-1}function M(Z){if(!n||!Z||typeof Z!="object")return!1;try{n.call(Z);try{r.call(Z)}catch{return!0}return Z instanceof Map}catch{}return!1}function de(Z){if(!f||!Z||typeof Z!="object")return!1;try{f.call(Z,f);try{d.call(Z,d)}catch{return!0}return Z instanceof WeakMap}catch{}return!1}function Te(Z){if(!E||!Z||typeof Z!="object")return!1;try{return E.call(Z),!0}catch{}return!1}function Ge(Z){if(!r||!Z||typeof Z!="object")return!1;try{r.call(Z);try{n.call(Z)}catch{return!0}return Z instanceof Set}catch{}return!1}function Ue(Z){if(!d||!Z||typeof Z!="object")return!1;try{d.call(Z,d);try{f.call(Z,f)}catch{return!0}return Z instanceof WeakSet}catch{}return!1}function ve(Z){return!Z||typeof Z!="object"?!1:typeof HTMLElement<"u"&&Z instanceof HTMLElement?!0:typeof Z.nodeName=="string"&&typeof Z.getAttribute=="function"}function Le(Z,le){if(Z.length>le.maxStringLength){var Ye=Z.length-le.maxStringLength,We="... "+Ye+" more character"+(Ye>1?"s":"");return Le(w.call(Z,0,le.maxStringLength),le)+We}var Xe=pe[le.quoteStyle||"single"];Xe.lastIndex=0;var Et=I.call(I.call(Z,Xe,"\\$1"),/[\x00-\x1f]/g,Je);return He(Et,"single",le)}function Je(Z){var le=Z.charCodeAt(0),Ye={8:"b",9:"t",10:"n",12:"f",13:"r"}[le];return Ye?"\\"+Ye:"\\x"+(le<16?"0":"")+C.call(le.toString(16))}function X(Z){return"Object("+Z+")"}function q(Z){return Z+" { ? }"}function se(Z,le,Ye,We){var Xe=We?xe(Ye,We):b.call(Ye,", ");return Z+" ("+le+") {"+Xe+"}"}function F(Z){for(var le=0;le<Z.length;le++)if(D(Z[le],`
`)>=0)return!1;return!0}function ie(Z,le){var Ye;if(Z.indent==="	")Ye="	";else if(typeof Z.indent=="number"&&Z.indent>0)Ye=b.call(Array(Z.indent+1)," ");else return null;return{base:Ye,prev:b.call(Array(le+1),Ye)}}function xe(Z,le){if(Z.length===0)return"";var Ye=`
`+le.prev+le.base;return Ye+b.call(Z,","+Ye)+`
`+le.prev}function ke(Z,le){var Ye=xt(Z),We=[];if(Ye){We.length=Z.length;for(var Xe=0;Xe<Z.length;Xe++)We[Xe]=ge(Z,Xe)?le(Z[Xe],Z):""}var Et=typeof B=="function"?B(Z):[],fn;if(fe){fn={};for(var Bn=0;Bn<Et.length;Bn++)fn["$"+Et[Bn]]=Et[Bn]}for(var Dr in Z)ge(Z,Dr)&&(Ye&&String(Number(Dr))===Dr&&Dr<Z.length||fe&&fn["$"+Dr]instanceof Symbol||(_.call(/[^\w$]/,Dr)?We.push(le(Dr,Z)+": "+le(Z[Dr],Z)):We.push(Dr+": "+le(Z[Dr],Z))));if(typeof B=="function")for(var Sn=0;Sn<Et.length;Sn++)re.call(Z,Et[Sn])&&We.push("["+le(Et[Sn])+"]: "+le(Z[Et[Sn]],Z));return We}return J0}var Z0,jS;function v7(){if(jS)return Z0;jS=1;var t=ah(),e=Tu(),n=function(u,c,f){for(var h=u,d;(d=h.next)!=null;h=d)if(d.key===c)return h.next=d.next,f||(d.next=u.next,u.next=d),d},i=function(u,c){if(u){var f=n(u,c);return f&&f.value}},s=function(u,c,f){var h=n(u,c);h?h.value=f:u.next={key:c,next:u.next,value:f}},a=function(u,c){return u?!!n(u,c):!1},r=function(u,c){if(u)return n(u,c,!0)};return Z0=function(){var c,f={assert:function(h){if(!f.has(h))throw new e("Side channel does not contain "+t(h))},delete:function(h){var d=c&&c.next,g=r(c,h);return g&&d&&d===g&&(c=void 0),!!g},get:function(h){return i(c,h)},has:function(h){return a(c,h)},set:function(h,d){c||(c={next:void 0}),s(c,h,d)}};return f},Z0}var Q0,WS;function y2(){return WS||(WS=1,Q0=Object),Q0}var e_,XS;function y7(){return XS||(XS=1,e_=Error),e_}var t_,HS;function T7(){return HS||(HS=1,t_=EvalError),t_}var r_,YS;function b7(){return YS||(YS=1,r_=RangeError),r_}var n_,zS;function R7(){return zS||(zS=1,n_=ReferenceError),n_}var i_,JS;function x7(){return JS||(JS=1,i_=SyntaxError),i_}var s_,ZS;function S7(){return ZS||(ZS=1,s_=URIError),s_}var a_,QS;function C7(){return QS||(QS=1,a_=Math.abs),a_}var o_,eC;function A7(){return eC||(eC=1,o_=Math.floor),o_}var u_,tC;function L7(){return tC||(tC=1,u_=Math.max),u_}var l_,rC;function w7(){return rC||(rC=1,l_=Math.min),l_}var c_,nC;function O7(){return nC||(nC=1,c_=Math.pow),c_}var f_,iC;function I7(){return iC||(iC=1,f_=Math.round),f_}var h_,sC;function N7(){return sC||(sC=1,h_=Number.isNaN||function(e){return e!==e}),h_}var p_,aC;function P7(){if(aC)return p_;aC=1;var t=N7();return p_=function(n){return t(n)||n===0?n:n<0?-1:1},p_}var d_,oC;function k7(){return oC||(oC=1,d_=Object.getOwnPropertyDescriptor),d_}var __,uC;function T2(){if(uC)return __;uC=1;var t=k7();if(t)try{t([],"length")}catch{t=null}return __=t,__}var m_,lC;function D7(){if(lC)return m_;lC=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return m_=t,m_}var g_,cC;function B7(){return cC||(cC=1,g_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),i=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var s=42;e[n]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var r=Object.getOwnPropertySymbols(e);if(r.length!==1||r[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var u=Object.getOwnPropertyDescriptor(e,n);if(u.value!==s||u.enumerable!==!0)return!1}return!0}),g_}var E_,fC;function U7(){if(fC)return E_;fC=1;var t=typeof Symbol<"u"&&Symbol,e=B7();return E_=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},E_}var v_,hC;function b2(){return hC||(hC=1,v_=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),v_}var y_,pC;function R2(){if(pC)return y_;pC=1;var t=y2();return y_=t.getPrototypeOf||null,y_}var T_,dC;function M7(){if(dC)return T_;dC=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,i="[object Function]",s=function(c,f){for(var h=[],d=0;d<c.length;d+=1)h[d]=c[d];for(var g=0;g<f.length;g+=1)h[g+c.length]=f[g];return h},a=function(c,f){for(var h=[],d=f,g=0;d<c.length;d+=1,g+=1)h[g]=c[d];return h},r=function(u,c){for(var f="",h=0;h<u.length;h+=1)f+=u[h],h+1<u.length&&(f+=c);return f};return T_=function(c){var f=this;if(typeof f!="function"||e.apply(f)!==i)throw new TypeError(t+f);for(var h=a(arguments,1),d,g=function(){if(this instanceof d){var A=f.apply(this,s(h,arguments));return Object(A)===A?A:this}return f.apply(c,s(h,arguments))},E=n(0,f.length-h.length),v=[],S=0;S<E;S++)v[S]="$"+S;if(d=Function("binder","return function ("+r(v,",")+"){ return binder.apply(this,arguments); }")(g),f.prototype){var x=function(){};x.prototype=f.prototype,d.prototype=new x,x.prototype=null}return d},T_}var b_,_C;function oh(){if(_C)return b_;_C=1;var t=M7();return b_=Function.prototype.bind||t,b_}var R_,mC;function Ly(){return mC||(mC=1,R_=Function.prototype.call),R_}var x_,gC;function x2(){return gC||(gC=1,x_=Function.prototype.apply),x_}var S_,EC;function K7(){return EC||(EC=1,S_=typeof Reflect<"u"&&Reflect&&Reflect.apply),S_}var C_,vC;function $7(){if(vC)return C_;vC=1;var t=oh(),e=x2(),n=Ly(),i=K7();return C_=i||t.call(n,e),C_}var A_,yC;function S2(){if(yC)return A_;yC=1;var t=oh(),e=Tu(),n=Ly(),i=$7();return A_=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return i(t,n,a)},A_}var L_,TC;function V7(){if(TC)return L_;TC=1;var t=S2(),e=T2(),n;try{n=[].__proto__===Array.prototype}catch(r){if(!r||typeof r!="object"||!("code"in r)||r.code!=="ERR_PROTO_ACCESS")throw r}var i=!!n&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return L_=i&&typeof i.get=="function"?t([i.get]):typeof a=="function"?function(u){return a(u==null?u:s(u))}:!1,L_}var w_,bC;function F7(){if(bC)return w_;bC=1;var t=b2(),e=R2(),n=V7();return w_=t?function(s){return t(s)}:e?function(s){if(!s||typeof s!="object"&&typeof s!="function")throw new TypeError("getProto: not an object");return e(s)}:n?function(s){return n(s)}:null,w_}var O_,RC;function q7(){if(RC)return O_;RC=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=oh();return O_=n.call(t,e),O_}var I_,xC;function wy(){if(xC)return I_;xC=1;var t,e=y2(),n=y7(),i=T7(),s=b7(),a=R7(),r=x7(),u=Tu(),c=S7(),f=C7(),h=A7(),d=L7(),g=w7(),E=O7(),v=I7(),S=P7(),x=Function,A=function(pt){try{return x('"use strict"; return ('+pt+").constructor;")()}catch{}},w=T2(),I=D7(),C=function(){throw new u},R=w?function(){try{return arguments.callee,C}catch{try{return w(arguments,"callee").get}catch{return C}}}():C,_=U7()(),L=F7(),b=R2(),O=b2(),k=x2(),j=Ly(),B={},ae=typeof Uint8Array>"u"||!L?t:L(Uint8Array),fe={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":_&&L?L([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":i,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":x,"%GeneratorFunction%":B,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_&&L?L(L([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!_||!L?t:L(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!_||!L?t:L(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_&&L?L(""[Symbol.iterator]()):t,"%Symbol%":_?Symbol:t,"%SyntaxError%":r,"%ThrowTypeError%":R,"%TypedArray%":ae,"%TypeError%":u,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":j,"%Function.prototype.apply%":k,"%Object.defineProperty%":I,"%Object.getPrototypeOf%":b,"%Math.abs%":f,"%Math.floor%":h,"%Math.max%":d,"%Math.min%":g,"%Math.pow%":E,"%Math.round%":v,"%Math.sign%":S,"%Reflect.getPrototypeOf%":O};if(L)try{null.error}catch(pt){var G=L(L(pt));fe["%Error.prototype%"]=G}var re=function pt(Ze){var _t;if(Ze==="%AsyncFunction%")_t=A("async function () {}");else if(Ze==="%GeneratorFunction%")_t=A("function* () {}");else if(Ze==="%AsyncGeneratorFunction%")_t=A("async function* () {}");else if(Ze==="%AsyncGenerator%"){var H=pt("%AsyncGeneratorFunction%");H&&(_t=H.prototype)}else if(Ze==="%AsyncIteratorPrototype%"){var Q=pt("%AsyncGenerator%");Q&&L&&(_t=L(Q.prototype))}return fe[Ze]=_t,_t},ce={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},he=oh(),we=q7(),Ae=he.call(j,Array.prototype.concat),ye=he.call(k,Array.prototype.splice),W=he.call(j,String.prototype.replace),pe=he.call(j,String.prototype.slice),He=he.call(j,RegExp.prototype.exec),je=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ot=/\\(\\)?/g,xt=function(Ze){var _t=pe(Ze,0,1),H=pe(Ze,-1);if(_t==="%"&&H!=="%")throw new r("invalid intrinsic syntax, expected closing `%`");if(H==="%"&&_t!=="%")throw new r("invalid intrinsic syntax, expected opening `%`");var Q=[];return W(Ze,je,function(z,J,_e,ge){Q[Q.length]=_e?W(ge,ot,"$1"):J||z}),Q},Me=function(Ze,_t){var H=Ze,Q;if(we(ce,H)&&(Q=ce[H],H="%"+Q[0]+"%"),we(fe,H)){var z=fe[H];if(z===B&&(z=re(H)),typeof z>"u"&&!_t)throw new u("intrinsic "+Ze+" exists, but is not available. Please file an issue!");return{alias:Q,name:H,value:z}}throw new r("intrinsic "+Ze+" does not exist!")};return I_=function(Ze,_t){if(typeof Ze!="string"||Ze.length===0)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof _t!="boolean")throw new u('"allowMissing" argument must be a boolean');if(He(/^%?[^%]*%?$/,Ze)===null)throw new r("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var H=xt(Ze),Q=H.length>0?H[0]:"",z=Me("%"+Q+"%",_t),J=z.name,_e=z.value,ge=!1,Ie=z.alias;Ie&&(Q=Ie[0],ye(H,Ae([0,1],Ie)));for(var Re=1,D=!0;Re<H.length;Re+=1){var M=H[Re],de=pe(M,0,1),Te=pe(M,-1);if((de==='"'||de==="'"||de==="`"||Te==='"'||Te==="'"||Te==="`")&&de!==Te)throw new r("property names with quotes must have matching quotes");if((M==="constructor"||!D)&&(ge=!0),Q+="."+M,J="%"+Q+"%",we(fe,J))_e=fe[J];else if(_e!=null){if(!(M in _e)){if(!_t)throw new u("base intrinsic for "+Ze+" exists, but the property is not available.");return}if(w&&Re+1>=H.length){var Ge=w(_e,M);D=!!Ge,D&&"get"in Ge&&!("originalValue"in Ge.get)?_e=Ge.get:_e=_e[M]}else D=we(_e,M),_e=_e[M];D&&!ge&&(fe[J]=_e)}}return _e},I_}var N_,SC;function C2(){if(SC)return N_;SC=1;var t=wy(),e=S2(),n=e([t("%String.prototype.indexOf%")]);return N_=function(s,a){var r=t(s,!!a);return typeof r=="function"&&n(s,".prototype.")>-1?e([r]):r},N_}var P_,CC;function A2(){if(CC)return P_;CC=1;var t=wy(),e=C2(),n=ah(),i=Tu(),s=t("%Map%",!0),a=e("Map.prototype.get",!0),r=e("Map.prototype.set",!0),u=e("Map.prototype.has",!0),c=e("Map.prototype.delete",!0),f=e("Map.prototype.size",!0);return P_=!!s&&function(){var d,g={assert:function(E){if(!g.has(E))throw new i("Side channel does not contain "+n(E))},delete:function(E){if(d){var v=c(d,E);return f(d)===0&&(d=void 0),v}return!1},get:function(E){if(d)return a(d,E)},has:function(E){return d?u(d,E):!1},set:function(E,v){d||(d=new s),r(d,E,v)}};return g},P_}var k_,AC;function G7(){if(AC)return k_;AC=1;var t=wy(),e=C2(),n=ah(),i=A2(),s=Tu(),a=t("%WeakMap%",!0),r=e("WeakMap.prototype.get",!0),u=e("WeakMap.prototype.set",!0),c=e("WeakMap.prototype.has",!0),f=e("WeakMap.prototype.delete",!0);return k_=a?function(){var d,g,E={assert:function(v){if(!E.has(v))throw new s("Side channel does not contain "+n(v))},delete:function(v){if(a&&v&&(typeof v=="object"||typeof v=="function")){if(d)return f(d,v)}else if(i&&g)return g.delete(v);return!1},get:function(v){return a&&v&&(typeof v=="object"||typeof v=="function")&&d?r(d,v):g&&g.get(v)},has:function(v){return a&&v&&(typeof v=="object"||typeof v=="function")&&d?c(d,v):!!g&&g.has(v)},set:function(v,S){a&&v&&(typeof v=="object"||typeof v=="function")?(d||(d=new a),u(d,v,S)):i&&(g||(g=i()),g.set(v,S))}};return E}:i,k_}var D_,LC;function j7(){if(LC)return D_;LC=1;var t=Tu(),e=ah(),n=v7(),i=A2(),s=G7(),a=s||i||n;return D_=function(){var u,c={assert:function(f){if(!c.has(f))throw new t("Side channel does not contain "+e(f))},delete:function(f){return!!u&&u.delete(f)},get:function(f){return u&&u.get(f)},has:function(f){return!!u&&u.has(f)},set:function(f,h){u||(u=a()),u.set(f,h)}};return c},D_}var B_,wC;function Oy(){if(wC)return B_;wC=1;var t=String.prototype.replace,e=/%20/g,n={RFC1738:"RFC1738",RFC3986:"RFC3986"};return B_={default:n.RFC3986,formatters:{RFC1738:function(i){return t.call(i,e,"+")},RFC3986:function(i){return String(i)}},RFC1738:n.RFC1738,RFC3986:n.RFC3986},B_}var U_,OC;function L2(){if(OC)return U_;OC=1;var t=Oy(),e=Object.prototype.hasOwnProperty,n=Array.isArray,i=function(){for(var x=[],A=0;A<256;++A)x.push("%"+((A<16?"0":"")+A.toString(16)).toUpperCase());return x}(),s=function(A){for(;A.length>1;){var w=A.pop(),I=w.obj[w.prop];if(n(I)){for(var C=[],R=0;R<I.length;++R)typeof I[R]<"u"&&C.push(I[R]);w.obj[w.prop]=C}}},a=function(A,w){for(var I=w&&w.plainObjects?{__proto__:null}:{},C=0;C<A.length;++C)typeof A[C]<"u"&&(I[C]=A[C]);return I},r=function x(A,w,I){if(!w)return A;if(typeof w!="object"&&typeof w!="function"){if(n(A))A.push(w);else if(A&&typeof A=="object")(I&&(I.plainObjects||I.allowPrototypes)||!e.call(Object.prototype,w))&&(A[w]=!0);else return[A,w];return A}if(!A||typeof A!="object")return[A].concat(w);var C=A;return n(A)&&!n(w)&&(C=a(A,I)),n(A)&&n(w)?(w.forEach(function(R,_){if(e.call(A,_)){var L=A[_];L&&typeof L=="object"&&R&&typeof R=="object"?A[_]=x(L,R,I):A.push(R)}else A[_]=R}),A):Object.keys(w).reduce(function(R,_){var L=w[_];return e.call(R,_)?R[_]=x(R[_],L,I):R[_]=L,R},C)},u=function(A,w){return Object.keys(w).reduce(function(I,C){return I[C]=w[C],I},A)},c=function(x,A,w){var I=x.replace(/\+/g," ");if(w==="iso-8859-1")return I.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(I)}catch{return I}},f=1024,h=function(A,w,I,C,R){if(A.length===0)return A;var _=A;if(typeof A=="symbol"?_=Symbol.prototype.toString.call(A):typeof A!="string"&&(_=String(A)),I==="iso-8859-1")return escape(_).replace(/%u[0-9a-f]{4}/gi,function(ae){return"%26%23"+parseInt(ae.slice(2),16)+"%3B"});for(var L="",b=0;b<_.length;b+=f){for(var O=_.length>=f?_.slice(b,b+f):_,k=[],j=0;j<O.length;++j){var B=O.charCodeAt(j);if(B===45||B===46||B===95||B===126||B>=48&&B<=57||B>=65&&B<=90||B>=97&&B<=122||R===t.RFC1738&&(B===40||B===41)){k[k.length]=O.charAt(j);continue}if(B<128){k[k.length]=i[B];continue}if(B<2048){k[k.length]=i[192|B>>6]+i[128|B&63];continue}if(B<55296||B>=57344){k[k.length]=i[224|B>>12]+i[128|B>>6&63]+i[128|B&63];continue}j+=1,B=65536+((B&1023)<<10|O.charCodeAt(j)&1023),k[k.length]=i[240|B>>18]+i[128|B>>12&63]+i[128|B>>6&63]+i[128|B&63]}L+=k.join("")}return L},d=function(A){for(var w=[{obj:{o:A},prop:"o"}],I=[],C=0;C<w.length;++C)for(var R=w[C],_=R.obj[R.prop],L=Object.keys(_),b=0;b<L.length;++b){var O=L[b],k=_[O];typeof k=="object"&&k!==null&&I.indexOf(k)===-1&&(w.push({obj:_,prop:O}),I.push(k))}return s(w),A},g=function(A){return Object.prototype.toString.call(A)==="[object RegExp]"},E=function(A){return!A||typeof A!="object"?!1:!!(A.constructor&&A.constructor.isBuffer&&A.constructor.isBuffer(A))},v=function(A,w){return[].concat(A,w)},S=function(A,w){if(n(A)){for(var I=[],C=0;C<A.length;C+=1)I.push(w(A[C]));return I}return w(A)};return U_={arrayToObject:a,assign:u,combine:v,compact:d,decode:c,encode:h,isBuffer:E,isRegExp:g,maybeMap:S,merge:r},U_}var M_,IC;function W7(){if(IC)return M_;IC=1;var t=j7(),e=L2(),n=Oy(),i=Object.prototype.hasOwnProperty,s={brackets:function(x){return x+"[]"},comma:"comma",indices:function(x,A){return x+"["+A+"]"},repeat:function(x){return x}},a=Array.isArray,r=Array.prototype.push,u=function(S,x){r.apply(S,a(x)?x:[x])},c=Date.prototype.toISOString,f=n.default,h={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:n.formatters[f],indices:!1,serializeDate:function(x){return c.call(x)},skipNulls:!1,strictNullHandling:!1},d=function(x){return typeof x=="string"||typeof x=="number"||typeof x=="boolean"||typeof x=="symbol"||typeof x=="bigint"},g={},E=function S(x,A,w,I,C,R,_,L,b,O,k,j,B,ae,fe,G,re,ce){for(var he=x,we=ce,Ae=0,ye=!1;(we=we.get(g))!==void 0&&!ye;){var W=we.get(x);if(Ae+=1,typeof W<"u"){if(W===Ae)throw new RangeError("Cyclic object value");ye=!0}typeof we.get(g)>"u"&&(Ae=0)}if(typeof O=="function"?he=O(A,he):he instanceof Date?he=B(he):w==="comma"&&a(he)&&(he=e.maybeMap(he,function(J){return J instanceof Date?B(J):J})),he===null){if(R)return b&&!G?b(A,h.encoder,re,"key",ae):A;he=""}if(d(he)||e.isBuffer(he)){if(b){var pe=G?A:b(A,h.encoder,re,"key",ae);return[fe(pe)+"="+fe(b(he,h.encoder,re,"value",ae))]}return[fe(A)+"="+fe(String(he))]}var He=[];if(typeof he>"u")return He;var je;if(w==="comma"&&a(he))G&&b&&(he=e.maybeMap(he,b)),je=[{value:he.length>0?he.join(",")||null:void 0}];else if(a(O))je=O;else{var ot=Object.keys(he);je=k?ot.sort(k):ot}var xt=L?String(A).replace(/\./g,"%2E"):String(A),Me=I&&a(he)&&he.length===1?xt+"[]":xt;if(C&&a(he)&&he.length===0)return Me+"[]";for(var pt=0;pt<je.length;++pt){var Ze=je[pt],_t=typeof Ze=="object"&&Ze&&typeof Ze.value<"u"?Ze.value:he[Ze];if(!(_&&_t===null)){var H=j&&L?String(Ze).replace(/\./g,"%2E"):String(Ze),Q=a(he)?typeof w=="function"?w(Me,H):Me:Me+(j?"."+H:"["+H+"]");ce.set(x,Ae);var z=t();z.set(g,ce),u(He,S(_t,Q,w,I,C,R,_,L,w==="comma"&&G&&a(he)?null:b,O,k,j,B,ae,fe,G,re,z))}}return He},v=function(x){if(!x)return h;if(typeof x.allowEmptyArrays<"u"&&typeof x.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof x.encodeDotInKeys<"u"&&typeof x.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(x.encoder!==null&&typeof x.encoder<"u"&&typeof x.encoder!="function")throw new TypeError("Encoder has to be a function.");var A=x.charset||h.charset;if(typeof x.charset<"u"&&x.charset!=="utf-8"&&x.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var w=n.default;if(typeof x.format<"u"){if(!i.call(n.formatters,x.format))throw new TypeError("Unknown format option provided.");w=x.format}var I=n.formatters[w],C=h.filter;(typeof x.filter=="function"||a(x.filter))&&(C=x.filter);var R;if(x.arrayFormat in s?R=x.arrayFormat:"indices"in x?R=x.indices?"indices":"repeat":R=h.arrayFormat,"commaRoundTrip"in x&&typeof x.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var _=typeof x.allowDots>"u"?x.encodeDotInKeys===!0?!0:h.allowDots:!!x.allowDots;return{addQueryPrefix:typeof x.addQueryPrefix=="boolean"?x.addQueryPrefix:h.addQueryPrefix,allowDots:_,allowEmptyArrays:typeof x.allowEmptyArrays=="boolean"?!!x.allowEmptyArrays:h.allowEmptyArrays,arrayFormat:R,charset:A,charsetSentinel:typeof x.charsetSentinel=="boolean"?x.charsetSentinel:h.charsetSentinel,commaRoundTrip:!!x.commaRoundTrip,delimiter:typeof x.delimiter>"u"?h.delimiter:x.delimiter,encode:typeof x.encode=="boolean"?x.encode:h.encode,encodeDotInKeys:typeof x.encodeDotInKeys=="boolean"?x.encodeDotInKeys:h.encodeDotInKeys,encoder:typeof x.encoder=="function"?x.encoder:h.encoder,encodeValuesOnly:typeof x.encodeValuesOnly=="boolean"?x.encodeValuesOnly:h.encodeValuesOnly,filter:C,format:w,formatter:I,serializeDate:typeof x.serializeDate=="function"?x.serializeDate:h.serializeDate,skipNulls:typeof x.skipNulls=="boolean"?x.skipNulls:h.skipNulls,sort:typeof x.sort=="function"?x.sort:null,strictNullHandling:typeof x.strictNullHandling=="boolean"?x.strictNullHandling:h.strictNullHandling}};return M_=function(S,x){var A=S,w=v(x),I,C;typeof w.filter=="function"?(C=w.filter,A=C("",A)):a(w.filter)&&(C=w.filter,I=C);var R=[];if(typeof A!="object"||A===null)return"";var _=s[w.arrayFormat],L=_==="comma"&&w.commaRoundTrip;I||(I=Object.keys(A)),w.sort&&I.sort(w.sort);for(var b=t(),O=0;O<I.length;++O){var k=I[O],j=A[k];w.skipNulls&&j===null||u(R,E(j,k,_,L,w.allowEmptyArrays,w.strictNullHandling,w.skipNulls,w.encodeDotInKeys,w.encode?w.encoder:null,w.filter,w.sort,w.allowDots,w.serializeDate,w.format,w.formatter,w.encodeValuesOnly,w.charset,b))}var B=R.join(w.delimiter),ae=w.addQueryPrefix===!0?"?":"";return w.charsetSentinel&&(w.charset==="iso-8859-1"?ae+="utf8=%26%2310003%3B&":ae+="utf8=%E2%9C%93&"),B.length>0?ae+B:""},M_}var K_,NC;function X7(){if(NC)return K_;NC=1;var t=L2(),e=Object.prototype.hasOwnProperty,n=Array.isArray,i={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(g){return g.replace(/&#(\d+);/g,function(E,v){return String.fromCharCode(parseInt(v,10))})},a=function(g,E,v){if(g&&typeof g=="string"&&E.comma&&g.indexOf(",")>-1)return g.split(",");if(E.throwOnLimitExceeded&&v>=E.arrayLimit)throw new RangeError("Array limit exceeded. Only "+E.arrayLimit+" element"+(E.arrayLimit===1?"":"s")+" allowed in an array.");return g},r="utf8=%26%2310003%3B",u="utf8=%E2%9C%93",c=function(E,v){var S={__proto__:null},x=v.ignoreQueryPrefix?E.replace(/^\?/,""):E;x=x.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var A=v.parameterLimit===1/0?void 0:v.parameterLimit,w=x.split(v.delimiter,v.throwOnLimitExceeded?A+1:A);if(v.throwOnLimitExceeded&&w.length>A)throw new RangeError("Parameter limit exceeded. Only "+A+" parameter"+(A===1?"":"s")+" allowed.");var I=-1,C,R=v.charset;if(v.charsetSentinel)for(C=0;C<w.length;++C)w[C].indexOf("utf8=")===0&&(w[C]===u?R="utf-8":w[C]===r&&(R="iso-8859-1"),I=C,C=w.length);for(C=0;C<w.length;++C)if(C!==I){var _=w[C],L=_.indexOf("]="),b=L===-1?_.indexOf("="):L+1,O,k;b===-1?(O=v.decoder(_,i.decoder,R,"key"),k=v.strictNullHandling?null:""):(O=v.decoder(_.slice(0,b),i.decoder,R,"key"),k=t.maybeMap(a(_.slice(b+1),v,n(S[O])?S[O].length:0),function(B){return v.decoder(B,i.decoder,R,"value")})),k&&v.interpretNumericEntities&&R==="iso-8859-1"&&(k=s(String(k))),_.indexOf("[]=")>-1&&(k=n(k)?[k]:k);var j=e.call(S,O);j&&v.duplicates==="combine"?S[O]=t.combine(S[O],k):(!j||v.duplicates==="last")&&(S[O]=k)}return S},f=function(g,E,v,S){var x=0;if(g.length>0&&g[g.length-1]==="[]"){var A=g.slice(0,-1).join("");x=Array.isArray(E)&&E[A]?E[A].length:0}for(var w=S?E:a(E,v,x),I=g.length-1;I>=0;--I){var C,R=g[I];if(R==="[]"&&v.parseArrays)C=v.allowEmptyArrays&&(w===""||v.strictNullHandling&&w===null)?[]:t.combine([],w);else{C=v.plainObjects?{__proto__:null}:{};var _=R.charAt(0)==="["&&R.charAt(R.length-1)==="]"?R.slice(1,-1):R,L=v.decodeDotInKeys?_.replace(/%2E/g,"."):_,b=parseInt(L,10);!v.parseArrays&&L===""?C={0:w}:!isNaN(b)&&R!==L&&String(b)===L&&b>=0&&v.parseArrays&&b<=v.arrayLimit?(C=[],C[b]=w):L!=="__proto__"&&(C[L]=w)}w=C}return w},h=function(E,v,S,x){if(E){var A=S.allowDots?E.replace(/\.([^.[]+)/g,"[$1]"):E,w=/(\[[^[\]]*])/,I=/(\[[^[\]]*])/g,C=S.depth>0&&w.exec(A),R=C?A.slice(0,C.index):A,_=[];if(R){if(!S.plainObjects&&e.call(Object.prototype,R)&&!S.allowPrototypes)return;_.push(R)}for(var L=0;S.depth>0&&(C=I.exec(A))!==null&&L<S.depth;){if(L+=1,!S.plainObjects&&e.call(Object.prototype,C[1].slice(1,-1))&&!S.allowPrototypes)return;_.push(C[1])}if(C){if(S.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+S.depth+" and strictDepth is true");_.push("["+A.slice(C.index)+"]")}return f(_,v,S,x)}},d=function(E){if(!E)return i;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.decodeDotInKeys<"u"&&typeof E.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(E.decoder!==null&&typeof E.decoder<"u"&&typeof E.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof E.throwOnLimitExceeded<"u"&&typeof E.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var v=typeof E.charset>"u"?i.charset:E.charset,S=typeof E.duplicates>"u"?i.duplicates:E.duplicates;if(S!=="combine"&&S!=="first"&&S!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var x=typeof E.allowDots>"u"?E.decodeDotInKeys===!0?!0:i.allowDots:!!E.allowDots;return{allowDots:x,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:i.allowEmptyArrays,allowPrototypes:typeof E.allowPrototypes=="boolean"?E.allowPrototypes:i.allowPrototypes,allowSparse:typeof E.allowSparse=="boolean"?E.allowSparse:i.allowSparse,arrayLimit:typeof E.arrayLimit=="number"?E.arrayLimit:i.arrayLimit,charset:v,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:i.charsetSentinel,comma:typeof E.comma=="boolean"?E.comma:i.comma,decodeDotInKeys:typeof E.decodeDotInKeys=="boolean"?E.decodeDotInKeys:i.decodeDotInKeys,decoder:typeof E.decoder=="function"?E.decoder:i.decoder,delimiter:typeof E.delimiter=="string"||t.isRegExp(E.delimiter)?E.delimiter:i.delimiter,depth:typeof E.depth=="number"||E.depth===!1?+E.depth:i.depth,duplicates:S,ignoreQueryPrefix:E.ignoreQueryPrefix===!0,interpretNumericEntities:typeof E.interpretNumericEntities=="boolean"?E.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:typeof E.parameterLimit=="number"?E.parameterLimit:i.parameterLimit,parseArrays:E.parseArrays!==!1,plainObjects:typeof E.plainObjects=="boolean"?E.plainObjects:i.plainObjects,strictDepth:typeof E.strictDepth=="boolean"?!!E.strictDepth:i.strictDepth,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:i.strictNullHandling,throwOnLimitExceeded:typeof E.throwOnLimitExceeded=="boolean"?E.throwOnLimitExceeded:!1}};return K_=function(g,E){var v=d(E);if(g===""||g===null||typeof g>"u")return v.plainObjects?{__proto__:null}:{};for(var S=typeof g=="string"?c(g,v):g,x=v.plainObjects?{__proto__:null}:{},A=Object.keys(S),w=0;w<A.length;++w){var I=A[w],C=h(I,S[I],v,typeof g=="string");x=t.merge(x,C,v)}return v.allowSparse===!0?x:t.compact(x)},K_}var $_,PC;function w2(){if(PC)return $_;PC=1;var t=W7(),e=X7(),n=Oy();return $_={formats:n,parse:e,stringify:t},$_}var V_,kC;function bf(){if(kC)return V_;kC=1;class t{constructor(u){this.code=u.code,this.token=u.token,this.host=u.host}}class e{constructor(u){this.appId=u.appId,this.appTag=u.appTag,this.audienceEnabled=u.audienceEnabled,this.code=u.code,this.host=u.host,this.audienceHost=u.audienceHost,this.locked=u.locked,this.full=u.full,this.maxPlayers=u.maxPlayers,this.minPlayers=u.minPlayers,this.moderationEnabled=u.moderationEnabled,this.passwordRequired=u.passwordRequired,this.twitchLocked=u.twitchLocked,this.locale=u.locale,this.keepalive=u.keepalive,this.controllerBranch=u.controllerBranch}}class n{constructor(u){this.connections=u.connections}}class i{constructor(u){this.cause=u.cause}whenReceived(u){u.disconnect()}}class s{}class a{constructor(u){this.host=u.host,this.code=u.code,this.password=u.password}}return V_={CreateRoomReply:t,GetRoomReply:e,GetAudienceReply:n,RoomExit:i,RoomLock:s,RoomMigrate:a},V_}var F_,DC;function H7(){if(DC)return F_;DC=1;const t=_7(),e=w2(),{CreateRoomReply:n,GetRoomReply:i}=bf();class s{constructor(r){if(!r.host)throw new Error("unable to create ecast APIClient: no host provided");if(this.host=r.host,!r.scheme)throw new Error("unable to create ecast APIClient: no scheme provided");this.scheme=r.scheme}url(r,u){if(u){let c=e.stringify(u);return`${this.scheme}://${this.host}/api/v2${r}?${c}`}return`${this.scheme}://${this.host}/api/v2${r}`}async createRoom(r){let u={appTag:"test",userId:"fart",...r},c=this.url("/rooms",u),h=await t(c,{method:"POST"});const{body:d,error:g,ok:E}=await h.json();if(!E)throw new Error(`failed to create room: ${g}`);return new n({code:d.code,token:d.token,host:d.host})}async getRoom(r){let u=this.url(`/rooms/${r.code}`),f=await(await t(u)).json();if(!f.ok)throw new Error(`unable to get room with options ${JSON.stringify(r)}: ${f.error}`);let h=f.body;return new i({appId:h.appId,appTag:h.appTag,audienceEnabled:h.audienceEnabled,code:h.code,host:h.host,audienceHost:h.audienceHost,locked:h.locked,full:h.full,maxPlayers:h.maxPlayers,minPlayers:h.minPlayers,moderationEnabled:h.moderationEnabled,passwordRequired:h.passwordRequired,twitchLocked:h.twitchLocked,locale:h.locale,keepalive:h.keepalive,controllerBranch:h.controllerBranch})}}return F_={APIClient:s},F_}var q_,BC;function Y7(){if(BC)return q_;BC=1;var t=null;return typeof WebSocket<"u"?t=WebSocket:typeof MozWebSocket<"u"?t=MozWebSocket:typeof br<"u"?t=br.WebSocket||br.MozWebSocket:typeof window<"u"?t=window.WebSocket||window.MozWebSocket:typeof self<"u"&&(t=self.WebSocket||self.MozWebSocket),q_=t,q_}var Yc={exports:{}},UC;function z7(){if(UC)return Yc.exports;UC=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(R,_,L){return Function.prototype.apply.call(R,_,L)},n;t&&typeof t.ownKeys=="function"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(R){return Object.getOwnPropertyNames(R).concat(Object.getOwnPropertySymbols(R))}:n=function(R){return Object.getOwnPropertyNames(R)};function i(C){console&&console.warn&&console.warn(C)}var s=Number.isNaN||function(R){return R!==R};function a(){a.init.call(this)}Yc.exports=a,Yc.exports.once=A,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var r=10;function u(C){if(typeof C!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof C)}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return r},set:function(C){if(typeof C!="number"||C<0||s(C))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+C+".");r=C}}),a.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(R){if(typeof R!="number"||R<0||s(R))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+R+".");return this._maxListeners=R,this};function c(C){return C._maxListeners===void 0?a.defaultMaxListeners:C._maxListeners}a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(R){for(var _=[],L=1;L<arguments.length;L++)_.push(arguments[L]);var b=R==="error",O=this._events;if(O!==void 0)b=b&&O.error===void 0;else if(!b)return!1;if(b){var k;if(_.length>0&&(k=_[0]),k instanceof Error)throw k;var j=new Error("Unhandled error."+(k?" ("+k.message+")":""));throw j.context=k,j}var B=O[R];if(B===void 0)return!1;if(typeof B=="function")e(B,this,_);else for(var ae=B.length,fe=v(B,ae),L=0;L<ae;++L)e(fe[L],this,_);return!0};function f(C,R,_,L){var b,O,k;if(u(_),O=C._events,O===void 0?(O=C._events=Object.create(null),C._eventsCount=0):(O.newListener!==void 0&&(C.emit("newListener",R,_.listener?_.listener:_),O=C._events),k=O[R]),k===void 0)k=O[R]=_,++C._eventsCount;else if(typeof k=="function"?k=O[R]=L?[_,k]:[k,_]:L?k.unshift(_):k.push(_),b=c(C),b>0&&k.length>b&&!k.warned){k.warned=!0;var j=new Error("Possible EventEmitter memory leak detected. "+k.length+" "+String(R)+" listeners added. Use emitter.setMaxListeners() to increase limit");j.name="MaxListenersExceededWarning",j.emitter=C,j.type=R,j.count=k.length,i(j)}return C}a.prototype.addListener=function(R,_){return f(this,R,_,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(R,_){return f(this,R,_,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(C,R,_){var L={fired:!1,wrapFn:void 0,target:C,type:R,listener:_},b=h.bind(L);return b.listener=_,L.wrapFn=b,b}a.prototype.once=function(R,_){return u(_),this.on(R,d(this,R,_)),this},a.prototype.prependOnceListener=function(R,_){return u(_),this.prependListener(R,d(this,R,_)),this},a.prototype.removeListener=function(R,_){var L,b,O,k,j;if(u(_),b=this._events,b===void 0)return this;if(L=b[R],L===void 0)return this;if(L===_||L.listener===_)--this._eventsCount===0?this._events=Object.create(null):(delete b[R],b.removeListener&&this.emit("removeListener",R,L.listener||_));else if(typeof L!="function"){for(O=-1,k=L.length-1;k>=0;k--)if(L[k]===_||L[k].listener===_){j=L[k].listener,O=k;break}if(O<0)return this;O===0?L.shift():S(L,O),L.length===1&&(b[R]=L[0]),b.removeListener!==void 0&&this.emit("removeListener",R,j||_)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(R){var _,L,b;if(L=this._events,L===void 0)return this;if(L.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):L[R]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete L[R]),this;if(arguments.length===0){var O=Object.keys(L),k;for(b=0;b<O.length;++b)k=O[b],k!=="removeListener"&&this.removeAllListeners(k);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(_=L[R],typeof _=="function")this.removeListener(R,_);else if(_!==void 0)for(b=_.length-1;b>=0;b--)this.removeListener(R,_[b]);return this};function g(C,R,_){var L=C._events;if(L===void 0)return[];var b=L[R];return b===void 0?[]:typeof b=="function"?_?[b.listener||b]:[b]:_?x(b):v(b,b.length)}a.prototype.listeners=function(R){return g(this,R,!0)},a.prototype.rawListeners=function(R){return g(this,R,!1)},a.listenerCount=function(C,R){return typeof C.listenerCount=="function"?C.listenerCount(R):E.call(C,R)},a.prototype.listenerCount=E;function E(C){var R=this._events;if(R!==void 0){var _=R[C];if(typeof _=="function")return 1;if(_!==void 0)return _.length}return 0}a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(C,R){for(var _=new Array(R),L=0;L<R;++L)_[L]=C[L];return _}function S(C,R){for(;R+1<C.length;R++)C[R]=C[R+1];C.pop()}function x(C){for(var R=new Array(C.length),_=0;_<R.length;++_)R[_]=C[_].listener||C[_];return R}function A(C,R){return new Promise(function(_,L){function b(k){C.removeListener(R,O),L(k)}function O(){typeof C.removeListener=="function"&&C.removeListener("error",b),_([].slice.call(arguments))}I(C,R,O,{once:!0}),R!=="error"&&w(C,b,{once:!0})})}function w(C,R,_){typeof C.on=="function"&&I(C,"error",R,_)}function I(C,R,_,L){if(typeof C.on=="function")L.once?C.once(R,_):C.on(R,_);else if(typeof C.addEventListener=="function")C.addEventListener(R,function b(O){L.once&&C.removeEventListener(R,b),_(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof C)}return Yc.exports}var G_,MC;function Iy(){if(MC)return G_;MC=1;class t{constructor(W){W&&(this.error=W.error,this.to=W.to,this.opcode=W.opcode)}toString(){return`ObservedError{
	to:${this.to}
	error:${this.error}
	opcode:${this.opcode}
}`}}class e extends Error{constructor(W){super(W),W&&(this.code=W.code,this.message=W.message)}}class n extends e{constructor(W){super(W),this.code=1e3,this.message=W&&W.message?W.message:"ecast server error"}}class i extends n{constructor(W){super(W),this.code=1001,this.message=W&&W.message?W.message:"create room failed"}}class s extends n{constructor(W){super(W),this.code=1002,this.message=W&&W.message?W.message:"unable to connect to room"}}class a extends n{constructor(W){super(W),this.code=1003,this.message=W&&W.message?W.message:"server is shutting down"}}class r extends e{constructor(W){super(W),this.code=2e3,this.message=W&&W.message?W.message:"ecast client error"}}class u extends r{constructor(W){super(W),this.code=2001,this.message=W&&W.message?W.message:"parse error in ecast protocol"}}class c extends r{constructor(W){super(W),this.code=2002,this.message=W&&W.message?W.message:"missing opcode"}}class f extends r{constructor(W){super(W),this.code=2003,this.message=W&&W.message?W.message:"invalid opcode"}}class h extends r{constructor(W){super(W),this.code=2004,this.message=W&&W.message?W.message:"invalid arguments"}}class d extends r{constructor(W){super(W),this.code=2005,this.message=W&&W.message?W.message:"entity not found"}}class g extends r{constructor(W){super(W),this.code=2006,this.message=W&&W.message?W.message:"an entity already exists with that key"}}class E extends r{constructor(W){super(W),this.code=2007,this.message=W&&W.message?W.message:"the entity is not of the expected type"}}class v extends r{constructor(W){super(W),this.code=2008,this.message=W&&W.message?W.message:"no such client"}}class S extends r{constructor(W){super(W),this.code=2009,this.message=W&&W.message?W.message:"room is locked"}}class x extends r{constructor(W){super(W),this.code=2010,this.message=W&&W.message?W.message:"room is full"}}class A extends r{constructor(W){super(W),this.code=2011,this.message=W&&W.message?W.message:"no such license"}}class w extends r{constructor(W){super(W),this.code=2012,this.message=W&&W.message?W.message:"invalid license"}}class I extends r{constructor(W){super(W),this.code=2013,this.message=W&&W.message?W.message:"room not found"}}class C extends r{constructor(W){super(W),this.code=2014,this.message=W&&W.message?W.message:"requested role does not exist"}}class R extends r{constructor(W){super(W),this.code=2015,this.message=W&&W.message?W.message:"twitch login required"}}class _ extends r{constructor(W){super(W),this.code=2016,this.message=W&&W.message?W.message:"no such option"}}class L extends r{constructor(W){super(W),this.code=2017,this.message=W&&W.message?W.message:"password required"}}class b extends r{constructor(W){super(W),this.code=2018,this.message=W&&W.message?W.message:"invalid room password"}}class O extends r{constructor(W){super(W),this.code=2019,this.message=W&&W.message?W.message:"missing name"}}class k extends r{constructor(W){super(W),this.code=2021,this.message=W&&W.message?W.message:"text did not pass text filters"}}class j extends r{constructor(W){super(W),this.code=2022,this.message=W&&W.message?W.message:"no such filter"}}class B extends r{constructor(W){super(W),this.code=2023,this.message=W&&W.message?W.message:"permission denied"}}class ae extends r{constructor(W){super(W),this.code=2024,this.message=W&&W.message?W.message:"not connected to a room"}}class fe extends r{constructor(W){super(W),this.code=2025,this.message=W&&W.message?W.message:"illegal operation"}}class G extends r{constructor(W){super(W),this.code=2026,this.message=W&&W.message?W.message:"invalid ACL change"}}class re extends r{constructor(W){super(W),this.code=2027,this.message=W&&W.message?W.message:"room has already ended"}}class ce extends r{constructor(W){super(W),this.code=2028,this.message=W&&W.message?W.message:"the entity is locked"}}class he extends r{constructor(W){super(W),this.code=2420,this.message=W&&W.message?W.message:"rate limit exceeded"}}function we({code:ye,message:W}){const pe=Ae[ye];return pe?new pe({message:W}):new e({message:W})}G_={createError:we,CallError:e,EcastServerError:n,EcastCreateRoomFailed:i,EcastDialRoomFailed:s,EcastServerIsShuttingDown:a,EcastClientError:r,EcastParseError:u,EcastRequestIsMissingOpcode:c,EcastRequestHasInvalidOpcode:f,EcastRequestHasInvalidArguments:h,EcastEntityNotFound:d,EcastEntityAlreadyExists:g,EcastEntityTypeError:E,EcastNoSuchClient:v,EcastRoomIsLocked:S,EcastRoomIsFull:x,EcastLicenseNotFound:A,EcastLicenseCheckFailed:w,EcastRoomNotFound:I,EcastInvalidRole:C,EcastTwitchLoginRequired:R,EcastInvalidOption:_,EcastPasswordRequired:L,EcastInvalidPassword:b,EcastNameRequired:O,EcastFilterError:k,EcastNoSuchFilter:j,EcastPermissionDenied:B,EcastNotConnected:ae,EcastIllegalOperation:fe,EcastACLChangeDenied:G,EcastRoomHasEnded:re,EcastEntityLocked:ce,EcastRateLimitExceeded:he,ObservedError:t};const Ae={1e3:n,1001:i,1002:s,1003:a,2e3:r,2001:u,2002:c,2003:f,2004:h,2005:d,2006:g,2007:E,2008:v,2009:S,2010:x,2011:A,2012:w,2013:I,2014:C,2015:R,2016:_,2017:L,2018:b,2019:O,2021:k,2022:j,2023:B,2024:ae,2025:fe,2026:G,2027:re,2028:ce,2420:he};return G_}var j_,KC;function Ny(){if(KC)return j_;KC=1;class t{constructor(r){this.id=r.id,this.deviceId=r.deviceId,this.name=r.name,this.secret=r.secret,this.reconnect=r.reconnect,this.entities=r.entities,this.here=r.here,this.profile=r.profile,this.replayEnd=r.replayEnd}}class e{constructor(r){this.id=r.id,this.userId=r.userId,this.name=r.name,this.role=r.role,this.reconnect=r.reconnect}}class n{constructor(r){this.id=r.id,this.role=r.role}}class i{constructor(r){this.to=r.to,this.from=r.from,this.body=r.body,this.userId=r.userId}}class s{constructor(r){this.id=r.id,this.banned=r.banned,this.reason=r.reason}}return j_={ClientConnected:e,ClientDisconnected:n,ClientKicked:s,ClientSend:i,ClientWelcome:t},j_}var W_,$C;function Py(){if($C)return W_;$C=1;class t{constructor(n){this.choices=n.choices,this.key=n.key,this.meta=n.meta||{}}whenReceived(n){n.entities[this.key]=this}toString(){return`CountGroup{
	choices: ${this.choices}
	meta:${JSON.stringify(this.meta)}
}`}}return W_={CountGroup:t},W_}var X_,VC;function ky(){if(VC)return X_;VC=1;class t{constructor(s){this.key=s.key,this.from=s.from,this.colors=s.colors,this.lines=s.lines,this.live=s.live,this.maxLayer=s.maxLayer,this.maxPoints=s.maxPoints,this.size=s.size,this.weights=s.weights,this.meta=s.meta||{},s.acl&&(this.acl=s.acl)}whenReceived(s){s.entities[this.key]=this}toString(){return`Doodle{
	key:${this.key}
	colors:${this.colors}
	lines:${this.lines}
	live:${this.live}
	maxLayer:${this.maxLayer}
	maxPoints:${this.maxPoints}
	size:${this.size}
	weights:${this.weights}
	meta:${JSON.stringify(this.meta)}
}`}}class e{constructor(s){this.key=s.key,this.from=s.from,this.line=s.line}whenReceived(s){s.entities[this.key].lines.push(this.line)}toString(){return`DoodleLine{
	val:${this.line}
}`}}class n{constructor(s){this.key=s.key,this.from=s.from,this.index=s.index}whenReceived(s){s.entities[this.key].lines.splice(this.index,1)}toString(){return`DoodleLineRemoved{
	index:${this.index}
}`}}return X_={DoodleEntity:t,DoodleLine:e,DoodleLineRemoved:n},X_}var H_,FC;function J7(){if(FC)return H_;FC=1;class t{constructor(n){this.key=n.key,this.from=n.from,this.val=n.val,this.meta=n.meta||{},n.acl&&(this.acl=n.acl)}whenReceived(n){n.entities[this.key]=this}toString(){return`ExternalRequestEntity{
	key:${this.key}
	service: ${this.val.service}
	status: ${this.val.status}
	meta: ${JSON.stringify(this.meta)}
}`}}return H_={ExternalRequestEntity:t},H_}var Y_,qC;function Dy(){if(qC)return Y_;qC=1;class t{constructor(n){this.key=n.key,this.count=n.count,this.meta=n.meta||{}}whenReceived(n){n.entities[this.key]=this}toString(){return`GCounter{
	count:${this.count}
	meta:${this.meta}
}`}}return Y_={GCounter:t},Y_}var z_,GC;function O2(){if(GC)return z_;GC=1;class t{constructor(n){this.pc=n.pc,this.opcode=n.opcode,this.result=n.result}}return z_={Notification:t},z_}var J_,jC;function By(){if(jC)return J_;jC=1;class t{constructor(n){this.from=n.from,this.key=n.key,this.val=n.val,this.restrictions=n.restrictions,this.version=n.version,this.meta=n.meta||{},n.acl&&(this.acl=n.acl)}whenReceived(n){if(n.entities[this.key]&&n.entities[this.key]instanceof t&&!this.restrictions){n.entities[this.key].val=this.val,n.entities[this.key].meta=this.meta,n.entities[this.key].version=this.version,n.entities[this.key].from=this.from;return}n.entities[this.key]=this}toString(){return`NumberEntity{
	key:${this.key}
	val: ${this.val}
	restrictions: ${JSON.stringify(this.restrictions)}
	meta: ${JSON.stringify(this.meta)}
}`}}return J_={NumberEntity:t},J_}var Z_,WC;function Uy(){if(WC)return Z_;WC=1;class t{constructor(i){this.from=i.from,this.key=i.key,this.val=i.val,this.version=i.version,this.meta=i.meta||{},i.acl&&(this.acl=i.acl)}whenReceived(i){i.entities[this.key]=this}toString(){return`ObjectEntity{
	key:${this.key}
	value: ${JSON.stringify(this.val)}
	meta:${JSON.stringify(this.meta)}
}`}toBlob(){return this.val}}class e{constructor(i){this.message=i.message}toString(){return`ObjectEcho{message: ${this.message}}`}}return Z_={ObjectEntity:t,ObjectEcho:e},Z_}var Q_,XC;function My(){if(XC)return Q_;XC=1;class t{constructor(n){this.key=n.key,this.count=n.count,this.meta=n.meta||{}}whenReceived(n){n.entities[this.key]=this}toString(){return`PNCounter{
	count:${this.count}
	meta:${JSON.stringify(this.meta)}
}`}}return Q_={PNCounter:t},Q_}var em,HC;function I2(){if(HC)return em;HC=1;class t{constructor(n){this.pc=n.pc,this.re=n.re,this.opcode=n.opcode,this.result=n.result}}return em={Reply:t},em}var tm,YC;function Z7(){if(YC)return tm;YC=1;class t{constructor(n){this.seq=n.seq,this.opcode=n.opcode,this.params=n.params}}return tm={Request:t},tm}var rm,zC;function N2(){if(zC)return rm;zC=1;class t{constructor(s){this.key=s.key,this.size=s.size,this.version=s.version,this.from=s.from,this.meta=s.meta||{},s.acl&&(this.acl=s.acl)}whenRecived(s){s.entities[this.key]=this}toString(){return`Stack{
	key:${this.key}
	size:${this.size}
	version:${this.version}
	from:${this.from}
	meta:${this.meta}
}`}}class e{constructor(s){this.key=s.key,this.val=s.val}toString(){return`StackElement{
	key:${this.key}
	value: ${JSON.stringify(this.val)}
}`}}class n{constructor(s){this.key=s.key,this.vals=s.vals}toString(){return`StackElements{
	key:${this.key}
	values: ${JSON.stringify(this.vals)}
}`}}return rm={StackEntity:t,StackElement:e,StackElements:n},rm}var nm,JC;function Ky(){if(JC)return nm;JC=1;class t{constructor(i){this.from=i.from,this.key=i.key,this.text=i.text,this.version=i.version,this.meta=i.meta||{},i.acl&&(this.acl=i.acl)}whenReceived(i){i.entities[this.key]=this,i.emit("text "+this.key,this)}toString(){return`TextEntity{
	key: ${this.key}
	text: ${this.text}
	meta:${JSON.stringify(this.meta)}
}`}toBlob(){return JSON.parse(this.text)}}class e{constructor(i){this.message=i.message}toString(){return`TextEcho{
	key: ${this.key}
	message: ${this.message}
}`}}return nm={TextEntity:t,TextEcho:e},nm}var im,ZC;function $y(){if(ZC)return im;ZC=1;class t{constructor(s){this.from=s.from,this.key=s.key,this.meta=s.meta||{},this.root=s.root,s.acl&&(this.acl=s.acl)}whenReceived(s){s.entities[this.key]=this}toString(){return`TextMap{
	key:${this.key}
	meta:${JSON.stringify(this.meta)}
}`}}class e{constructor(s){this.from=s.from,this.key=s.key,this.msg=s.msg}toString(){const s=this.msg?this.msg.join(", "):this.msg;return`TextMapSynced{
	key:${this.key}
	from:${this.from}
	msg:${s}
}`}}class n{constructor(s){this.from=s.from,this.key=s.key,this.text=s.text,this.attributions=s.attributions}toString(){return`TextMapState{
	key: ${this.key}
	from:${this.from}
	text:${this.text}
	attributions:${this.attributions}
}`}}return im={TextMapEntity:t,TextMapSynced:e,TextMapState:n},im}var sm,QC;function Vy(){if(QC)return sm;QC=1;class t{constructor(n){this.key=n.key,this.elements=n.elements,this.limit=n.limit,this.meta=n.meta||{}}whenReceived(n){n.entities[this.key]=this}toString(){return`TextRing{
	elements: ${this.elements}
	meta:${JSON.stringify(this.meta)}
}`}}return sm={TextRing:t},sm}var am,eA;function P2(){if(eA)return am;eA=1;class t{constructor(n){this.key=n.key,this.artifactId=n.artifactId,this.categoryId=n.categoryId,this.rootId=n.rootId,this.meta=n.meta||{}}whenReceived(n){n.entities[this.key]=this}toString(){return`ArtifactEntity${JSON.stringify(this)}
`}}return am={ArtifactEntity:t},am}var om,tA;function k2(){if(tA)return om;tA=1;class t{constructor(n){this.key=n.key}whenReceived(n){delete n.entities[this.key]}toString(){return`DropEntity{
	key:${this.key}
}`}}return om={DropEntity:t},om}var um,rA;function Q7(){if(rA)return um;rA=1;class t{constructor(n){this.message=n.message}toString(){return`Echo{message: ${this.message}
}`}}return um={Echo:t},um}var lm,nA;function e9(){if(nA)return lm;nA=1;class t{constructor(n){this.key=n.key,this.from=n.from}whenReceived(n){n.entities[this.key]&&(n.entities[this.key].meta.locked=!0)}toString(){return`LockEntity{
	key:${this.key}
}`}}return lm={LockEntity:t},lm}var cm,iA;function D2(){if(iA)return cm;iA=1;class t{constructor(){}toString(){return"OK"}}return cm={OK:t},cm}var fm,sA;function t9(){if(sA)return fm;sA=1;const{ArtifactEntity:t}=P2(),{ClientWelcome:e,ClientConnected:n,ClientDisconnected:i,ClientKicked:s,ClientSend:a}=Ny(),{CountGroup:r}=Py(),{DoodleEntity:u,DoodleLine:c,DoodleLineRemoved:f}=ky(),{StackEntity:h,StackElement:d,StackElements:g}=N2(),{DropEntity:E}=k2(),{Echo:v}=Q7(),{LockEntity:S}=e9(),{GCounter:x}=Dy(),{GetAudienceReply:A,RoomExit:w,RoomLock:I,RoomMigrate:C}=bf(),{Notification:R}=O2(),{OK:_}=D2(),{NumberEntity:L}=By(),{ObjectEcho:b,ObjectEntity:O}=Uy(),{PNCounter:k}=My(),{Reply:j}=I2(),{TextEcho:B,TextEntity:ae}=Ky(),{TextRing:fe}=Vy(),{createError:G,ObservedError:re}=Iy(),{TextMapEntity:ce,TextMapSynced:he,TextMapState:we}=$y();function Ae(W,pe,He){switch(W){case"ok":return new _;case"echo":return new v({message:pe.message});case"lock":return new S({key:pe.key,from:pe.from});case"error":return G({code:pe.code,message:pe.msg});case"error/observed":return new re({to:pe.to,opcode:pe.opcode,error:G({code:pe.error.code,message:pe.error.msg})});case"string":return pe;case"text":return new ae({from:pe.from,key:pe.key,text:pe.val,version:pe.version,meta:He,acl:pe.acl});case"text/echo":return new B({message:pe.message});case"object":return new O({from:pe.from,key:pe.key,val:pe.val,meta:He,acl:pe.acl});case"object/echo":return new b({message:pe.message});case"drop":return new E({key:pe.key});case"artifact":return new t({key:pe.key,artifactId:pe.artifactId,categoryId:pe.categoryId,rootId:pe.rootId,meta:He});case"client/connected":return new n({id:pe.id,userId:pe.userId,name:pe.name,role:pe.role,reconnect:pe.reconnect});case"client/disconnected":return new i({id:pe.id,role:pe.role});case"client/kicked":return new s({id:pe.id,banned:pe.banned,reason:pe.reason});case"client/send":return new a({to:pe.to,from:pe.from,body:pe.body,userId:pe.userID});case"client/welcome":{let je=new e({id:pe.id,name:pe.name,secret:pe.secret,reconnect:pe.reconnect,here:pe.here,profile:pe.profile,replayEnd:pe.replayEnd});if(pe.entities){let ot={};Object.entries(pe.entities).forEach(([xt,Me])=>{ot[xt]=Ae(Me[0],Me[1],Me[2])}),je.entities=ot}return je}case"doodle":return new u({key:pe.key,from:pe.from,colors:pe.val.colors,lines:pe.val.lines,live:pe.val.live,maxLayer:pe.val.maxLayer,maxPoints:pe.val.maxPoints,size:pe.val.size,weights:pe.val.weights,meta:He,acl:pe.acl});case"doodle/line":return new c({key:pe.key,from:pe.from,line:pe.val});case"doodle/line/removed":return new f({key:pe.key,from:pe.from,index:pe.index});case"stack":return new h({key:pe.key,size:pe.size,from:pe.from,version:pe.version,meta:pe.meta,acl:pe.acl});case"stack/element":return new d({key:pe.key,val:pe.val});case"stack/elements":return new g({key:pe.key,vals:pe.vals});case"number":return new L({key:pe.key,val:pe.val,restrictions:pe.restrictions,from:pe.from,version:pe.version,meta:He,acl:pe.acl});case"text-map":return new ce({key:pe.key,from:pe.from,root:pe.root,meta:He,acl:pe.acl});case"text-map/state":return new we({key:pe.key,from:pe.from,attributions:pe.attributions,text:pe.text});case"text-map/synced":return new he({key:pe.key,from:pe.from,msg:pe.msg});case"room/exit":return new w({cause:pe.cause});case"room/lock":return new I;case"room/migrate":return new C({host:pe.host,code:pe.code,password:pe.password,token:pe.token});case"room/get-audience":return new A({connections:pe.connections});case"audience":return new k({key:W,count:pe[1]});case"audience/count-group":return new r({key:pe.key,choices:pe.choices,meta:He});case"audience/text-ring":return new fe({key:pe.key,elements:pe.elements,meta:He});case"audience/g-counter":return new x({key:pe.key,count:pe.count,meta:He});case"audience/pn-counter":return new k({key:pe.key,count:pe.count,meta:He});default:return console.error(`failed to parse result of type ${W}: ${JSON.stringify(pe,null,2)}`),pe}}function ye(W){let pe=JSON.parse(W.data),He=pe.opcode||pe.type;return pe.re?new j({pc:pe.pc,re:pe.re,opcode:He,result:Ae(He,pe.result)}):new R({pc:pe.pc,opcode:He,result:Ae(He,pe.result)})}return fm={parseResponseMessage:ye},fm}var hm,aA;function r9(){if(aA)return hm;aA=1;const t=Y7(),e=w2(),n=z7(),{CallError:i}=Iy(),{ClientWelcome:s}=Ny(),{CountGroup:a}=Py(),{DoodleEntity:r}=ky(),{ExternalRequestEntity:u}=J7(),{GCounter:c}=Dy(),{Notification:f}=O2(),{NumberEntity:h}=By(),{ObjectEntity:d}=Uy(),{PNCounter:g}=My(),{Reply:E}=I2(),{Request:v}=Z7(),{StackEntity:S}=N2(),{TextEntity:x}=Ky(),{TextMapEntity:A}=$y(),{TextRing:w}=Vy(),{parseResponseMessage:I}=t9(),C=1e3+Math.floor(Math.random()*500),R=13e3;class _ extends n{constructor(b){if(super(),this.debug=b.debug||!1,!b.host)throw new Error("unable to create ecast WSClient: no host provided");if(this.host=b.host,!b.code)throw new Error("unable to create ecast WSClient: no room code provided");if(this.code=b.code,b.scheme?this.scheme=b.scheme:this.scheme="wss",b.secret&&b.id)this.id=b.id,this.secret=b.secret;else{switch(b.role){case"player":if(!b.name)throw new Error("unable to create ecast WSClient: no name provided");break;case"host":if(!b.token)throw new Error("unable to create ecast WSClient: tried to connect with host role but without host token");this.token=b.token;break;case"moderator":if(!b.password)throw new Error("unable to create ecast WSClient: tried to connect with moderator role but without password");break}b.password&&(this.password=b.password),b.twitchToken&&(this.twitchToken=b.twitchToken)}this.name=b.name,this.role=b.role,this.deviceId=b.deviceId,this.userId=b.userId,this.conn=null,this.seq=0,this.pending={},this.entities={},b.role=="host"&&(this.replaySince=b.replaySince||0,this.syncEntities=b.syncEntities||!1)}connect(){const b={id:this.id,role:this.role,name:this.name,format:"json","user-id":this.userId,password:this.password};this.deviceId&&(b["device-id"]=this.deviceId),this.twitchToken&&(b["twitch-token"]=this.twitchToken),this.secret&&(b.secret=this.secret),this.role==="host"&&(b["host-token"]=this.token,this.replaySince>0&&(b["replay-since"]=this.replaySince),this.syncEntities&&(b["sync-entities"]=this.syncEntities));const O=e.stringify(b),k=this.role==="audience"||this.id>1e7?`${this.scheme}://${this.host}/api/v2/audience/${this.code}/play?${O}`:`${this.scheme}://${this.host}/api/v2/rooms/${this.code}/play?${O}`;return new Promise((j,B)=>{let ae=!1,fe=!1,G=ce=>{j(ce),ae=!0},re=ce=>{B(ce),ae=!0};this.conn=new t(k,"ecast-v0"),this.conn.onmessage=ce=>{this.debugLog(`recv <- ${JSON.stringify(JSON.parse(ce.data),null,2)}`);const he=I(ce);if(he instanceof E)this.onReply(he);else if(he instanceof f){if(he.result instanceof s)fe=!0,this.id=he.result.id,this.deviceId=he.result.deviceId,this.entities=he.result.entities,this.secret=he.result.secret,he.result.name&&(this.name=he.result.name),G(he.result);else if(!ae){re(he.result);return}this.onNotification(he)}else console.error(`failed to parse response messsage: ${he}`)},this.conn.onerror=ce=>{ae?this.emit("socketError",ce):re(ce)},this.conn.onclose=ce=>{this.debugLog("onclose",ce.code),fe&&ce.code===1006?this.reconnect():this.emit("socketClose",ce)},this.conn.onopen=ce=>{this.emit("socketOpen",ce)}})}sleep(b){return new Promise(O=>setTimeout(O,b))}debugLog(...b){this.debug&&console.log(`%c[WSClient:${this.name}]`,"background-color:blue;color:white;",...b)}async reconnect(){this.disconnect(),this.debugLog("Attempting to reconnect");let b=1,O=C;for(;;)try{this.emit("connection",{status:"connecting",attempt:b}),await this.connect(),this.debugLog("reconnected"),this.emit("connection",{status:"connected"});return}catch(k){if(this.debugLog("reconnect error",k),k.code===1005||k.code===1e3){this.debugLog("unable to reconnect!",k),this.emit("socketClose",k);return}if(O>=R){this.debugLog("reconnect failed!",k),this.emit("socketClose",k);return}b+=1,this.debugLog("waiting",O),this.emit("connection",{status:"waiting",attempt:b}),await this.sleep(O),O=Math.min(R,O*2)}}disconnect(){this.conn&&(this.conn.close(),this.conn.onmessage=null,this.conn.onerror=null,this.conn.onopen=null,this.conn.onclose=null,this.conn=null)}onReply(b){const O=b.re,k=this.pending[O];if(!k){const j=new f(b);j.re=O,this.emit("notification",j);return}delete this.pending[O],b.result instanceof i?k.reject(b.result):k.resolve(b.result)}onNotification(b){typeof b.result.whenReceived=="function"&&b.result.whenReceived(this),this.emit("notification",b),this.emit(b.opcode,b.result)}send(b,O={}){if(!this.conn)throw new Error("No connection available");if(this.conn.readyState!==t.OPEN)throw new Error(`Socket not ready to send, readyState is ${this.conn.readyState}`);const k=++this.seq,j=new v({seq:k,opcode:b,params:O}),B=new Promise((fe,G)=>{this.pending[k]={resolve:fe,reject:G,request:j}}),ae=JSON.stringify(j);return this.debugLog(`send -> ${ae}`),this.conn.send(ae),B}lockRoom(){return this.send("room/lock")}migrateRoom(b){return this.send("room/migrate",b)}setRoomPassword(b){return this.send("room/set-password",{password:b})}startAudience(){return this.send("room/start-audience")}getAudience(){return this.send("room/get-audience")}mail(b,O){return this.send("client/send",{from:this.id,to:b,body:O})}kick(b,O=!1,k){return this.send("client/kick",{id:b,ban:O,reason:k})}async drop(b){const O=await this.send("drop",{key:b});return delete this.entities[b],O}echo(b){return this.send("echo",{message:b})}async lock(b){const O=await this.send("lock",{key:b});return this.entities[b].meta.locked=!0,O}async createNumber(b,O={}){let k={key:b};const{val:j=0,acl:B,min:ae,max:fe,increment:G,type:re}=O;k.val=j,B&&(k.acl=B),ae!=null&&(k.min=ae),fe!=null&&(k.max=fe),G&&(k.increment=G),re&&(k.type=re);const ce=await this.send("number/create",k);return this.entities[b]=new h({key:b,val:j,restrictions:{min:ae,max:fe,increment:G,type:re},meta:{locked:!1}}),ce}async decrementNumber(b){const O=await this.send("number/decrement",{key:b});return this.entities[b].val=O.val,O}async getNumber(b){const O=await this.send("number/get",{key:b});return this.entities[b]?(this.entities[b].val=O.val,this.entities[b].restrictions=O.restrictions):this.entities[b]=O,O}async incrementNumber(b){const O=await this.send("number/increment",{key:b});return this.entities[b].val=O.val,O}async updateNumber(b,O){const k=await this.send("number/update",{key:b,val:O});return this.entities[b].val=O,k}async createObject(b,O,k){const j={key:b,val:O};k&&(j.acl=k);const B=await this.send("object/create",j);return this.entities[b]=new d({key:b,val:O,meta:{locked:!1}}),B}echoObject(b){return this.send("object/echo",{message:b})}async getObject(b){const O=await this.send("object/get",{key:b});return this.entities[b]?(this.entities[b].val=O.val,this.entities[b].version=O.version,this.entities[b].from=O.from):this.entities[b]=O,O}async setObject(b,O,k){const j={key:b,val:O};k&&(j.acl=k);const B=await this.send("object/set",j);return this.entities[b]=new d({key:b,val:O,meta:{locked:!1}}),B}async updateObject(b,O){const k=await this.send("object/update",{key:b,val:O});return this.entities[b]=new d({key:b,val:O,meta:{locked:!1}}),k}echoText(b){return this.send("text/echo",{message:b})}getText(b){return this.send("text/get",{key:b})}async createText(b,O,k){const j={key:b,val:O},{acl:B,accept:ae,reject:fe}=k;B&&(j.acl=B),ae&&(j.accept=ae),fe&&(j.reject=fe);const G=await this.send("text/create",j);return this.entities[b]=new x({key:b,text:O,meta:{locked:!1}}),G}async setText(b,O,k){const j={key:b,val:O};k&&(j.acl=k);const B=await this.send("text/set",j);return this.entities[b]=new x({key:b,text:O,meta:{locked:!1}}),B}async updateText(b,O){const k=await this.send("text/update",{key:b,val:O});return this.entities[b]=new x({key:b,text:O,meta:{locked:!1}}),k}async createTextMap(b,O={}){const{val:k,notifyHost:j,acl:B,accept:ae,reject:fe}=O;let G={key:b};k&&(G.val=O.val),j&&(G.notifyHost=O.notifyHost),B&&(G.acl=B),ae&&(G.accept=ae),fe&&(G.reject=fe);const re=await this.send("text-map/create",G);return this.entities[b]=new A({key:b,acl:B,meta:{locked:!1}}),re}async syncTextMap(b,O){return await this.send("text-map/sync",{key:b,msg:O})}async getTextMap(b,O){const{includeNodes:k}=O;return await this.send("text-map/get",{key:b,includeNodes:k})}async createDoodle(b,O){let k={key:b};const{acl:j,colors:B,live:ae,maxLayer:fe,maxPoints:G,size:re,weights:ce}=O;j&&(k.acl=j),B&&(k.colors=B),k.live=ae,fe!=null&&(k.maxLayer=fe),G!=null&&(k.maxPoints=G),re&&(k.size=re),ce&&(k.weights=ce);const he=await this.send("doodle/create",k);return this.entities[b]=new r({key:b,colors:B,lines:[],live:ae,maxLayer:k.maxLayer||0,maxPoints:k.maxPoints||0,size:re,weights:ce,meta:{locked:!1}}),he}async getDoodle(b){const O=await this.send("doodle/get",{key:b});return this.entities[b]?this.entities[b].lines=O.lines:this.entities[b]=O,O}async strokeDoodle(b,O){const{color:k,weight:j,layer:B,points:ae,brush:fe}=O,G={color:k,weight:j,layer:B,points:ae};fe&&(G.brush=fe);const re=await this.send("doodle/stroke",{key:b,...G});return this.entities[b].lines.push(G),re}async undoDoodle(b){const O=await this.send("doodle/undo",{key:b});return this.entities[b].lines.pop(),O}async createStack(b,O){const k={key:b};O&&(k.acl=O);const j=await this.send("stack/create",k);return this.entities[b]=new S({key:b,size:0,meta:{locked:!1}}),j}pushStack(b,O){return this.send("stack/push",{key:b,val:O})}bulkPushStack(b,O){return this.send("stack/bulkpush",{key:b,vals:O})}peekStack(b,O){return this.send("stack/peek",{key:b,size:O})}popStack(b){return this.send("stack/pop",{key:b})}async createCountGroup(b,O){const k=await this.send("audience/count-group/create",{name:b,options:O});return this.entities[b]=new a({key:b,choices:O,meta:{locked:!1}}),k}incrementCountGroupCounter(b,O,k=1){return this.send("audience/count-group/increment",{name:b,vote:O,times:k})}getCountGroup(b){return this.send("audience/count-group/get",{name:b})}async createGCounter(b,O){const k=await this.send("audience/g-counter/create",{key:b,count:O});return this.entities[b]=new c({key:b,count:O,meta:{locked:!1}}),k}incrementGCounter(b,O){return this.send("audience/g-counter/increment",{key:b,times:O})}getGCounter(b){return this.send("audience/g-counter/get",{key:b})}async createPNCounter(b,O){const k=await this.send("audience/pn-counter/create",{key:b,count:O});return this.entities[b]=new g({key:b,count:O,meta:{locked:!1}}),k}incrementPNCounter(b,O){return this.send("audience/pn-counter/increment",{key:b,times:O})}decrementPNCounter(b,O){return this.send("audience/pn-counter/decrement",{key:b,times:O})}getPNCounter(b){return this.send("audience/pn-counter/get",{key:b})}async createTextRing(b,O){const k={key:b},{limit:j,accept:B,reject:ae}=O;j&&(k.limit=j),B&&(k.accept=B),ae&&(k.reject=ae);const fe=await this.send("audience/text-ring/create",k);return this.entities[b]=new w({key:b,elements:[],limit:j,meta:{locked:!1}}),fe}getTextRing(b){return this.send("audience/text-ring/get",{name:b})}pushTextRing(b,O){return this.send("audience/text-ring/push",{name:b,text:O})}async createExternalRequest(b,O,k,j){const B={key:b,service:O,payload:k};j&&(B.acl=j);const ae=await this.send("external-request/create",B);return this.entities[b]=new u({key:b,val:{service:O,status:"pending"},meta:{locked:!1}}),ae}}return hm={WSClient:_},hm}var pm,oA;function n9(){if(oA)return pm;oA=1;const{APIClient:t}=H7(),{WSClient:e}=r9(),{CreateRoomReply:n,GetRoomReply:i}=bf(),{ClientWelcome:s,ClientDisconnected:a}=Ny(),{ArtifactEntity:r}=P2(),{GCounter:u}=Dy(),{NumberEntity:c}=By(),{TextEntity:f}=Ky(),{DoodleEntity:h}=ky(),{ObjectEntity:d}=Uy(),{CountGroup:g}=Py(),{DropEntity:E}=k2(),{OK:v}=D2(),{RoomExit:S}=bf(),{TextRing:x}=Vy(),{TextMapEntity:A}=$y(),{PNCounter:w}=My();return pm={APIClient:t,WSClient:e,ClientWelcome:s,CreateRoomReply:n,DropEntity:E,GetRoomReply:i,ClientDisconnected:a,RoomExit:S,OK:v,ArtifactEntity:r,DoodleEntity:h,NumberEntity:c,CountGroup:g,GCounter:u,ObjectEntity:d,PNCounter:w,TextEntity:f,TextRing:x,TextMapEntity:A},pm}var wr=n9();function Ov(...t){console.log(...t)}class i9{constructor(e,n){be(this,"client");be(this,"room");be(this,"items",[]);be(this,"autoMarkWindow",150);be(this,"autoMarkTimeout");be(this,"autoMarkerCount",0);be(this,"automarkPendingLabel");be(this,"automarkIgnoredKeys",[]);be(this,"incomingIgnoredKeys",[]);be(this,"outgoingIgnoredKeys",[]);window.tv.debug=this.expose(),this.client=e,this.room=n,Object.keys(this.client.entities).forEach(i=>{this.pushEntity(this.client.entities[i])}),this.items.length&&this.setMarker("welcome"),e.on("artifact",i=>this.pushEntity(i)),e.on("doodle",i=>this.pushEntity(i)),e.on("drop",i=>this.pushEntity(i)),e.on("number",i=>this.pushEntity(i)),e.on("object",i=>this.pushEntity(i)),e.on("text",i=>this.pushEntity(i)),this.hijackConsole(),this.hijackSend()}get markerCount(){return this.items.reduce((e,n)=>"marker"in n?e+1:e,0)}reset(){this.items=[]}setAutomarkIgnoredKeys(e){this.automarkIgnoredKeys=e}setIncomingIgnoredKeys(e){this.incomingIgnoredKeys=e}setOutgoingIgnoredKeys(e){this.outgoingIgnoredKeys=e}hijackConsole(){const e=console.error.bind(console);console.error=(...n)=>{this.pushError(n),e.apply(console,n)}}hijackSend(){window.Proxy&&(this.client.send=new Proxy(this.client.send,{apply:(e,n,i)=>(this.pushSend(i),e.apply(n,i))}))}pushEntity(e){Ov("[Debug] pushEntity",e),!this.incomingIgnoredKeys.includes(e.key)&&(e instanceof wr.ArtifactEntity?this.items.push({type:"artifact",...e}):e instanceof wr.DoodleEntity?this.items.push({type:"doodle",...e}):e instanceof wr.DropEntity?this.items.push({key:e.key,type:"drop"}):e instanceof wr.NumberEntity?this.items.push({key:e.key,type:"number",value:e.val,meta:e.meta,restrictions:e.restrictions}):e instanceof wr.ObjectEntity?(e.val.kind&&(this.automarkPendingLabel=e.val.kind),this.items.push({key:e.key,type:"object",value:e.val,meta:e.meta})):e instanceof wr.TextEntity&&this.items.push({key:e.key,type:"text",value:e.text,meta:e.meta}),!this.automarkIgnoredKeys.includes(e.key)&&this.startAutoMarkTimeout())}pushError(...e){this.items.push({error:e})}pushSend(e){this.outgoingIgnoredKeys.includes(e[1].key)||this.items.push({opcode:e[0],arguments:e[1]})}setMarker(e){const n=this.items.filter(s=>s.marker===e).length,i=n?`label-${n}`:e;this.items.push({marker:i}),this.clearAutoMarkTimeout()}setAutoMarker(){const e=this.automarkPendingLabel??"marker";this.items.push({marker:`${this.autoMarkerCount}-${e}`}),this.autoMarkerCount+=1,delete this.automarkPendingLabel,this.clearAutoMarkTimeout()}startAutoMarkTimeout(){this.clearAutoMarkTimeout(),this.autoMarkTimeout=window.setTimeout(()=>{this.setAutoMarker()},this.autoMarkWindow)}clearAutoMarkTimeout(){this.autoMarkTimeout&&(window.clearTimeout(this.autoMarkTimeout),delete this.autoMarkTimeout)}async send(e){if(!this.client)return;const n=await this.sendToEcast();n&&await this.sendToSlack(n,e)}getSendData(){return{appTag:this.room.appTag,state:{version:3,room:{code:this.room.code,appTag:this.room.appTag},client:{id:this.client.id,name:this.client.name,role:this.client.role},items:this.items}}}async sendToEcast(){const e=this.getSendData();try{const i=await(await fetch("https://ecast.jackboxgames.com/api/v2/controller/state",{method:"POST",body:JSON.stringify(e)})).json();if(!i.body||!i.body.url)return console.warn(i),null;const s=i.body.url.split("/"),a=s[s.length-1].replace(".json",""),r=s[s.length-2];return{json:i.body.url,dev:`https://dev.jackbox.tv/debug/cloud/${r}/${a}/`,local:`http://localhost:9090/debug/cloud/${r}/${a}/`}}catch(n){return console.error("[Debug] sendToEcast",n),null}}async sendToSlack(e,n){if(!this.room||!this.client)return;const i=_a(this.room.appTag),s=this.items.length-this.markerCount,a=`${this.markerCount} ${this.markerCount===1?"marker":"markers"}`,r=`${s} ${s===1?"entity":"entities"}`,u=[{type:"mrkdwn",text:`${this.client.role}:${this.client.id}`},{type:"mrkdwn",text:`*Version:* ${window.tv.manifest.loader.version}`},{type:"mrkdwn",text:`*Domain:* ${window.location.hostname}`}];try{const c="https://hooks.slack.com/services/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",g={unfurl_links:!1,blocks:[{type:"section",text:{type:"mrkdwn",text:`*${(i==null?void 0:i.name)??this.room.appTag} :${this.room.appTag}:* (${a}, ${r}) 

 From: ${this.client.name},
${n}`}},{type:"context",elements:u},{type:"actions",elements:[{type:"button",action_id:"actionId-0",url:e.json,text:{type:"plain_text",text:"JSON",emoji:!0}},{type:"button",action_id:"actionId-3",url:e.local,text:{type:"plain_text",text:"localhost:9090",emoji:!0}},{type:"button",action_id:"actionId-1",url:e.dev,text:{type:"plain_text",text:"dev.jackbox.tv",emoji:!0}}]}]};if(this.room){g.icon_emoji=this.room.appTag;const S=_a(this.room.appTag);g.username=`DebugRecorder ${S?S.name:this.room.appTag}`}const v=await(await fetch(c,{method:"POST",body:JSON.stringify(g)})).text();Ov("[Debug] sendToSlack",v)}catch(c){console.error("[Debug] sendToSlack",c)}}download(e){var r;const n=e??`${((r=this.room)==null?void 0:r.appTag)??"unknown"}-debug`,i=this.getSendData().state,s=JSON.stringify(i,null,4),a=document.createElement("a");a.setAttribute("href",`data:text/json;charset=utf-8,${encodeURIComponent(s)}`),a.setAttribute("download",`${n}.json`),a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}open(){var s;const e=this.getSendData().state,n=JSON.stringify(e,null,4),i=window.open();i.document.write(`
            <iframe src="data:text/json;charset=utf-8,${encodeURIComponent(n)}" frameborder="0" style="border:0;
                top:0px; left:0px; bottom:0px; right:0px; width:100%; height:100%;" allowfullscreen>
            </iframe>
        `),i.document.title=`${(s=this.room)==null?void 0:s.appTag} debug JSON`,i.document.close(),i.focus()}expose(){return{print:()=>this.items,reset:()=>this.reset(),setMarker:e=>this.setMarker(e),download:e=>this.download(e),open:()=>this.open(),send:e=>void this.send(e)}}}function s9(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var il={exports:{}},a9=il.exports,uA;function o9(){return uA||(uA=1,function(t,e){(function(n,i){i(e)})(a9,function(n){var i=typeof window<"u"?window:typeof br<"u"?br:typeof self<"u"?self:{},s=function(q,se){if(se=se.split(":")[0],q=+q,!q)return!1;switch(se){case"http":case"ws":return q!==80;case"https":case"wss":return q!==443;case"ftp":return q!==21;case"gopher":return q!==70;case"file":return!1}return q!==0},a=Object.prototype.hasOwnProperty,r;function u(X){try{return decodeURIComponent(X.replace(/\+/g," "))}catch{return null}}function c(X){try{return encodeURIComponent(X)}catch{return null}}function f(X){for(var q=/([^=?#&]+)=?([^&]*)/g,se={},F;F=q.exec(X);){var ie=u(F[1]),xe=u(F[2]);ie===null||xe===null||ie in se||(se[ie]=xe)}return se}function h(X,q){q=q||"";var se=[],F,ie;typeof q!="string"&&(q="?");for(ie in X)if(a.call(X,ie)){if(F=X[ie],!F&&(F===null||F===r||isNaN(F))&&(F=""),ie=c(ie),F=c(F),ie===null||F===null)continue;se.push(ie+"="+F)}return se.length?q+se.join("&"):""}var d=h,g=f,E={stringify:d,parse:g},v=/[\n\r\t]/g,S=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,x=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,A=/^[a-zA-Z]:/,w=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/;function I(X){return(X||"").toString().replace(w,"")}var C=[["#","hash"],["?","query"],function(q,se){return L(se.protocol)?q.replace(/\\/g,"/"):q},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],R={hash:1,query:1};function _(X){var q;typeof window<"u"?q=window:typeof i<"u"?q=i:typeof self<"u"?q=self:q={};var se=q.location||{};X=X||se;var F={},ie=typeof X,xe;if(X.protocol==="blob:")F=new k(unescape(X.pathname),{});else if(ie==="string"){F=new k(X,{});for(xe in R)delete F[xe]}else if(ie==="object"){for(xe in X)xe in R||(F[xe]=X[xe]);F.slashes===void 0&&(F.slashes=S.test(X.href))}return F}function L(X){return X==="file:"||X==="ftp:"||X==="http:"||X==="https:"||X==="ws:"||X==="wss:"}function b(X,q){X=I(X),X=X.replace(v,""),q=q||{};var se=x.exec(X),F=se[1]?se[1].toLowerCase():"",ie=!!se[2],xe=!!se[3],ke=0,Z;return ie?xe?(Z=se[2]+se[3]+se[4],ke=se[2].length+se[3].length):(Z=se[2]+se[4],ke=se[2].length):xe?(Z=se[3]+se[4],ke=se[3].length):Z=se[4],F==="file:"?ke>=2&&(Z=Z.slice(2)):L(F)?Z=se[4]:F?ie&&(Z=Z.slice(2)):ke>=2&&L(q.protocol)&&(Z=se[4]),{protocol:F,slashes:ie||L(F),slashesCount:ke,rest:Z}}function O(X,q){if(X==="")return q;for(var se=(q||"/").split("/").slice(0,-1).concat(X.split("/")),F=se.length,ie=se[F-1],xe=!1,ke=0;F--;)se[F]==="."?se.splice(F,1):se[F]===".."?(se.splice(F,1),ke++):ke&&(F===0&&(xe=!0),se.splice(F,1),ke--);return xe&&se.unshift(""),(ie==="."||ie==="..")&&se.push(""),se.join("/")}function k(X,q,se){if(X=I(X),X=X.replace(v,""),!(this instanceof k))return new k(X,q,se);var F,ie,xe,ke,Z,le,Ye=C.slice(),We=typeof q,Xe=this,Et=0;for(We!=="object"&&We!=="string"&&(se=q,q=null),se&&typeof se!="function"&&(se=E.parse),q=_(q),ie=b(X||"",q),F=!ie.protocol&&!ie.slashes,Xe.slashes=ie.slashes||F&&q.slashes,Xe.protocol=ie.protocol||q.protocol||"",X=ie.rest,(ie.protocol==="file:"&&(ie.slashesCount!==2||A.test(X))||!ie.slashes&&(ie.protocol||ie.slashesCount<2||!L(Xe.protocol)))&&(Ye[3]=[/(.*)/,"pathname"]);Et<Ye.length;Et++){if(ke=Ye[Et],typeof ke=="function"){X=ke(X,Xe);continue}xe=ke[0],le=ke[1],xe!==xe?Xe[le]=X:typeof xe=="string"?(Z=xe==="@"?X.lastIndexOf(xe):X.indexOf(xe),~Z&&(typeof ke[2]=="number"?(Xe[le]=X.slice(0,Z),X=X.slice(Z+ke[2])):(Xe[le]=X.slice(Z),X=X.slice(0,Z)))):(Z=xe.exec(X))&&(Xe[le]=Z[1],X=X.slice(0,Z.index)),Xe[le]=Xe[le]||F&&ke[3]&&q[le]||"",ke[4]&&(Xe[le]=Xe[le].toLowerCase())}se&&(Xe.query=se(Xe.query)),F&&q.slashes&&Xe.pathname.charAt(0)!=="/"&&(Xe.pathname!==""||q.pathname!=="")&&(Xe.pathname=O(Xe.pathname,q.pathname)),Xe.pathname.charAt(0)!=="/"&&L(Xe.protocol)&&(Xe.pathname="/"+Xe.pathname),s(Xe.port,Xe.protocol)||(Xe.host=Xe.hostname,Xe.port=""),Xe.username=Xe.password="",Xe.auth&&(Z=Xe.auth.indexOf(":"),~Z?(Xe.username=Xe.auth.slice(0,Z),Xe.username=encodeURIComponent(decodeURIComponent(Xe.username)),Xe.password=Xe.auth.slice(Z+1),Xe.password=encodeURIComponent(decodeURIComponent(Xe.password))):Xe.username=encodeURIComponent(decodeURIComponent(Xe.auth)),Xe.auth=Xe.password?Xe.username+":"+Xe.password:Xe.username),Xe.origin=Xe.protocol!=="file:"&&L(Xe.protocol)&&Xe.host?Xe.protocol+"//"+Xe.host:"null",Xe.href=Xe.toString()}function j(X,q,se){var F=this;switch(X){case"query":typeof q=="string"&&q.length&&(q=(se||E.parse)(q)),F[X]=q;break;case"port":F[X]=q,s(q,F.protocol)?q&&(F.host=F.hostname+":"+q):(F.host=F.hostname,F[X]="");break;case"hostname":F[X]=q,F.port&&(q+=":"+F.port),F.host=q;break;case"host":F[X]=q,/:\d+$/.test(q)?(q=q.split(":"),F.port=q.pop(),F.hostname=q.join(":")):(F.hostname=q,F.port="");break;case"protocol":F.protocol=q.toLowerCase(),F.slashes=!se;break;case"pathname":case"hash":if(q){var ie=X==="pathname"?"/":"#";F[X]=q.charAt(0)!==ie?ie+q:q}else F[X]=q;break;case"username":case"password":F[X]=encodeURIComponent(q);break;case"auth":var xe=q.indexOf(":");~xe?(F.username=q.slice(0,xe),F.username=encodeURIComponent(decodeURIComponent(F.username)),F.password=q.slice(xe+1),F.password=encodeURIComponent(decodeURIComponent(F.password))):F.username=encodeURIComponent(decodeURIComponent(q))}for(var ke=0;ke<C.length;ke++){var Z=C[ke];Z[4]&&(F[Z[1]]=F[Z[1]].toLowerCase())}return F.auth=F.password?F.username+":"+F.password:F.username,F.origin=F.protocol!=="file:"&&L(F.protocol)&&F.host?F.protocol+"//"+F.host:"null",F.href=F.toString(),F}function B(X){(!X||typeof X!="function")&&(X=E.stringify);var q,se=this,F=se.host,ie=se.protocol;ie&&ie.charAt(ie.length-1)!==":"&&(ie+=":");var xe=ie+(se.protocol&&se.slashes||L(se.protocol)?"//":"");return se.username?(xe+=se.username,se.password&&(xe+=":"+se.password),xe+="@"):se.password?(xe+=":"+se.password,xe+="@"):se.protocol!=="file:"&&L(se.protocol)&&!F&&se.pathname!=="/"&&(xe+="@"),F[F.length-1]===":"&&(F+=":"),xe+=F+se.pathname,q=typeof se.query=="object"?X(se.query):se.query,q&&(xe+=q.charAt(0)!=="?"?"?"+q:q),se.hash&&(xe+=se.hash),xe}k.prototype={set:j,toString:B},k.extractProtocol=b,k.location=_,k.trimLeft=I,k.qs=E;var ae=k;function fe(X,q){setTimeout(function(se){return X.call(se)},4,q)}function G(X,q){typeof process<"u"&&console[X].call(null,q)}function re(X,q){X===void 0&&(X=[]);var se=[];return X.forEach(function(F){q(F)||se.push(F)}),se}function ce(X,q){X===void 0&&(X=[]);var se=[];return X.forEach(function(F){q(F)&&se.push(F)}),se}var he=function(){this.listeners={}};he.prototype.addEventListener=function(q,se){typeof se=="function"&&(Array.isArray(this.listeners[q])||(this.listeners[q]=[]),ce(this.listeners[q],function(F){return F===se}).length===0&&this.listeners[q].push(se))},he.prototype.removeEventListener=function(q,se){var F=this.listeners[q];this.listeners[q]=re(F,function(ie){return ie===se})},he.prototype.dispatchEvent=function(q){for(var se=this,F=[],ie=arguments.length-1;ie-- >0;)F[ie]=arguments[ie+1];var xe=q.type,ke=this.listeners[xe];return Array.isArray(ke)?(ke.forEach(function(Z){F.length>0?Z.apply(se,F):Z.call(se,q)}),!0):!1};function we(X){var q=X.indexOf("?");return q>=0?X.slice(0,q):X}var Ae=function(){this.urlMap={}};Ae.prototype.attachWebSocket=function(q,se){var F=we(se),ie=this.urlMap[F];if(ie&&ie.server&&ie.websockets.indexOf(q)===-1)return ie.websockets.push(q),ie.server},Ae.prototype.addMembershipToRoom=function(q,se){var F=this.urlMap[we(q.url)];F&&F.server&&F.websockets.indexOf(q)!==-1&&(F.roomMemberships[se]||(F.roomMemberships[se]=[]),F.roomMemberships[se].push(q))},Ae.prototype.attachServer=function(q,se){var F=we(se),ie=this.urlMap[F];if(!ie)return this.urlMap[F]={server:q,websockets:[],roomMemberships:{}},q},Ae.prototype.serverLookup=function(q){var se=we(q),F=this.urlMap[se];if(F)return F.server},Ae.prototype.websocketsLookup=function(q,se,F){var ie=we(q),xe,ke=this.urlMap[ie];if(xe=ke?ke.websockets:[],se){var Z=ke.roomMemberships[se];xe=Z||[]}return F?xe.filter(function(le){return le!==F}):xe},Ae.prototype.removeServer=function(q){delete this.urlMap[we(q)]},Ae.prototype.removeWebSocket=function(q,se){var F=we(se),ie=this.urlMap[F];ie&&(ie.websockets=re(ie.websockets,function(xe){return xe===q}))},Ae.prototype.removeMembershipFromRoom=function(q,se){var F=this.urlMap[we(q.url)],ie=F.roomMemberships[se];F&&ie!==null&&(F.roomMemberships[se]=re(ie,function(xe){return xe===q}))};var ye=new Ae,W={CLOSE_NORMAL:1e3,CLOSE_NO_STATUS:1005,CLOSE_ABNORMAL:1006},pe={CONSTRUCTOR_ERROR:"Failed to construct 'WebSocket':",CLOSE_ERROR:"Failed to execute 'close' on 'WebSocket':",EVENT:{MESSAGE:"Failed to construct 'MessageEvent':",CLOSE:"Failed to construct 'CloseEvent':"}},He=function(){};He.prototype.stopPropagation=function(){},He.prototype.stopImmediatePropagation=function(){},He.prototype.initEvent=function(q,se,F){q===void 0&&(q="undefined"),se===void 0&&(se=!1),F===void 0&&(F=!1),this.type=""+q,this.bubbles=!!se,this.cancelable=!!F};var je=function(X){function q(se,F){if(F===void 0&&(F={}),X.call(this),!se)throw new TypeError(pe.EVENT_ERROR+" 1 argument required, but only 0 present.");if(typeof F!="object")throw new TypeError(pe.EVENT_ERROR+" parameter 2 ('eventInitDict') is not an object.");var ie=F.bubbles,xe=F.cancelable;this.type=""+se,this.timeStamp=Date.now(),this.target=null,this.srcElement=null,this.returnValue=!0,this.isTrusted=!1,this.eventPhase=0,this.defaultPrevented=!1,this.currentTarget=null,this.cancelable=xe?!!xe:!1,this.cancelBubble=!1,this.bubbles=ie?!!ie:!1}return X&&(q.__proto__=X),q.prototype=Object.create(X&&X.prototype),q.prototype.constructor=q,q}(He),ot=function(X){function q(se,F){if(F===void 0&&(F={}),X.call(this),!se)throw new TypeError(pe.EVENT.MESSAGE+" 1 argument required, but only 0 present.");if(typeof F!="object")throw new TypeError(pe.EVENT.MESSAGE+" parameter 2 ('eventInitDict') is not an object");var ie=F.bubbles,xe=F.cancelable,ke=F.data,Z=F.origin,le=F.lastEventId,Ye=F.ports;this.type=""+se,this.timeStamp=Date.now(),this.target=null,this.srcElement=null,this.returnValue=!0,this.isTrusted=!1,this.eventPhase=0,this.defaultPrevented=!1,this.currentTarget=null,this.cancelable=xe?!!xe:!1,this.canncelBubble=!1,this.bubbles=ie?!!ie:!1,this.origin=""+Z,this.ports=typeof Ye>"u"?null:Ye,this.data=typeof ke>"u"?null:ke,this.lastEventId=""+(le||"")}return X&&(q.__proto__=X),q.prototype=Object.create(X&&X.prototype),q.prototype.constructor=q,q}(He),xt=function(X){function q(se,F){if(F===void 0&&(F={}),X.call(this),!se)throw new TypeError(pe.EVENT.CLOSE+" 1 argument required, but only 0 present.");if(typeof F!="object")throw new TypeError(pe.EVENT.CLOSE+" parameter 2 ('eventInitDict') is not an object");var ie=F.bubbles,xe=F.cancelable,ke=F.code,Z=F.reason,le=F.wasClean;this.type=""+se,this.timeStamp=Date.now(),this.target=null,this.srcElement=null,this.returnValue=!0,this.isTrusted=!1,this.eventPhase=0,this.defaultPrevented=!1,this.currentTarget=null,this.cancelable=xe?!!xe:!1,this.cancelBubble=!1,this.bubbles=ie?!!ie:!1,this.code=typeof ke=="number"?parseInt(ke,10):0,this.reason=""+(Z||""),this.wasClean=le?!!le:!1}return X&&(q.__proto__=X),q.prototype=Object.create(X&&X.prototype),q.prototype.constructor=q,q}(He);function Me(X){var q=X.type,se=X.target,F=new je(q);return se&&(F.target=se,F.srcElement=se,F.currentTarget=se),F}function pt(X){var q=X.type,se=X.origin,F=X.data,ie=X.target,xe=new ot(q,{data:F,origin:se});return ie&&(xe.target=ie,xe.srcElement=ie,xe.currentTarget=ie),xe}function Ze(X){var q=X.code,se=X.reason,F=X.type,ie=X.target,xe=X.wasClean;xe||(xe=q===W.CLOSE_NORMAL||q===W.CLOSE_NO_STATUS);var ke=new xt(F,{code:q,reason:se,wasClean:xe});return ie&&(ke.target=ie,ke.srcElement=ie,ke.currentTarget=ie),ke}function _t(X,q,se){X.readyState=Re.CLOSING;var F=ye.serverLookup(X.url),ie=Ze({type:"close",target:X.target,code:q,reason:se});fe(function(){ye.removeWebSocket(X,X.url),X.readyState=Re.CLOSED,X.dispatchEvent(ie),F&&F.dispatchEvent(ie,F)},X)}function H(X,q,se){X.readyState=Re.CLOSING;var F=ye.serverLookup(X.url),ie=Ze({type:"close",target:X.target,code:q,reason:se,wasClean:!1}),xe=Me({type:"error",target:X.target});fe(function(){ye.removeWebSocket(X,X.url),X.readyState=Re.CLOSED,X.dispatchEvent(xe),X.dispatchEvent(ie),F&&F.dispatchEvent(ie,F)},X)}function Q(X){return Object.prototype.toString.call(X)!=="[object Blob]"&&!(X instanceof ArrayBuffer)&&(X=String(X)),X}var z=new WeakMap;function J(X){if(z.has(X))return z.get(X);var q=new Proxy(X,{get:function(F,ie){if(ie==="close")return function(Z){Z===void 0&&(Z={});var le=Z.code||W.CLOSE_NORMAL,Ye=Z.reason||"";_t(q,le,Ye)};if(ie==="send")return function(Z){Z=Q(Z),X.dispatchEvent(pt({type:"message",data:Z,origin:this.url,target:X}))};var xe=function(ke){return ke==="message"?"server::"+ke:ke};return ie==="on"?function(Z,le){X.addEventListener(xe(Z),le)}:ie==="off"?function(Z,le){X.removeEventListener(xe(Z),le)}:ie==="target"?X:F[ie]}});return z.set(X,q),q}function _e(X){var q=encodeURIComponent(X).match(/%[89ABab]/g);return X.length+(q?q.length:0)}function ge(X){var q=new ae(X),se=q.pathname,F=q.protocol,ie=q.hash;if(!X)throw new TypeError(pe.CONSTRUCTOR_ERROR+" 1 argument required, but only 0 present.");if(se||(q.pathname="/"),F==="")throw new SyntaxError(pe.CONSTRUCTOR_ERROR+" The URL '"+q.toString()+"' is invalid.");if(F!=="ws:"&&F!=="wss:")throw new SyntaxError(pe.CONSTRUCTOR_ERROR+" The URL's scheme must be either 'ws' or 'wss'. '"+F+"' is not allowed.");if(ie!=="")throw new SyntaxError(pe.CONSTRUCTOR_ERROR+" The URL contains a fragment identifier ('"+ie+"'). Fragment identifiers are not allowed in WebSocket URLs.");return q.toString()}function Ie(X){if(X===void 0&&(X=[]),!Array.isArray(X)&&typeof X!="string")throw new SyntaxError(pe.CONSTRUCTOR_ERROR+" The subprotocol '"+X.toString()+"' is invalid.");typeof X=="string"&&(X=[X]);var q=X.map(function(F){return{count:1,protocol:F}}).reduce(function(F,ie){return F[ie.protocol]=(F[ie.protocol]||0)+ie.count,F},{}),se=Object.keys(q).filter(function(F){return q[F]>1});if(se.length>0)throw new SyntaxError(pe.CONSTRUCTOR_ERROR+" The subprotocol '"+se[0]+"' is duplicated.");return X}var Re=function(X){function q(F,ie){X.call(this),this._onopen=null,this._onmessage=null,this._onerror=null,this._onclose=null,this.url=ge(F),ie=Ie(ie),this.protocol=ie[0]||"",this.binaryType="blob",this.readyState=q.CONNECTING;var xe=J(this),ke=ye.attachWebSocket(xe,this.url);fe(function(){if(this.readyState===q.CONNECTING)if(ke)if(ke.options.verifyClient&&typeof ke.options.verifyClient=="function"&&!ke.options.verifyClient())this.readyState=q.CLOSED,G("error","WebSocket connection to '"+this.url+"' failed: HTTP Authentication failed; no valid credentials available"),ye.removeWebSocket(xe,this.url),this.dispatchEvent(Me({type:"error",target:this})),this.dispatchEvent(Ze({type:"close",target:this,code:W.CLOSE_NORMAL}));else{if(ke.options.selectProtocol&&typeof ke.options.selectProtocol=="function"){var le=ke.options.selectProtocol(ie),Ye=le!=="",We=ie.indexOf(le)!==-1;if(Ye&&!We){this.readyState=q.CLOSED,G("error","WebSocket connection to '"+this.url+"' failed: Invalid Sub-Protocol"),ye.removeWebSocket(xe,this.url),this.dispatchEvent(Me({type:"error",target:this})),this.dispatchEvent(Ze({type:"close",target:this,code:W.CLOSE_NORMAL}));return}this.protocol=le}this.readyState=q.OPEN,this.dispatchEvent(Me({type:"open",target:this})),ke.dispatchEvent(Me({type:"connection"}),xe)}else this.readyState=q.CLOSED,this.dispatchEvent(Me({type:"error",target:this})),this.dispatchEvent(Ze({type:"close",target:this,code:W.CLOSE_NORMAL})),G("error","WebSocket connection to '"+this.url+"' failed")},this)}X&&(q.__proto__=X),q.prototype=Object.create(X&&X.prototype),q.prototype.constructor=q;var se={onopen:{},onmessage:{},onclose:{},onerror:{}};return se.onopen.get=function(){return this._onopen},se.onmessage.get=function(){return this._onmessage},se.onclose.get=function(){return this._onclose},se.onerror.get=function(){return this._onerror},se.onopen.set=function(F){this.removeEventListener("open",this._onopen),this._onopen=F,this.addEventListener("open",F)},se.onmessage.set=function(F){this.removeEventListener("message",this._onmessage),this._onmessage=F,this.addEventListener("message",F)},se.onclose.set=function(F){this.removeEventListener("close",this._onclose),this._onclose=F,this.addEventListener("close",F)},se.onerror.set=function(F){this.removeEventListener("error",this._onerror),this._onerror=F,this.addEventListener("error",F)},q.prototype.send=function(ie){var xe=this;if(this.readyState===q.CONNECTING)throw new Error("Failed to execute 'send' on 'WebSocket': Still in CONNECTING state");var ke=pt({type:"server::message",origin:this.url,data:Q(ie)}),Z=ye.serverLookup(this.url);Z&&fe(function(){xe.dispatchEvent(ke,ie)},Z)},q.prototype.close=function(ie,xe){if(ie!==void 0&&(typeof ie!="number"||ie!==1e3&&(ie<3e3||ie>4999)))throw new TypeError(pe.CLOSE_ERROR+" The code must be either 1000, or between 3000 and 4999. "+ie+" is neither.");if(xe!==void 0){var ke=_e(xe);if(ke>123)throw new SyntaxError(pe.CLOSE_ERROR+" The message must not be greater than 123 bytes.")}if(!(this.readyState===q.CLOSING||this.readyState===q.CLOSED)){var Z=J(this);this.readyState===q.CONNECTING?H(Z,ie||W.CLOSE_ABNORMAL,xe):_t(Z,ie||W.CLOSE_NO_STATUS,xe)}},Object.defineProperties(q.prototype,se),q}(he);Re.CONNECTING=0,Re.prototype.CONNECTING=Re.CONNECTING,Re.OPEN=1,Re.prototype.OPEN=Re.OPEN,Re.CLOSING=2,Re.prototype.CLOSING=Re.CLOSING,Re.CLOSED=3,Re.prototype.CLOSED=Re.CLOSED;var D=function(X){function q(F,ie){var xe=this;F===void 0&&(F="socket.io"),ie===void 0&&(ie=""),X.call(this),this.binaryType="blob";var ke=new ae(F);ke.pathname||(ke.pathname="/"),this.url=ke.toString(),this.readyState=q.CONNECTING,this.protocol="",this.target=this,typeof ie=="string"||typeof ie=="object"&&ie!==null?this.protocol=ie:Array.isArray(ie)&&ie.length>0&&(this.protocol=ie[0]);var Z=ye.attachWebSocket(this,this.url);fe(function(){Z?(this.readyState=q.OPEN,Z.dispatchEvent(Me({type:"connection"}),Z,this),Z.dispatchEvent(Me({type:"connect"}),Z,this),this.dispatchEvent(Me({type:"connect",target:this}))):(this.readyState=q.CLOSED,this.dispatchEvent(Me({type:"error",target:this})),this.dispatchEvent(Ze({type:"close",target:this,code:W.CLOSE_NORMAL})),G("error","Socket.io connection to '"+this.url+"' failed"))},this),this.addEventListener("close",function(le){xe.dispatchEvent(Ze({type:"disconnect",target:le.target,code:le.code}))})}X&&(q.__proto__=X),q.prototype=Object.create(X&&X.prototype),q.prototype.constructor=q;var se={broadcast:{}};return q.prototype.close=function(){if(this.readyState===q.OPEN){var ie=ye.serverLookup(this.url);return ye.removeWebSocket(this,this.url),this.readyState=q.CLOSED,this.dispatchEvent(Ze({type:"close",target:this,code:W.CLOSE_NORMAL})),ie&&ie.dispatchEvent(Ze({type:"disconnect",target:this,code:W.CLOSE_NORMAL}),ie),this}},q.prototype.disconnect=function(){return this.close()},q.prototype.emit=function(ie){for(var xe=[],ke=arguments.length-1;ke-- >0;)xe[ke]=arguments[ke+1];if(this.readyState!==q.OPEN)throw new Error("SocketIO is already in CLOSING or CLOSED state");var Z=pt({type:ie,origin:this.url,data:xe}),le=ye.serverLookup(this.url);return le&&le.dispatchEvent.apply(le,[Z].concat(xe)),this},q.prototype.send=function(ie){return this.emit("message",ie),this},se.broadcast.get=function(){if(this.readyState!==q.OPEN)throw new Error("SocketIO is already in CLOSING or CLOSED state");var F=this,ie=ye.serverLookup(this.url);if(!ie)throw new Error("SocketIO can not find a server at the specified URL ("+this.url+")");return{emit:function(ke,Z){return ie.emit(ke,Z,{websockets:ye.websocketsLookup(F.url,null,F)}),F},to:function(ke){return ie.to(ke,F)},in:function(ke){return ie.in(ke,F)}}},q.prototype.on=function(ie,xe){return this.addEventListener(ie,xe),this},q.prototype.off=function(ie,xe){this.removeEventListener(ie,xe)},q.prototype.hasListeners=function(ie){var xe=this.listeners[ie];return Array.isArray(xe)?!!xe.length:!1},q.prototype.join=function(ie){ye.addMembershipToRoom(this,ie)},q.prototype.leave=function(ie){ye.removeMembershipFromRoom(this,ie)},q.prototype.to=function(ie){return this.broadcast.to(ie)},q.prototype.in=function(){return this.to.apply(null,arguments)},q.prototype.dispatchEvent=function(ie){for(var xe=this,ke=[],Z=arguments.length-1;Z-- >0;)ke[Z]=arguments[Z+1];var le=ie.type,Ye=this.listeners[le];if(!Array.isArray(Ye))return!1;Ye.forEach(function(We){ke.length>0?We.apply(xe,ke):We.call(xe,ie.data?ie.data:ie)})},Object.defineProperties(q.prototype,se),q}(he);D.CONNECTING=0,D.OPEN=1,D.CLOSING=2,D.CLOSED=3;var M=function(q,se){return new D(q,se)};M.connect=function(q,se){return M(q,se)};var de=function(X){return X.reduce(function(q,se){return q.indexOf(se)>-1?q:q.concat(se)},[])};function Te(){return typeof window<"u"?window:typeof process=="object"&&typeof s9=="function"&&typeof br=="object"?br:this}var Ge={mock:!0,verifyClient:null,selectProtocol:null},Ue=function(X){function q(se,F){F===void 0&&(F=Ge),X.call(this);var ie=new ae(se);ie.pathname||(ie.pathname="/"),this.url=ie.toString(),this.originalWebSocket=null;var xe=ye.attachServer(this,this.url);if(!xe)throw this.dispatchEvent(Me({type:"error"})),new Error("A mock server is already listening on this url");this.options=Object.assign({},Ge,F),this.options.mock&&this.mockWebsocket()}return X&&(q.__proto__=X),q.prototype=Object.create(X&&X.prototype),q.prototype.constructor=q,q.prototype.mockWebsocket=function(){var F=Te();this.originalWebSocket=F.WebSocket,F.WebSocket=Re},q.prototype.restoreWebsocket=function(){var F=Te();this.originalWebSocket!==null&&(F.WebSocket=this.originalWebSocket),this.originalWebSocket=null},q.prototype.stop=function(F){F===void 0&&(F=function(){}),this.options.mock&&this.restoreWebsocket(),ye.removeServer(this.url),typeof F=="function"&&F()},q.prototype.on=function(F,ie){this.addEventListener(F,ie)},q.prototype.off=function(F,ie){this.removeEventListener(F,ie)},q.prototype.close=function(F){F===void 0&&(F={});var ie=F.code,xe=F.reason,ke=F.wasClean,Z=ye.websocketsLookup(this.url);ye.removeServer(this.url),Z.forEach(function(le){le.readyState=Re.CLOSED,le.dispatchEvent(Ze({type:"close",target:le.target,code:ie||W.CLOSE_NORMAL,reason:xe||"",wasClean:ke}))}),this.dispatchEvent(Ze({type:"close"}),this)},q.prototype.emit=function(F,ie,xe){var ke=this;xe===void 0&&(xe={});var Z=xe.websockets;Z||(Z=ye.websocketsLookup(this.url));var le;typeof xe!="object"||arguments.length>3?(ie=Array.prototype.slice.call(arguments,1,arguments.length),le=ie.map(function(Ye){return Q(Ye)})):le=Q(ie),Z.forEach(function(Ye){var We=Ye instanceof D?ie:le;Array.isArray(We)?Ye.dispatchEvent.apply(Ye,[pt({type:F,data:We,origin:ke.url,target:Ye.target})].concat(We)):Ye.dispatchEvent(pt({type:F,data:We,origin:ke.url,target:Ye.target}))})},q.prototype.clients=function(){return ye.websocketsLookup(this.url)},q.prototype.to=function(F,ie,xe){var ke=this;xe===void 0&&(xe=[]);var Z=this,le=de(xe.concat(ye.websocketsLookup(this.url,F,ie)));return{to:function(Ye,We){return ke.to.call(ke,Ye,We,le)},emit:function(We,Xe){Z.emit(We,Xe,{websockets:le})}}},q.prototype.in=function(){for(var F=[],ie=arguments.length;ie--;)F[ie]=arguments[ie];return this.to.apply(null,F)},q.prototype.simulate=function(F){var ie=ye.websocketsLookup(this.url);F==="error"&&ie.forEach(function(xe){xe.readyState=Re.CLOSED,xe.dispatchEvent(Me({type:"error",target:xe.target}))})},q}(he);Ue.of=function(q){return new Ue(q)};var ve=Ue,Le=Re,Je=M;n.Server=ve,n.WebSocket=Le,n.SocketIO=Je,Object.defineProperty(n,"__esModule",{value:!0})})}(il,il.exports)),il.exports}o9();class u9{constructor(e,n,i,s){be(this,"renderCanvas");be(this,"canvases",[]);be(this,"maxPoints",Number.MAX_SAFE_INTEGER);be(this,"tolerance",1);be(this,"lines",[]);be(this,"lines2",[]);be(this,"currentLine",{color:"#000",thickness:0,points:[]});be(this,"isSubmitting",!1);be(this,"isInteracting",!1);be(this,"currentColor","#000");be(this,"currentThickness",4);be(this,"currentFrame",0);be(this,"width",400);be(this,"height",400);this.width=n,this.height=i,this.renderCanvas=document.createElement("canvas"),s.thickness&&(this.currentThickness=s.thickness),s.color&&(this.currentColor=s.color),s.maxPoints&&(this.maxPoints=s.maxPoints),this.setupElements(e),this.draw()}createCanvasObject(e){const n=document.createElement("canvas");n.width=this.width,n.height=this.height,n.style.display="none",this.canvases.push({name:e,element:n,dirty:!0})}getCanvasObject(e){const n=this.canvases.find(i=>i.name===e);if(!n)throw new Error(`No canvas found with name ${e}`);return n}setupElements(e){this.renderCanvas.classList.add("draw-canvas"),this.renderCanvas.width=this.width,this.renderCanvas.height=this.height,this.renderCanvas.style.width="100%",this.renderCanvas.style.margin="0px auto",this.renderCanvas.style.height="100%",this.renderCanvas.style.top="0",this.renderCanvas.style.left="0",e.append(this.renderCanvas),this.createCanvasObject("inactive"),this.createCanvasObject("active"),this.createCanvasObject("line")}get submitting(){return this.isSubmitting}set submitting(e){this.isSubmitting=e}get color(){return this.currentColor}set color(e){this.currentColor=e}get thickness(){return this.currentThickness}set thickness(e){this.currentThickness=e}get frame(){return this.currentFrame}set frame(e){this.currentFrame=e,this.getCanvasObject("active").dirty=!0,this.getCanvasObject("inactive").dirty=!0,this.draw()}get canvasElement(){return this.renderCanvas}toObject(){return{frame0:this.exportLines(this.lines),frame1:this.exportLines(this.lines2)}}onDown(e){this.isSubmitting||(this.isInteracting=!0,this.addLine(e),this.getCanvasObject("line").dirty=!0,this.draw())}onMove(e){if(!this.isInteracting||this.isSubmitting)return;const n=this.getLastDrawnPoint();if(!n){this.addPoint(e),this.getCanvasObject("line").dirty=!0;return}const i=.5*this.thickness,s={x:e.x-n.x,y:e.y-n.y},a=Math.sqrt(s.x**2+s.y**2);if(a>i){const r=(a-i)/a,u={x:s.x*r,y:s.y*r},c={x:n.x+u.x,y:n.y+u.y};this.addPoint(c),this.getCanvasObject("line").dirty=!0,this.draw()}}onUp(){this.isSubmitting||this.isInteracting&&(this.isInteracting=!1,this.endLine(),this.getCanvasObject("active").dirty=!0,this.getCanvasObject("line").dirty=!0,this.draw())}addLine(e){const n=this.currentColor,i=this.currentThickness;this.currentLine={color:n,thickness:i,points:[]},this.addPoint(e)}addPoint(e){const n=this.currentLine;if(!n)return;const i={x:Math.min(Math.max(.5*n.thickness,e.x),this.renderCanvas.width-.5*n.thickness),y:Math.min(Math.max(.5*n.thickness,e.y),this.renderCanvas.height-.5*n.thickness)};n.points.push(i)}getLastDrawnPoint(){return this.currentLine.points.length===0?null:this.currentLine.points[this.currentLine.points.length-1]}endLine(){const n=this.currentFrame===0?this.lines:this.lines2,i=QN(this.currentLine.points);n.push({...this.currentLine,points:i}),this.currentLine={color:"#000",thickness:0,points:[]}}parseLines(e){let n="#000",i=1;return e.map(s=>{let a=[];return typeof s.points=="string"?a=s.points.split("|").map(r=>{const[u,c]=r.split(",");return{x:parseInt(u,10),y:parseInt(c,10)}}):a=s.points,s.color&&s.color!==n&&(n=s.color),s.thickness&&s.thickness!==i&&(i=s.thickness),{color:n,thickness:i,points:a}})}exportLines(e){return e.map(n=>({...n,points:n.points.map(i=>`${i.x},${i.y}`).join("|")}))}draw(){const e=this.renderCanvas.getContext("2d");if(!e)return;e.clearRect(0,0,this.width,this.height);const n=this.getCanvasObject("inactive");if(n.dirty){const a=n.element.getContext("2d");a.clearRect(0,0,this.width,this.height),(this.currentFrame===0?this.lines2:this.lines).forEach(u=>this.drawLine(a,u)),n.dirty=!1}e.save(),e.globalAlpha=.1,e.drawImage(n.element,0,0),e.restore();const i=this.getCanvasObject("active");if(i.dirty){const a=i.element.getContext("2d");a.clearRect(0,0,this.width,this.height),(this.currentFrame===0?this.lines:this.lines2).forEach(u=>this.drawLine(a,u)),i.dirty=!1}e.drawImage(i.element,0,0);const s=this.getCanvasObject("line");if(s.dirty){const a=s.element.getContext("2d");a.clearRect(0,0,this.width,this.height),this.drawLine(a,this.currentLine),s.dirty=!1}e.drawImage(s.element,0,0)}drawLine(e,n){e.strokeStyle=n.color,e.lineWidth=n.thickness,e.lineCap="round",e.lineJoin="round",e.fillStyle=n.color,e.strokeStyle=n.color,e.beginPath(),n.points.forEach((i,s)=>{s===0&&(e.save(),e.arc(i.x,i.y,n.thickness/2,0,2*Math.PI),e.fill(),e.restore(),e.beginPath(),e.moveTo(i.x,i.y)),e.lineTo(i.x,i.y)}),e.stroke()}}class l9{constructor(e,n){be(this,"stageElement");be(this,"width",400);be(this,"height",400);be(this,"interactCanvas");be(this,"isDrawing",!1);be(this,"callbacks",{});be(this,"capturedPointer");be(this,"onPointerDown",e=>{if(e.preventDefault(),!e.isPrimary||this.capturedPointer)return;const n=this.getEventPoint(e);this.interactCanvas.onDown(n),this.stageElement.setPointerCapture(e.pointerId),this.capturedPointer={pointerId:e.pointerId,pointerType:e.pointerType}});be(this,"onPointerMove",e=>{if(e.preventDefault(),!this.capturedPointer||!e.isPrimary||e.pointerType!==this.capturedPointer.pointerType)return;const n=this.getEventPoint(e);this.interactCanvas.onMove(n)});be(this,"onLostPointerCapture",e=>{if(e.preventDefault(),!this.capturedPointer||!e.isPrimary||e.pointerType!==this.capturedPointer.pointerType)return;this.interactCanvas.onUp(),this.emit("up");const n=this.capturedPointer.pointerId;this.stageElement.hasPointerCapture(n)&&this.stageElement.releasePointerCapture(n),this.capturedPointer=void 0});be(this,"onPointerEnd",e=>{if(e.preventDefault(),!this.capturedPointer||!e.isPrimary||e.pointerType!==this.capturedPointer.pointerType)return;this.interactCanvas.onUp(),this.emit("up");const n=this.capturedPointer.pointerId;this.stageElement.hasPointerCapture(n)&&this.stageElement.releasePointerCapture(n),this.capturedPointer=void 0});be(this,"onMouseDown",e=>{e.preventDefault();const n=this.getEventPoint(e);this.interactCanvas.onDown(n),this.isDrawing=!0});be(this,"onMouseMove",e=>{if(e.preventDefault(),!this.isDrawing)return;const n=this.getEventPoint(e);this.interactCanvas.onMove(n)});be(this,"onMouseUp",e=>{e.preventDefault(),this.interactCanvas.onUp(),this.isDrawing=!1,this.emit("up")});be(this,"onTouchStart",e=>{e.preventDefault();const n=this.getEventPoint(e.touches[0]);this.interactCanvas.onDown(n),this.isDrawing=!0});be(this,"onTouchMove",e=>{if(e.preventDefault(),!this.isDrawing)return;const n=this.getEventPoint(e.touches[0]);this.interactCanvas.onMove(n)});be(this,"onTouchCancel",e=>{e.preventDefault(),this.interactCanvas.onUp(),this.isDrawing=!1,this.emit("up")});be(this,"onTouchEnd",e=>{e.preventDefault(),this.interactCanvas.onUp(),this.isDrawing=!1,this.emit("up")});n.width&&(this.width=n.width),n.height&&(this.height=n.height),this.stageElement=e,this.setupElements(),this.setupEvents(),n.InteractCanvas?this.interactCanvas=new n.InteractCanvas(e,this.width,this.height,n):this.interactCanvas=new u9(e,this.width,this.height,n)}on(e,n){this.callbacks[e]=this.callbacks[e]||[],this.callbacks[e].push(n)}off(e,n){this.callbacks[e]=(this.callbacks[e]||[]).filter(i=>i!==n)}emit(e,...n){(this.callbacks[e]||[]).map(i=>i(...n))}beforeDestroy(){this.tearDownEvents()}get canvas(){return this.interactCanvas}getObject(){return this.interactCanvas.toObject()}setupElements(){this.stageElement.style.touchAction="none"}setupEvents(){typeof PointerEvent=="function"?(this.stageElement.addEventListener("pointerdown",this.onPointerDown),this.stageElement.addEventListener("pointermove",this.onPointerMove),this.stageElement.addEventListener("lostpointercapture",this.onLostPointerCapture),this.stageElement.addEventListener("pointerup",this.onPointerEnd)):(this.stageElement.addEventListener("mousedown",this.onMouseDown),this.stageElement.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp.bind(this.stageElement)),this.stageElement.addEventListener("touchstart",this.onTouchStart),this.stageElement.addEventListener("touchmove",this.onTouchMove),this.stageElement.addEventListener("touchcancel",this.onTouchCancel),this.stageElement.addEventListener("touchend",this.onTouchEnd))}tearDownEvents(){typeof PointerEvent=="function"?(this.stageElement.removeEventListener("pointerdown",this.onPointerDown),this.stageElement.removeEventListener("pointermove",this.onPointerMove),this.stageElement.removeEventListener("lostpointercapture",this.onLostPointerCapture),this.stageElement.removeEventListener("pointerup",this.onPointerEnd)):(this.stageElement.removeEventListener("mousedown",this.onMouseDown),this.stageElement.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.stageElement.removeEventListener("touchstart",this.onTouchStart),this.stageElement.removeEventListener("touchmove",this.onTouchMove),this.stageElement.removeEventListener("touchcancel",this.onTouchCancel),this.stageElement.removeEventListener("touchend",this.onTouchEnd))}getPropValue(e,n){return parseFloat(e.getPropertyValue(n))||0}getCanvasOffset(){const e=this.interactCanvas.canvasElement,n=window.getComputedStyle(e),i=e.getBoundingClientRect(),s=n.transform!=="none"?n.transform.replace("matrix(","").split(","):["1","1","1","1"],a=parseFloat(s[0]),r=parseFloat(s[3]),u=(this.getPropValue(n,"border-left-width")+this.getPropValue(n,"border-right-width"))*a,c=(this.getPropValue(n,"border-top-width")+this.getPropValue(n,"border-bottom-width"))*r,f=(this.getPropValue(n,"padding-left")+this.getPropValue(n,"padding-right"))*a,h=(this.getPropValue(n,"padding-top")+this.getPropValue(n,"padding-bottom"))*r;return{scaleX:(i.width-u-f)/e.width,scaleY:(i.height-c-h)/e.height,offsetX:i.left+(this.getPropValue(n,"border-left-width")+this.getPropValue(n,"padding-left"))*a,offsetY:i.top+(this.getPropValue(n,"border-top-width")+this.getPropValue(n,"padding-top"))*r}}getEventPoint(e){const{scaleX:n,scaleY:i,offsetX:s,offsetY:a}=this.getCanvasOffset(),r=e.clientX,u=e.clientY;let c=(r-s)/n,f=(u-a)/i;return c=Math.max(0,Math.min(this.width,c)),f=Math.max(0,Math.min(this.height,f)),c=Math.round(c),f=Math.round(f),{x:c,y:f}}}let c9=class{constructor(){be(this,"listeners",new Map)}on(e,n){this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(n)}off(e,n){const i=this.listeners.get(e);i&&(i.delete(n),i.size===0&&this.listeners.delete(e))}emit(e,n){const i=this.listeners.get(e);i&&i.forEach(s=>{try{s(n)}catch(a){console.error(`Error in event listener for "${String(e)}":`,a)}})}once(e,n){const i=s=>{this.off(e,i),n(s)};this.on(e,i)}removeAllListeners(e){e?this.listeners.delete(e):this.listeners.clear()}listenerCount(e){var n;return((n=this.listeners.get(e))==null?void 0:n.size)??0}eventNames(){return Array.from(this.listeners.keys())}};var Uo={},Mo={},dm={},lA;function B2(){return lA||(lA=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.EXTENDED_PICTOGRAPHIC=t.CLUSTER_BREAK=void 0,function(e){e[e.CR=0]="CR",e[e.LF=1]="LF",e[e.CONTROL=2]="CONTROL",e[e.EXTEND=3]="EXTEND",e[e.REGIONAL_INDICATOR=4]="REGIONAL_INDICATOR",e[e.SPACINGMARK=5]="SPACINGMARK",e[e.L=6]="L",e[e.V=7]="V",e[e.T=8]="T",e[e.LV=9]="LV",e[e.LVT=10]="LVT",e[e.OTHER=11]="OTHER",e[e.PREPEND=12]="PREPEND",e[e.E_BASE=13]="E_BASE",e[e.E_MODIFIER=14]="E_MODIFIER",e[e.ZWJ=15]="ZWJ",e[e.GLUE_AFTER_ZWJ=16]="GLUE_AFTER_ZWJ",e[e.E_BASE_GAZ=17]="E_BASE_GAZ"}(t.CLUSTER_BREAK||(t.CLUSTER_BREAK={})),t.EXTENDED_PICTOGRAPHIC=101}(dm)),dm}var zc={},cA;function f9(){if(cA)return zc;cA=1,Object.defineProperty(zc,"__esModule",{value:!0});const t=B2(),e=0,n=1,i=2,s=3,a=4;let r=class{static isSurrogate(c,f){return 55296<=c.charCodeAt(f)&&c.charCodeAt(f)<=56319&&56320<=c.charCodeAt(f+1)&&c.charCodeAt(f+1)<=57343}static codePointAt(c,f){f===void 0&&(f=0);const h=c.charCodeAt(f);if(55296<=h&&h<=56319&&f<c.length-1){const d=h,g=c.charCodeAt(f+1);return 56320<=g&&g<=57343?(d-55296)*1024+(g-56320)+65536:d}if(56320<=h&&h<=57343&&f>=1){const d=c.charCodeAt(f-1),g=h;return 55296<=d&&d<=56319?(d-55296)*1024+(g-56320)+65536:g}return h}static shouldBreak(c,f,h,d,g,E){const v=[c].concat(f).concat([h]),S=[d].concat(g).concat([E]),x=v[v.length-2],A=h,w=E,I=v.lastIndexOf(t.CLUSTER_BREAK.REGIONAL_INDICATOR);if(I>0&&v.slice(1,I).every(function(R){return R===t.CLUSTER_BREAK.REGIONAL_INDICATOR})&&[t.CLUSTER_BREAK.PREPEND,t.CLUSTER_BREAK.REGIONAL_INDICATOR].indexOf(x)===-1)return v.filter(function(R){return R===t.CLUSTER_BREAK.REGIONAL_INDICATOR}).length%2===1?s:a;if(x===t.CLUSTER_BREAK.CR&&A===t.CLUSTER_BREAK.LF)return e;if(x===t.CLUSTER_BREAK.CONTROL||x===t.CLUSTER_BREAK.CR||x===t.CLUSTER_BREAK.LF)return n;if(A===t.CLUSTER_BREAK.CONTROL||A===t.CLUSTER_BREAK.CR||A===t.CLUSTER_BREAK.LF)return n;if(x===t.CLUSTER_BREAK.L&&(A===t.CLUSTER_BREAK.L||A===t.CLUSTER_BREAK.V||A===t.CLUSTER_BREAK.LV||A===t.CLUSTER_BREAK.LVT))return e;if((x===t.CLUSTER_BREAK.LV||x===t.CLUSTER_BREAK.V)&&(A===t.CLUSTER_BREAK.V||A===t.CLUSTER_BREAK.T))return e;if((x===t.CLUSTER_BREAK.LVT||x===t.CLUSTER_BREAK.T)&&A===t.CLUSTER_BREAK.T)return e;if(A===t.CLUSTER_BREAK.EXTEND||A===t.CLUSTER_BREAK.ZWJ)return e;if(A===t.CLUSTER_BREAK.SPACINGMARK)return e;if(x===t.CLUSTER_BREAK.PREPEND)return e;const C=S.slice(0,-1).lastIndexOf(t.EXTENDED_PICTOGRAPHIC);return C!==-1&&S[C]===t.EXTENDED_PICTOGRAPHIC&&v.slice(C+1,-2).every(function(R){return R===t.CLUSTER_BREAK.EXTEND})&&x===t.CLUSTER_BREAK.ZWJ&&w===t.EXTENDED_PICTOGRAPHIC?e:f.indexOf(t.CLUSTER_BREAK.REGIONAL_INDICATOR)!==-1?i:x===t.CLUSTER_BREAK.REGIONAL_INDICATOR&&A===t.CLUSTER_BREAK.REGIONAL_INDICATOR?e:n}};return zc.default=r,zc}var Jc={},fA;function h9(){if(fA)return Jc;fA=1,Object.defineProperty(Jc,"__esModule",{value:!0});let t=class{constructor(n,i){this._index=0,this._str=n,this._nextBreak=i}[Symbol.iterator](){return this}next(){let n;if((n=this._nextBreak(this._str,this._index))<this._str.length){const i=this._str.slice(this._index,n);return this._index=n,{value:i,done:!1}}if(this._index<this._str.length){const i=this._str.slice(this._index);return this._index=this._str.length,{value:i,done:!1}}return{value:void 0,done:!0}}};return Jc.default=t,Jc}var hA;function p9(){if(hA)return Mo;hA=1;var t=Mo&&Mo.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Mo,"__esModule",{value:!0});const e=B2(),n=t(f9()),i=t(h9());class s{static nextBreak(r,u){if(u===void 0&&(u=0),u<0)return 0;if(u>=r.length-1)return r.length;const c=n.default.codePointAt(r,u),f=s.getGraphemeBreakProperty(c),h=s.getEmojiProperty(c),d=[],g=[];for(let E=u+1;E<r.length;E++){if(n.default.isSurrogate(r,E-1))continue;const v=n.default.codePointAt(r,E),S=s.getGraphemeBreakProperty(v),x=s.getEmojiProperty(v);if(n.default.shouldBreak(f,d,S,h,g,x))return E;d.push(S),g.push(x)}return r.length}splitGraphemes(r){const u=[];let c=0,f;for(;(f=s.nextBreak(r,c))<r.length;)u.push(r.slice(c,f)),c=f;return c<r.length&&u.push(r.slice(c)),u}iterateGraphemes(r){return new i.default(r,s.nextBreak)}countGraphemes(r){let u=0,c=0,f;for(;(f=s.nextBreak(r,c))<r.length;)c=f,u++;return c<r.length&&u++,u}static getGraphemeBreakProperty(r){if(r<48905){if(r<44116){if(r<4141){if(r<2818){if(r<2363)if(r<1759){if(r<1471){if(r<127){if(r<11){if(r<10){if(0<=r&&r<=9)return e.CLUSTER_BREAK.CONTROL}else if(r===10)return e.CLUSTER_BREAK.LF}else if(r<13){if(11<=r&&r<=12)return e.CLUSTER_BREAK.CONTROL}else if(r<14){if(r===13)return e.CLUSTER_BREAK.CR}else if(14<=r&&r<=31)return e.CLUSTER_BREAK.CONTROL}else if(r<768){if(r<173){if(127<=r&&r<=159)return e.CLUSTER_BREAK.CONTROL}else if(r===173)return e.CLUSTER_BREAK.CONTROL}else if(r<1155){if(768<=r&&r<=879)return e.CLUSTER_BREAK.EXTEND}else if(r<1425){if(1155<=r&&r<=1161)return e.CLUSTER_BREAK.EXTEND}else if(1425<=r&&r<=1469)return e.CLUSTER_BREAK.EXTEND}else if(r<1552){if(r<1476){if(r<1473){if(r===1471)return e.CLUSTER_BREAK.EXTEND}else if(1473<=r&&r<=1474)return e.CLUSTER_BREAK.EXTEND}else if(r<1479){if(1476<=r&&r<=1477)return e.CLUSTER_BREAK.EXTEND}else if(r<1536){if(r===1479)return e.CLUSTER_BREAK.EXTEND}else if(1536<=r&&r<=1541)return e.CLUSTER_BREAK.PREPEND}else if(r<1648){if(r<1564){if(1552<=r&&r<=1562)return e.CLUSTER_BREAK.EXTEND}else if(r<1611){if(r===1564)return e.CLUSTER_BREAK.CONTROL}else if(1611<=r&&r<=1631)return e.CLUSTER_BREAK.EXTEND}else if(r<1750){if(r===1648)return e.CLUSTER_BREAK.EXTEND}else if(r<1757){if(1750<=r&&r<=1756)return e.CLUSTER_BREAK.EXTEND}else if(r===1757)return e.CLUSTER_BREAK.PREPEND}else if(r<2075){if(r<1840)if(r<1770){if(r<1767){if(1759<=r&&r<=1764)return e.CLUSTER_BREAK.EXTEND}else if(1767<=r&&r<=1768)return e.CLUSTER_BREAK.EXTEND}else if(r<1807){if(1770<=r&&r<=1773)return e.CLUSTER_BREAK.EXTEND}else{if(r===1807)return e.CLUSTER_BREAK.PREPEND;if(r===1809)return e.CLUSTER_BREAK.EXTEND}else if(r<2027){if(r<1958){if(1840<=r&&r<=1866)return e.CLUSTER_BREAK.EXTEND}else if(1958<=r&&r<=1968)return e.CLUSTER_BREAK.EXTEND}else if(r<2045){if(2027<=r&&r<=2035)return e.CLUSTER_BREAK.EXTEND}else if(r<2070){if(r===2045)return e.CLUSTER_BREAK.EXTEND}else if(2070<=r&&r<=2073)return e.CLUSTER_BREAK.EXTEND}else if(r<2200){if(r<2089){if(r<2085){if(2075<=r&&r<=2083)return e.CLUSTER_BREAK.EXTEND}else if(2085<=r&&r<=2087)return e.CLUSTER_BREAK.EXTEND}else if(r<2137){if(2089<=r&&r<=2093)return e.CLUSTER_BREAK.EXTEND}else if(r<2192){if(2137<=r&&r<=2139)return e.CLUSTER_BREAK.EXTEND}else if(2192<=r&&r<=2193)return e.CLUSTER_BREAK.PREPEND}else if(r<2275){if(r<2250){if(2200<=r&&r<=2207)return e.CLUSTER_BREAK.EXTEND}else if(r<2274){if(2250<=r&&r<=2273)return e.CLUSTER_BREAK.EXTEND}else if(r===2274)return e.CLUSTER_BREAK.PREPEND}else if(r<2307){if(2275<=r&&r<=2306)return e.CLUSTER_BREAK.EXTEND}else{if(r===2307)return e.CLUSTER_BREAK.SPACINGMARK;if(r===2362)return e.CLUSTER_BREAK.EXTEND}else if(r<2561){if(r<2434){if(r<2381){if(r<2366){if(r===2363)return e.CLUSTER_BREAK.SPACINGMARK;if(r===2364)return e.CLUSTER_BREAK.EXTEND}else if(r<2369){if(2366<=r&&r<=2368)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<2377){if(2369<=r&&r<=2376)return e.CLUSTER_BREAK.EXTEND}else if(2377<=r&&r<=2380)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<2385){if(r<2382){if(r===2381)return e.CLUSTER_BREAK.EXTEND}else if(2382<=r&&r<=2383)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<2402){if(2385<=r&&r<=2391)return e.CLUSTER_BREAK.EXTEND}else if(r<2433){if(2402<=r&&r<=2403)return e.CLUSTER_BREAK.EXTEND}else if(r===2433)return e.CLUSTER_BREAK.EXTEND}else if(r<2503){if(r<2494){if(r<2492){if(2434<=r&&r<=2435)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===2492)return e.CLUSTER_BREAK.EXTEND}else if(r<2495){if(r===2494)return e.CLUSTER_BREAK.EXTEND}else if(r<2497){if(2495<=r&&r<=2496)return e.CLUSTER_BREAK.SPACINGMARK}else if(2497<=r&&r<=2500)return e.CLUSTER_BREAK.EXTEND}else if(r<2519){if(r<2507){if(2503<=r&&r<=2504)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<2509){if(2507<=r&&r<=2508)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===2509)return e.CLUSTER_BREAK.EXTEND}else if(r<2530){if(r===2519)return e.CLUSTER_BREAK.EXTEND}else if(r<2558){if(2530<=r&&r<=2531)return e.CLUSTER_BREAK.EXTEND}else if(r===2558)return e.CLUSTER_BREAK.EXTEND}else if(r<2691){if(r<2631){if(r<2620){if(r<2563){if(2561<=r&&r<=2562)return e.CLUSTER_BREAK.EXTEND}else if(r===2563)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<2622){if(r===2620)return e.CLUSTER_BREAK.EXTEND}else if(r<2625){if(2622<=r&&r<=2624)return e.CLUSTER_BREAK.SPACINGMARK}else if(2625<=r&&r<=2626)return e.CLUSTER_BREAK.EXTEND}else if(r<2672){if(r<2635){if(2631<=r&&r<=2632)return e.CLUSTER_BREAK.EXTEND}else if(r<2641){if(2635<=r&&r<=2637)return e.CLUSTER_BREAK.EXTEND}else if(r===2641)return e.CLUSTER_BREAK.EXTEND}else if(r<2677){if(2672<=r&&r<=2673)return e.CLUSTER_BREAK.EXTEND}else if(r<2689){if(r===2677)return e.CLUSTER_BREAK.EXTEND}else if(2689<=r&&r<=2690)return e.CLUSTER_BREAK.EXTEND}else if(r<2761){if(r<2750){if(r===2691)return e.CLUSTER_BREAK.SPACINGMARK;if(r===2748)return e.CLUSTER_BREAK.EXTEND}else if(r<2753){if(2750<=r&&r<=2752)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<2759){if(2753<=r&&r<=2757)return e.CLUSTER_BREAK.EXTEND}else if(2759<=r&&r<=2760)return e.CLUSTER_BREAK.EXTEND}else if(r<2786){if(r<2763){if(r===2761)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<2765){if(2763<=r&&r<=2764)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===2765)return e.CLUSTER_BREAK.EXTEND}else if(r<2810){if(2786<=r&&r<=2787)return e.CLUSTER_BREAK.EXTEND}else if(r<2817){if(2810<=r&&r<=2815)return e.CLUSTER_BREAK.EXTEND}else if(r===2817)return e.CLUSTER_BREAK.EXTEND}else if(r<3315){if(r<3076){if(r<2946){if(r<2887){if(r<2878){if(r<2876){if(2818<=r&&r<=2819)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===2876)return e.CLUSTER_BREAK.EXTEND}else if(r<2880){if(2878<=r&&r<=2879)return e.CLUSTER_BREAK.EXTEND}else if(r<2881){if(r===2880)return e.CLUSTER_BREAK.SPACINGMARK}else if(2881<=r&&r<=2884)return e.CLUSTER_BREAK.EXTEND}else if(r<2893){if(r<2891){if(2887<=r&&r<=2888)return e.CLUSTER_BREAK.SPACINGMARK}else if(2891<=r&&r<=2892)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<2901){if(r===2893)return e.CLUSTER_BREAK.EXTEND}else if(r<2914){if(2901<=r&&r<=2903)return e.CLUSTER_BREAK.EXTEND}else if(2914<=r&&r<=2915)return e.CLUSTER_BREAK.EXTEND}else if(r<3014){if(r<3007){if(r===2946||r===3006)return e.CLUSTER_BREAK.EXTEND}else if(r<3008){if(r===3007)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3009){if(r===3008)return e.CLUSTER_BREAK.EXTEND}else if(3009<=r&&r<=3010)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3031){if(r<3018){if(3014<=r&&r<=3016)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3021){if(3018<=r&&r<=3020)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===3021)return e.CLUSTER_BREAK.EXTEND}else if(r<3072){if(r===3031)return e.CLUSTER_BREAK.EXTEND}else if(r<3073){if(r===3072)return e.CLUSTER_BREAK.EXTEND}else if(3073<=r&&r<=3075)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3262){if(r<3146){if(r<3134){if(r===3076||r===3132)return e.CLUSTER_BREAK.EXTEND}else if(r<3137){if(3134<=r&&r<=3136)return e.CLUSTER_BREAK.EXTEND}else if(r<3142){if(3137<=r&&r<=3140)return e.CLUSTER_BREAK.SPACINGMARK}else if(3142<=r&&r<=3144)return e.CLUSTER_BREAK.EXTEND}else if(r<3201){if(r<3157){if(3146<=r&&r<=3149)return e.CLUSTER_BREAK.EXTEND}else if(r<3170){if(3157<=r&&r<=3158)return e.CLUSTER_BREAK.EXTEND}else if(3170<=r&&r<=3171)return e.CLUSTER_BREAK.EXTEND}else if(r<3202){if(r===3201)return e.CLUSTER_BREAK.EXTEND}else if(r<3260){if(3202<=r&&r<=3203)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===3260)return e.CLUSTER_BREAK.EXTEND}else if(r<3270){if(r<3264){if(r===3262)return e.CLUSTER_BREAK.SPACINGMARK;if(r===3263)return e.CLUSTER_BREAK.EXTEND}else if(r<3266){if(3264<=r&&r<=3265)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3267){if(r===3266)return e.CLUSTER_BREAK.EXTEND}else if(3267<=r&&r<=3268)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3276){if(r<3271){if(r===3270)return e.CLUSTER_BREAK.EXTEND}else if(r<3274){if(3271<=r&&r<=3272)return e.CLUSTER_BREAK.SPACINGMARK}else if(3274<=r&&r<=3275)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3285){if(3276<=r&&r<=3277)return e.CLUSTER_BREAK.EXTEND}else if(r<3298){if(3285<=r&&r<=3286)return e.CLUSTER_BREAK.EXTEND}else if(3298<=r&&r<=3299)return e.CLUSTER_BREAK.EXTEND}else if(r<3551){if(r<3406){if(r<3391){if(r<3330){if(r<3328){if(r===3315)return e.CLUSTER_BREAK.SPACINGMARK}else if(3328<=r&&r<=3329)return e.CLUSTER_BREAK.EXTEND}else if(r<3387){if(3330<=r&&r<=3331)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3390){if(3387<=r&&r<=3388)return e.CLUSTER_BREAK.EXTEND}else if(r===3390)return e.CLUSTER_BREAK.EXTEND}else if(r<3398){if(r<3393){if(3391<=r&&r<=3392)return e.CLUSTER_BREAK.SPACINGMARK}else if(3393<=r&&r<=3396)return e.CLUSTER_BREAK.EXTEND}else if(r<3402){if(3398<=r&&r<=3400)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3405){if(3402<=r&&r<=3404)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===3405)return e.CLUSTER_BREAK.EXTEND}else if(r<3530){if(r<3426){if(r===3406)return e.CLUSTER_BREAK.PREPEND;if(r===3415)return e.CLUSTER_BREAK.EXTEND}else if(r<3457){if(3426<=r&&r<=3427)return e.CLUSTER_BREAK.EXTEND}else if(r<3458){if(r===3457)return e.CLUSTER_BREAK.EXTEND}else if(3458<=r&&r<=3459)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3538){if(r<3535){if(r===3530)return e.CLUSTER_BREAK.EXTEND}else if(r<3536){if(r===3535)return e.CLUSTER_BREAK.EXTEND}else if(3536<=r&&r<=3537)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3542){if(3538<=r&&r<=3540)return e.CLUSTER_BREAK.EXTEND}else if(r<3544){if(r===3542)return e.CLUSTER_BREAK.EXTEND}else if(3544<=r&&r<=3550)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3893){if(r<3655){if(r<3633){if(r<3570){if(r===3551)return e.CLUSTER_BREAK.EXTEND}else if(3570<=r&&r<=3571)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3635){if(r===3633)return e.CLUSTER_BREAK.EXTEND}else if(r<3636){if(r===3635)return e.CLUSTER_BREAK.SPACINGMARK}else if(3636<=r&&r<=3642)return e.CLUSTER_BREAK.EXTEND}else if(r<3764)if(r<3761){if(3655<=r&&r<=3662)return e.CLUSTER_BREAK.EXTEND}else{if(r===3761)return e.CLUSTER_BREAK.EXTEND;if(r===3763)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3784){if(3764<=r&&r<=3772)return e.CLUSTER_BREAK.EXTEND}else if(r<3864){if(3784<=r&&r<=3790)return e.CLUSTER_BREAK.EXTEND}else if(3864<=r&&r<=3865)return e.CLUSTER_BREAK.EXTEND}else if(r<3967){if(r<3897){if(r===3893||r===3895)return e.CLUSTER_BREAK.EXTEND}else if(r<3902){if(r===3897)return e.CLUSTER_BREAK.EXTEND}else if(r<3953){if(3902<=r&&r<=3903)return e.CLUSTER_BREAK.SPACINGMARK}else if(3953<=r&&r<=3966)return e.CLUSTER_BREAK.EXTEND}else if(r<3981){if(r<3968){if(r===3967)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<3974){if(3968<=r&&r<=3972)return e.CLUSTER_BREAK.EXTEND}else if(3974<=r&&r<=3975)return e.CLUSTER_BREAK.EXTEND}else if(r<3993){if(3981<=r&&r<=3991)return e.CLUSTER_BREAK.EXTEND}else if(r<4038){if(3993<=r&&r<=4028)return e.CLUSTER_BREAK.EXTEND}else if(r===4038)return e.CLUSTER_BREAK.EXTEND}else if(r<7204){if(r<6448){if(r<5938){if(r<4226){if(r<4157){if(r<4146){if(r<4145){if(4141<=r&&r<=4144)return e.CLUSTER_BREAK.EXTEND}else if(r===4145)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<4153){if(4146<=r&&r<=4151)return e.CLUSTER_BREAK.EXTEND}else if(r<4155){if(4153<=r&&r<=4154)return e.CLUSTER_BREAK.EXTEND}else if(4155<=r&&r<=4156)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<4184){if(r<4182){if(4157<=r&&r<=4158)return e.CLUSTER_BREAK.EXTEND}else if(4182<=r&&r<=4183)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<4190){if(4184<=r&&r<=4185)return e.CLUSTER_BREAK.EXTEND}else if(r<4209){if(4190<=r&&r<=4192)return e.CLUSTER_BREAK.EXTEND}else if(4209<=r&&r<=4212)return e.CLUSTER_BREAK.EXTEND}else if(r<4352){if(r<4229){if(r===4226)return e.CLUSTER_BREAK.EXTEND;if(r===4228)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<4237){if(4229<=r&&r<=4230)return e.CLUSTER_BREAK.EXTEND}else if(r===4237||r===4253)return e.CLUSTER_BREAK.EXTEND}else if(r<4957){if(r<4448){if(4352<=r&&r<=4447)return e.CLUSTER_BREAK.L}else if(r<4520){if(4448<=r&&r<=4519)return e.CLUSTER_BREAK.V}else if(4520<=r&&r<=4607)return e.CLUSTER_BREAK.T}else if(r<5906){if(4957<=r&&r<=4959)return e.CLUSTER_BREAK.EXTEND}else if(r<5909){if(5906<=r&&r<=5908)return e.CLUSTER_BREAK.EXTEND}else if(r===5909)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6089){if(r<6070){if(r<5970){if(r<5940){if(5938<=r&&r<=5939)return e.CLUSTER_BREAK.EXTEND}else if(r===5940)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6002){if(5970<=r&&r<=5971)return e.CLUSTER_BREAK.EXTEND}else if(r<6068){if(6002<=r&&r<=6003)return e.CLUSTER_BREAK.EXTEND}else if(6068<=r&&r<=6069)return e.CLUSTER_BREAK.EXTEND}else if(r<6078){if(r<6071){if(r===6070)return e.CLUSTER_BREAK.SPACINGMARK}else if(6071<=r&&r<=6077)return e.CLUSTER_BREAK.EXTEND}else if(r<6086){if(6078<=r&&r<=6085)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6087){if(r===6086)return e.CLUSTER_BREAK.EXTEND}else if(6087<=r&&r<=6088)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6277)if(r<6155){if(r<6109){if(6089<=r&&r<=6099)return e.CLUSTER_BREAK.EXTEND}else if(r===6109)return e.CLUSTER_BREAK.EXTEND}else if(r<6158){if(6155<=r&&r<=6157)return e.CLUSTER_BREAK.EXTEND}else{if(r===6158)return e.CLUSTER_BREAK.CONTROL;if(r===6159)return e.CLUSTER_BREAK.EXTEND}else if(r<6435){if(r<6313){if(6277<=r&&r<=6278)return e.CLUSTER_BREAK.EXTEND}else if(r<6432){if(r===6313)return e.CLUSTER_BREAK.EXTEND}else if(6432<=r&&r<=6434)return e.CLUSTER_BREAK.EXTEND}else if(r<6439){if(6435<=r&&r<=6438)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6441){if(6439<=r&&r<=6440)return e.CLUSTER_BREAK.EXTEND}else if(6441<=r&&r<=6443)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6971){if(r<6744)if(r<6681){if(r<6451){if(r<6450){if(6448<=r&&r<=6449)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===6450)return e.CLUSTER_BREAK.EXTEND}else if(r<6457){if(6451<=r&&r<=6456)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6679){if(6457<=r&&r<=6459)return e.CLUSTER_BREAK.EXTEND}else if(6679<=r&&r<=6680)return e.CLUSTER_BREAK.EXTEND}else if(r<6741){if(r<6683){if(6681<=r&&r<=6682)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===6683)return e.CLUSTER_BREAK.EXTEND}else if(r<6742){if(r===6741)return e.CLUSTER_BREAK.SPACINGMARK}else{if(r===6742)return e.CLUSTER_BREAK.EXTEND;if(r===6743)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6771){if(r<6754){if(r<6752){if(6744<=r&&r<=6750)return e.CLUSTER_BREAK.EXTEND}else if(r===6752)return e.CLUSTER_BREAK.EXTEND}else if(r<6757){if(r===6754)return e.CLUSTER_BREAK.EXTEND}else if(r<6765){if(6757<=r&&r<=6764)return e.CLUSTER_BREAK.EXTEND}else if(6765<=r&&r<=6770)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6912){if(r<6783){if(6771<=r&&r<=6780)return e.CLUSTER_BREAK.EXTEND}else if(r<6832){if(r===6783)return e.CLUSTER_BREAK.EXTEND}else if(6832<=r&&r<=6862)return e.CLUSTER_BREAK.EXTEND}else if(r<6916){if(6912<=r&&r<=6915)return e.CLUSTER_BREAK.EXTEND}else if(r<6964){if(r===6916)return e.CLUSTER_BREAK.SPACINGMARK}else if(6964<=r&&r<=6970)return e.CLUSTER_BREAK.EXTEND}else if(r<7080){if(r<7019){if(r<6973){if(r===6971)return e.CLUSTER_BREAK.SPACINGMARK;if(r===6972)return e.CLUSTER_BREAK.EXTEND}else if(r<6978){if(6973<=r&&r<=6977)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<6979){if(r===6978)return e.CLUSTER_BREAK.EXTEND}else if(6979<=r&&r<=6980)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7073){if(r<7040){if(7019<=r&&r<=7027)return e.CLUSTER_BREAK.EXTEND}else if(r<7042){if(7040<=r&&r<=7041)return e.CLUSTER_BREAK.EXTEND}else if(r===7042)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7074){if(r===7073)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7078){if(7074<=r&&r<=7077)return e.CLUSTER_BREAK.EXTEND}else if(7078<=r&&r<=7079)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7144)if(r<7083){if(r<7082){if(7080<=r&&r<=7081)return e.CLUSTER_BREAK.EXTEND}else if(r===7082)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7142){if(7083<=r&&r<=7085)return e.CLUSTER_BREAK.EXTEND}else{if(r===7142)return e.CLUSTER_BREAK.EXTEND;if(r===7143)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7150){if(r<7146){if(7144<=r&&r<=7145)return e.CLUSTER_BREAK.EXTEND}else if(r<7149){if(7146<=r&&r<=7148)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===7149)return e.CLUSTER_BREAK.EXTEND}else if(r<7151){if(r===7150)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7154){if(7151<=r&&r<=7153)return e.CLUSTER_BREAK.EXTEND}else if(7154<=r&&r<=7155)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43346){if(r<11647){if(r<7415){if(r<7380){if(r<7220){if(r<7212){if(7204<=r&&r<=7211)return e.CLUSTER_BREAK.SPACINGMARK}else if(7212<=r&&r<=7219)return e.CLUSTER_BREAK.EXTEND}else if(r<7222){if(7220<=r&&r<=7221)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7376){if(7222<=r&&r<=7223)return e.CLUSTER_BREAK.EXTEND}else if(7376<=r&&r<=7378)return e.CLUSTER_BREAK.EXTEND}else if(r<7394){if(r<7393){if(7380<=r&&r<=7392)return e.CLUSTER_BREAK.EXTEND}else if(r===7393)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<7405){if(7394<=r&&r<=7400)return e.CLUSTER_BREAK.EXTEND}else if(r===7405||r===7412)return e.CLUSTER_BREAK.EXTEND}else if(r<8205)if(r<7616){if(r<7416){if(r===7415)return e.CLUSTER_BREAK.SPACINGMARK}else if(7416<=r&&r<=7417)return e.CLUSTER_BREAK.EXTEND}else if(r<8203){if(7616<=r&&r<=7679)return e.CLUSTER_BREAK.EXTEND}else{if(r===8203)return e.CLUSTER_BREAK.CONTROL;if(r===8204)return e.CLUSTER_BREAK.EXTEND}else if(r<8288){if(r<8206){if(r===8205)return e.CLUSTER_BREAK.ZWJ}else if(r<8232){if(8206<=r&&r<=8207)return e.CLUSTER_BREAK.CONTROL}else if(8232<=r&&r<=8238)return e.CLUSTER_BREAK.CONTROL}else if(r<8400){if(8288<=r&&r<=8303)return e.CLUSTER_BREAK.CONTROL}else if(r<11503){if(8400<=r&&r<=8432)return e.CLUSTER_BREAK.EXTEND}else if(11503<=r&&r<=11505)return e.CLUSTER_BREAK.EXTEND}else if(r<43043){if(r<42612){if(r<12330){if(r<11744){if(r===11647)return e.CLUSTER_BREAK.EXTEND}else if(11744<=r&&r<=11775)return e.CLUSTER_BREAK.EXTEND}else if(r<12441){if(12330<=r&&r<=12335)return e.CLUSTER_BREAK.EXTEND}else if(r<42607){if(12441<=r&&r<=12442)return e.CLUSTER_BREAK.EXTEND}else if(42607<=r&&r<=42610)return e.CLUSTER_BREAK.EXTEND}else if(r<43010){if(r<42654){if(42612<=r&&r<=42621)return e.CLUSTER_BREAK.EXTEND}else if(r<42736){if(42654<=r&&r<=42655)return e.CLUSTER_BREAK.EXTEND}else if(42736<=r&&r<=42737)return e.CLUSTER_BREAK.EXTEND}else if(r<43014){if(r===43010)return e.CLUSTER_BREAK.EXTEND}else if(r===43014||r===43019)return e.CLUSTER_BREAK.EXTEND}else if(r<43188){if(r<43047){if(r<43045){if(43043<=r&&r<=43044)return e.CLUSTER_BREAK.SPACINGMARK}else if(43045<=r&&r<=43046)return e.CLUSTER_BREAK.EXTEND}else if(r<43052){if(r===43047)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43136){if(r===43052)return e.CLUSTER_BREAK.EXTEND}else if(43136<=r&&r<=43137)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43263){if(r<43204){if(43188<=r&&r<=43203)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43232){if(43204<=r&&r<=43205)return e.CLUSTER_BREAK.EXTEND}else if(43232<=r&&r<=43249)return e.CLUSTER_BREAK.EXTEND}else if(r<43302){if(r===43263)return e.CLUSTER_BREAK.EXTEND}else if(r<43335){if(43302<=r&&r<=43309)return e.CLUSTER_BREAK.EXTEND}else if(43335<=r&&r<=43345)return e.CLUSTER_BREAK.EXTEND}else if(r<43698){if(r<43493){if(r<43444)if(r<43392){if(r<43360){if(43346<=r&&r<=43347)return e.CLUSTER_BREAK.SPACINGMARK}else if(43360<=r&&r<=43388)return e.CLUSTER_BREAK.L}else if(r<43395){if(43392<=r&&r<=43394)return e.CLUSTER_BREAK.EXTEND}else{if(r===43395)return e.CLUSTER_BREAK.SPACINGMARK;if(r===43443)return e.CLUSTER_BREAK.EXTEND}else if(r<43450){if(r<43446){if(43444<=r&&r<=43445)return e.CLUSTER_BREAK.SPACINGMARK}else if(43446<=r&&r<=43449)return e.CLUSTER_BREAK.EXTEND}else if(r<43452){if(43450<=r&&r<=43451)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43454){if(43452<=r&&r<=43453)return e.CLUSTER_BREAK.EXTEND}else if(43454<=r&&r<=43456)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43573){if(r<43567){if(r<43561){if(r===43493)return e.CLUSTER_BREAK.EXTEND}else if(43561<=r&&r<=43566)return e.CLUSTER_BREAK.EXTEND}else if(r<43569){if(43567<=r&&r<=43568)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43571){if(43569<=r&&r<=43570)return e.CLUSTER_BREAK.EXTEND}else if(43571<=r&&r<=43572)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43597){if(r<43587){if(43573<=r&&r<=43574)return e.CLUSTER_BREAK.EXTEND}else if(r===43587||r===43596)return e.CLUSTER_BREAK.EXTEND}else if(r<43644){if(r===43597)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===43644||r===43696)return e.CLUSTER_BREAK.EXTEND}else if(r<44006){if(r<43756)if(r<43710){if(r<43703){if(43698<=r&&r<=43700)return e.CLUSTER_BREAK.EXTEND}else if(43703<=r&&r<=43704)return e.CLUSTER_BREAK.EXTEND}else if(r<43713){if(43710<=r&&r<=43711)return e.CLUSTER_BREAK.EXTEND}else{if(r===43713)return e.CLUSTER_BREAK.EXTEND;if(r===43755)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<43766){if(r<43758){if(43756<=r&&r<=43757)return e.CLUSTER_BREAK.EXTEND}else if(r<43765){if(43758<=r&&r<=43759)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===43765)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<44003){if(r===43766)return e.CLUSTER_BREAK.EXTEND}else if(r<44005){if(44003<=r&&r<=44004)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===44005)return e.CLUSTER_BREAK.EXTEND}else if(r<44032)if(r<44009){if(r<44008){if(44006<=r&&r<=44007)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===44008)return e.CLUSTER_BREAK.EXTEND}else if(r<44012){if(44009<=r&&r<=44010)return e.CLUSTER_BREAK.SPACINGMARK}else{if(r===44012)return e.CLUSTER_BREAK.SPACINGMARK;if(r===44013)return e.CLUSTER_BREAK.EXTEND}else if(r<44061){if(r<44033){if(r===44032)return e.CLUSTER_BREAK.LV}else if(r<44060){if(44033<=r&&r<=44059)return e.CLUSTER_BREAK.LVT}else if(r===44060)return e.CLUSTER_BREAK.LV}else if(r<44088){if(44061<=r&&r<=44087)return e.CLUSTER_BREAK.LVT}else if(r<44089){if(r===44088)return e.CLUSTER_BREAK.LV}else if(44089<=r&&r<=44115)return e.CLUSTER_BREAK.LVT}else if(r<46497){if(r<45293){if(r<44704){if(r<44397){if(r<44256){if(r<44173){if(r<44144){if(r<44117){if(r===44116)return e.CLUSTER_BREAK.LV}else if(44117<=r&&r<=44143)return e.CLUSTER_BREAK.LVT}else if(r<44145){if(r===44144)return e.CLUSTER_BREAK.LV}else if(r<44172){if(44145<=r&&r<=44171)return e.CLUSTER_BREAK.LVT}else if(r===44172)return e.CLUSTER_BREAK.LV}else if(r<44201){if(r<44200){if(44173<=r&&r<=44199)return e.CLUSTER_BREAK.LVT}else if(r===44200)return e.CLUSTER_BREAK.LV}else if(r<44228){if(44201<=r&&r<=44227)return e.CLUSTER_BREAK.LVT}else if(r<44229){if(r===44228)return e.CLUSTER_BREAK.LV}else if(44229<=r&&r<=44255)return e.CLUSTER_BREAK.LVT}else if(r<44313){if(r<44284){if(r<44257){if(r===44256)return e.CLUSTER_BREAK.LV}else if(44257<=r&&r<=44283)return e.CLUSTER_BREAK.LVT}else if(r<44285){if(r===44284)return e.CLUSTER_BREAK.LV}else if(r<44312){if(44285<=r&&r<=44311)return e.CLUSTER_BREAK.LVT}else if(r===44312)return e.CLUSTER_BREAK.LV}else if(r<44368){if(r<44340){if(44313<=r&&r<=44339)return e.CLUSTER_BREAK.LVT}else if(r<44341){if(r===44340)return e.CLUSTER_BREAK.LV}else if(44341<=r&&r<=44367)return e.CLUSTER_BREAK.LVT}else if(r<44369){if(r===44368)return e.CLUSTER_BREAK.LV}else if(r<44396){if(44369<=r&&r<=44395)return e.CLUSTER_BREAK.LVT}else if(r===44396)return e.CLUSTER_BREAK.LV}else if(r<44537){if(r<44480){if(r<44425){if(r<44424){if(44397<=r&&r<=44423)return e.CLUSTER_BREAK.LVT}else if(r===44424)return e.CLUSTER_BREAK.LV}else if(r<44452){if(44425<=r&&r<=44451)return e.CLUSTER_BREAK.LVT}else if(r<44453){if(r===44452)return e.CLUSTER_BREAK.LV}else if(44453<=r&&r<=44479)return e.CLUSTER_BREAK.LVT}else if(r<44508){if(r<44481){if(r===44480)return e.CLUSTER_BREAK.LV}else if(44481<=r&&r<=44507)return e.CLUSTER_BREAK.LVT}else if(r<44509){if(r===44508)return e.CLUSTER_BREAK.LV}else if(r<44536){if(44509<=r&&r<=44535)return e.CLUSTER_BREAK.LVT}else if(r===44536)return e.CLUSTER_BREAK.LV}else if(r<44620){if(r<44565){if(r<44564){if(44537<=r&&r<=44563)return e.CLUSTER_BREAK.LVT}else if(r===44564)return e.CLUSTER_BREAK.LV}else if(r<44592){if(44565<=r&&r<=44591)return e.CLUSTER_BREAK.LVT}else if(r<44593){if(r===44592)return e.CLUSTER_BREAK.LV}else if(44593<=r&&r<=44619)return e.CLUSTER_BREAK.LVT}else if(r<44649){if(r<44621){if(r===44620)return e.CLUSTER_BREAK.LV}else if(r<44648){if(44621<=r&&r<=44647)return e.CLUSTER_BREAK.LVT}else if(r===44648)return e.CLUSTER_BREAK.LV}else if(r<44676){if(44649<=r&&r<=44675)return e.CLUSTER_BREAK.LVT}else if(r<44677){if(r===44676)return e.CLUSTER_BREAK.LV}else if(44677<=r&&r<=44703)return e.CLUSTER_BREAK.LVT}else if(r<44985){if(r<44844){if(r<44761){if(r<44732){if(r<44705){if(r===44704)return e.CLUSTER_BREAK.LV}else if(44705<=r&&r<=44731)return e.CLUSTER_BREAK.LVT}else if(r<44733){if(r===44732)return e.CLUSTER_BREAK.LV}else if(r<44760){if(44733<=r&&r<=44759)return e.CLUSTER_BREAK.LVT}else if(r===44760)return e.CLUSTER_BREAK.LV}else if(r<44789){if(r<44788){if(44761<=r&&r<=44787)return e.CLUSTER_BREAK.LVT}else if(r===44788)return e.CLUSTER_BREAK.LV}else if(r<44816){if(44789<=r&&r<=44815)return e.CLUSTER_BREAK.LVT}else if(r<44817){if(r===44816)return e.CLUSTER_BREAK.LV}else if(44817<=r&&r<=44843)return e.CLUSTER_BREAK.LVT}else if(r<44901){if(r<44872){if(r<44845){if(r===44844)return e.CLUSTER_BREAK.LV}else if(44845<=r&&r<=44871)return e.CLUSTER_BREAK.LVT}else if(r<44873){if(r===44872)return e.CLUSTER_BREAK.LV}else if(r<44900){if(44873<=r&&r<=44899)return e.CLUSTER_BREAK.LVT}else if(r===44900)return e.CLUSTER_BREAK.LV}else if(r<44956){if(r<44928){if(44901<=r&&r<=44927)return e.CLUSTER_BREAK.LVT}else if(r<44929){if(r===44928)return e.CLUSTER_BREAK.LV}else if(44929<=r&&r<=44955)return e.CLUSTER_BREAK.LVT}else if(r<44957){if(r===44956)return e.CLUSTER_BREAK.LV}else if(r<44984){if(44957<=r&&r<=44983)return e.CLUSTER_BREAK.LVT}else if(r===44984)return e.CLUSTER_BREAK.LV}else if(r<45152){if(r<45068){if(r<45013){if(r<45012){if(44985<=r&&r<=45011)return e.CLUSTER_BREAK.LVT}else if(r===45012)return e.CLUSTER_BREAK.LV}else if(r<45040){if(45013<=r&&r<=45039)return e.CLUSTER_BREAK.LVT}else if(r<45041){if(r===45040)return e.CLUSTER_BREAK.LV}else if(45041<=r&&r<=45067)return e.CLUSTER_BREAK.LVT}else if(r<45097){if(r<45069){if(r===45068)return e.CLUSTER_BREAK.LV}else if(r<45096){if(45069<=r&&r<=45095)return e.CLUSTER_BREAK.LVT}else if(r===45096)return e.CLUSTER_BREAK.LV}else if(r<45124){if(45097<=r&&r<=45123)return e.CLUSTER_BREAK.LVT}else if(r<45125){if(r===45124)return e.CLUSTER_BREAK.LV}else if(45125<=r&&r<=45151)return e.CLUSTER_BREAK.LVT}else if(r<45209){if(r<45180){if(r<45153){if(r===45152)return e.CLUSTER_BREAK.LV}else if(45153<=r&&r<=45179)return e.CLUSTER_BREAK.LVT}else if(r<45181){if(r===45180)return e.CLUSTER_BREAK.LV}else if(r<45208){if(45181<=r&&r<=45207)return e.CLUSTER_BREAK.LVT}else if(r===45208)return e.CLUSTER_BREAK.LV}else if(r<45264){if(r<45236){if(45209<=r&&r<=45235)return e.CLUSTER_BREAK.LVT}else if(r<45237){if(r===45236)return e.CLUSTER_BREAK.LV}else if(45237<=r&&r<=45263)return e.CLUSTER_BREAK.LVT}else if(r<45265){if(r===45264)return e.CLUSTER_BREAK.LV}else if(r<45292){if(45265<=r&&r<=45291)return e.CLUSTER_BREAK.LVT}else if(r===45292)return e.CLUSTER_BREAK.LV}else if(r<45908){if(r<45600){if(r<45433){if(r<45376){if(r<45321){if(r<45320){if(45293<=r&&r<=45319)return e.CLUSTER_BREAK.LVT}else if(r===45320)return e.CLUSTER_BREAK.LV}else if(r<45348){if(45321<=r&&r<=45347)return e.CLUSTER_BREAK.LVT}else if(r<45349){if(r===45348)return e.CLUSTER_BREAK.LV}else if(45349<=r&&r<=45375)return e.CLUSTER_BREAK.LVT}else if(r<45404){if(r<45377){if(r===45376)return e.CLUSTER_BREAK.LV}else if(45377<=r&&r<=45403)return e.CLUSTER_BREAK.LVT}else if(r<45405){if(r===45404)return e.CLUSTER_BREAK.LV}else if(r<45432){if(45405<=r&&r<=45431)return e.CLUSTER_BREAK.LVT}else if(r===45432)return e.CLUSTER_BREAK.LV}else if(r<45516){if(r<45461){if(r<45460){if(45433<=r&&r<=45459)return e.CLUSTER_BREAK.LVT}else if(r===45460)return e.CLUSTER_BREAK.LV}else if(r<45488){if(45461<=r&&r<=45487)return e.CLUSTER_BREAK.LVT}else if(r<45489){if(r===45488)return e.CLUSTER_BREAK.LV}else if(45489<=r&&r<=45515)return e.CLUSTER_BREAK.LVT}else if(r<45545){if(r<45517){if(r===45516)return e.CLUSTER_BREAK.LV}else if(r<45544){if(45517<=r&&r<=45543)return e.CLUSTER_BREAK.LVT}else if(r===45544)return e.CLUSTER_BREAK.LV}else if(r<45572){if(45545<=r&&r<=45571)return e.CLUSTER_BREAK.LVT}else if(r<45573){if(r===45572)return e.CLUSTER_BREAK.LV}else if(45573<=r&&r<=45599)return e.CLUSTER_BREAK.LVT}else if(r<45741){if(r<45657){if(r<45628){if(r<45601){if(r===45600)return e.CLUSTER_BREAK.LV}else if(45601<=r&&r<=45627)return e.CLUSTER_BREAK.LVT}else if(r<45629){if(r===45628)return e.CLUSTER_BREAK.LV}else if(r<45656){if(45629<=r&&r<=45655)return e.CLUSTER_BREAK.LVT}else if(r===45656)return e.CLUSTER_BREAK.LV}else if(r<45712){if(r<45684){if(45657<=r&&r<=45683)return e.CLUSTER_BREAK.LVT}else if(r<45685){if(r===45684)return e.CLUSTER_BREAK.LV}else if(45685<=r&&r<=45711)return e.CLUSTER_BREAK.LVT}else if(r<45713){if(r===45712)return e.CLUSTER_BREAK.LV}else if(r<45740){if(45713<=r&&r<=45739)return e.CLUSTER_BREAK.LVT}else if(r===45740)return e.CLUSTER_BREAK.LV}else if(r<45824){if(r<45769){if(r<45768){if(45741<=r&&r<=45767)return e.CLUSTER_BREAK.LVT}else if(r===45768)return e.CLUSTER_BREAK.LV}else if(r<45796){if(45769<=r&&r<=45795)return e.CLUSTER_BREAK.LVT}else if(r<45797){if(r===45796)return e.CLUSTER_BREAK.LV}else if(45797<=r&&r<=45823)return e.CLUSTER_BREAK.LVT}else if(r<45853){if(r<45825){if(r===45824)return e.CLUSTER_BREAK.LV}else if(r<45852){if(45825<=r&&r<=45851)return e.CLUSTER_BREAK.LVT}else if(r===45852)return e.CLUSTER_BREAK.LV}else if(r<45880){if(45853<=r&&r<=45879)return e.CLUSTER_BREAK.LVT}else if(r<45881){if(r===45880)return e.CLUSTER_BREAK.LV}else if(45881<=r&&r<=45907)return e.CLUSTER_BREAK.LVT}else if(r<46189){if(r<46048){if(r<45965){if(r<45936){if(r<45909){if(r===45908)return e.CLUSTER_BREAK.LV}else if(45909<=r&&r<=45935)return e.CLUSTER_BREAK.LVT}else if(r<45937){if(r===45936)return e.CLUSTER_BREAK.LV}else if(r<45964){if(45937<=r&&r<=45963)return e.CLUSTER_BREAK.LVT}else if(r===45964)return e.CLUSTER_BREAK.LV}else if(r<45993){if(r<45992){if(45965<=r&&r<=45991)return e.CLUSTER_BREAK.LVT}else if(r===45992)return e.CLUSTER_BREAK.LV}else if(r<46020){if(45993<=r&&r<=46019)return e.CLUSTER_BREAK.LVT}else if(r<46021){if(r===46020)return e.CLUSTER_BREAK.LV}else if(46021<=r&&r<=46047)return e.CLUSTER_BREAK.LVT}else if(r<46105){if(r<46076){if(r<46049){if(r===46048)return e.CLUSTER_BREAK.LV}else if(46049<=r&&r<=46075)return e.CLUSTER_BREAK.LVT}else if(r<46077){if(r===46076)return e.CLUSTER_BREAK.LV}else if(r<46104){if(46077<=r&&r<=46103)return e.CLUSTER_BREAK.LVT}else if(r===46104)return e.CLUSTER_BREAK.LV}else if(r<46160){if(r<46132){if(46105<=r&&r<=46131)return e.CLUSTER_BREAK.LVT}else if(r<46133){if(r===46132)return e.CLUSTER_BREAK.LV}else if(46133<=r&&r<=46159)return e.CLUSTER_BREAK.LVT}else if(r<46161){if(r===46160)return e.CLUSTER_BREAK.LV}else if(r<46188){if(46161<=r&&r<=46187)return e.CLUSTER_BREAK.LVT}else if(r===46188)return e.CLUSTER_BREAK.LV}else if(r<46356){if(r<46272){if(r<46217){if(r<46216){if(46189<=r&&r<=46215)return e.CLUSTER_BREAK.LVT}else if(r===46216)return e.CLUSTER_BREAK.LV}else if(r<46244){if(46217<=r&&r<=46243)return e.CLUSTER_BREAK.LVT}else if(r<46245){if(r===46244)return e.CLUSTER_BREAK.LV}else if(46245<=r&&r<=46271)return e.CLUSTER_BREAK.LVT}else if(r<46301){if(r<46273){if(r===46272)return e.CLUSTER_BREAK.LV}else if(r<46300){if(46273<=r&&r<=46299)return e.CLUSTER_BREAK.LVT}else if(r===46300)return e.CLUSTER_BREAK.LV}else if(r<46328){if(46301<=r&&r<=46327)return e.CLUSTER_BREAK.LVT}else if(r<46329){if(r===46328)return e.CLUSTER_BREAK.LV}else if(46329<=r&&r<=46355)return e.CLUSTER_BREAK.LVT}else if(r<46413){if(r<46384){if(r<46357){if(r===46356)return e.CLUSTER_BREAK.LV}else if(46357<=r&&r<=46383)return e.CLUSTER_BREAK.LVT}else if(r<46385){if(r===46384)return e.CLUSTER_BREAK.LV}else if(r<46412){if(46385<=r&&r<=46411)return e.CLUSTER_BREAK.LVT}else if(r===46412)return e.CLUSTER_BREAK.LV}else if(r<46468){if(r<46440){if(46413<=r&&r<=46439)return e.CLUSTER_BREAK.LVT}else if(r<46441){if(r===46440)return e.CLUSTER_BREAK.LV}else if(46441<=r&&r<=46467)return e.CLUSTER_BREAK.LVT}else if(r<46469){if(r===46468)return e.CLUSTER_BREAK.LV}else if(r<46496){if(46469<=r&&r<=46495)return e.CLUSTER_BREAK.LVT}else if(r===46496)return e.CLUSTER_BREAK.LV}else if(r<47701){if(r<47112){if(r<46804){if(r<46637){if(r<46580){if(r<46525){if(r<46524){if(46497<=r&&r<=46523)return e.CLUSTER_BREAK.LVT}else if(r===46524)return e.CLUSTER_BREAK.LV}else if(r<46552){if(46525<=r&&r<=46551)return e.CLUSTER_BREAK.LVT}else if(r<46553){if(r===46552)return e.CLUSTER_BREAK.LV}else if(46553<=r&&r<=46579)return e.CLUSTER_BREAK.LVT}else if(r<46608){if(r<46581){if(r===46580)return e.CLUSTER_BREAK.LV}else if(46581<=r&&r<=46607)return e.CLUSTER_BREAK.LVT}else if(r<46609){if(r===46608)return e.CLUSTER_BREAK.LV}else if(r<46636){if(46609<=r&&r<=46635)return e.CLUSTER_BREAK.LVT}else if(r===46636)return e.CLUSTER_BREAK.LV}else if(r<46720){if(r<46665){if(r<46664){if(46637<=r&&r<=46663)return e.CLUSTER_BREAK.LVT}else if(r===46664)return e.CLUSTER_BREAK.LV}else if(r<46692){if(46665<=r&&r<=46691)return e.CLUSTER_BREAK.LVT}else if(r<46693){if(r===46692)return e.CLUSTER_BREAK.LV}else if(46693<=r&&r<=46719)return e.CLUSTER_BREAK.LVT}else if(r<46749){if(r<46721){if(r===46720)return e.CLUSTER_BREAK.LV}else if(r<46748){if(46721<=r&&r<=46747)return e.CLUSTER_BREAK.LVT}else if(r===46748)return e.CLUSTER_BREAK.LV}else if(r<46776){if(46749<=r&&r<=46775)return e.CLUSTER_BREAK.LVT}else if(r<46777){if(r===46776)return e.CLUSTER_BREAK.LV}else if(46777<=r&&r<=46803)return e.CLUSTER_BREAK.LVT}else if(r<46945){if(r<46861){if(r<46832){if(r<46805){if(r===46804)return e.CLUSTER_BREAK.LV}else if(46805<=r&&r<=46831)return e.CLUSTER_BREAK.LVT}else if(r<46833){if(r===46832)return e.CLUSTER_BREAK.LV}else if(r<46860){if(46833<=r&&r<=46859)return e.CLUSTER_BREAK.LVT}else if(r===46860)return e.CLUSTER_BREAK.LV}else if(r<46916){if(r<46888){if(46861<=r&&r<=46887)return e.CLUSTER_BREAK.LVT}else if(r<46889){if(r===46888)return e.CLUSTER_BREAK.LV}else if(46889<=r&&r<=46915)return e.CLUSTER_BREAK.LVT}else if(r<46917){if(r===46916)return e.CLUSTER_BREAK.LV}else if(r<46944){if(46917<=r&&r<=46943)return e.CLUSTER_BREAK.LVT}else if(r===46944)return e.CLUSTER_BREAK.LV}else if(r<47028){if(r<46973){if(r<46972){if(46945<=r&&r<=46971)return e.CLUSTER_BREAK.LVT}else if(r===46972)return e.CLUSTER_BREAK.LV}else if(r<47e3){if(46973<=r&&r<=46999)return e.CLUSTER_BREAK.LVT}else if(r<47001){if(r===47e3)return e.CLUSTER_BREAK.LV}else if(47001<=r&&r<=47027)return e.CLUSTER_BREAK.LVT}else if(r<47057){if(r<47029){if(r===47028)return e.CLUSTER_BREAK.LV}else if(r<47056){if(47029<=r&&r<=47055)return e.CLUSTER_BREAK.LVT}else if(r===47056)return e.CLUSTER_BREAK.LV}else if(r<47084){if(47057<=r&&r<=47083)return e.CLUSTER_BREAK.LVT}else if(r<47085){if(r===47084)return e.CLUSTER_BREAK.LV}else if(47085<=r&&r<=47111)return e.CLUSTER_BREAK.LVT}else if(r<47393){if(r<47252){if(r<47169){if(r<47140){if(r<47113){if(r===47112)return e.CLUSTER_BREAK.LV}else if(47113<=r&&r<=47139)return e.CLUSTER_BREAK.LVT}else if(r<47141){if(r===47140)return e.CLUSTER_BREAK.LV}else if(r<47168){if(47141<=r&&r<=47167)return e.CLUSTER_BREAK.LVT}else if(r===47168)return e.CLUSTER_BREAK.LV}else if(r<47197){if(r<47196){if(47169<=r&&r<=47195)return e.CLUSTER_BREAK.LVT}else if(r===47196)return e.CLUSTER_BREAK.LV}else if(r<47224){if(47197<=r&&r<=47223)return e.CLUSTER_BREAK.LVT}else if(r<47225){if(r===47224)return e.CLUSTER_BREAK.LV}else if(47225<=r&&r<=47251)return e.CLUSTER_BREAK.LVT}else if(r<47309){if(r<47280){if(r<47253){if(r===47252)return e.CLUSTER_BREAK.LV}else if(47253<=r&&r<=47279)return e.CLUSTER_BREAK.LVT}else if(r<47281){if(r===47280)return e.CLUSTER_BREAK.LV}else if(r<47308){if(47281<=r&&r<=47307)return e.CLUSTER_BREAK.LVT}else if(r===47308)return e.CLUSTER_BREAK.LV}else if(r<47364){if(r<47336){if(47309<=r&&r<=47335)return e.CLUSTER_BREAK.LVT}else if(r<47337){if(r===47336)return e.CLUSTER_BREAK.LV}else if(47337<=r&&r<=47363)return e.CLUSTER_BREAK.LVT}else if(r<47365){if(r===47364)return e.CLUSTER_BREAK.LV}else if(r<47392){if(47365<=r&&r<=47391)return e.CLUSTER_BREAK.LVT}else if(r===47392)return e.CLUSTER_BREAK.LV}else if(r<47560){if(r<47476){if(r<47421){if(r<47420){if(47393<=r&&r<=47419)return e.CLUSTER_BREAK.LVT}else if(r===47420)return e.CLUSTER_BREAK.LV}else if(r<47448){if(47421<=r&&r<=47447)return e.CLUSTER_BREAK.LVT}else if(r<47449){if(r===47448)return e.CLUSTER_BREAK.LV}else if(47449<=r&&r<=47475)return e.CLUSTER_BREAK.LVT}else if(r<47505){if(r<47477){if(r===47476)return e.CLUSTER_BREAK.LV}else if(r<47504){if(47477<=r&&r<=47503)return e.CLUSTER_BREAK.LVT}else if(r===47504)return e.CLUSTER_BREAK.LV}else if(r<47532){if(47505<=r&&r<=47531)return e.CLUSTER_BREAK.LVT}else if(r<47533){if(r===47532)return e.CLUSTER_BREAK.LV}else if(47533<=r&&r<=47559)return e.CLUSTER_BREAK.LVT}else if(r<47617){if(r<47588){if(r<47561){if(r===47560)return e.CLUSTER_BREAK.LV}else if(47561<=r&&r<=47587)return e.CLUSTER_BREAK.LVT}else if(r<47589){if(r===47588)return e.CLUSTER_BREAK.LV}else if(r<47616){if(47589<=r&&r<=47615)return e.CLUSTER_BREAK.LVT}else if(r===47616)return e.CLUSTER_BREAK.LV}else if(r<47672){if(r<47644){if(47617<=r&&r<=47643)return e.CLUSTER_BREAK.LVT}else if(r<47645){if(r===47644)return e.CLUSTER_BREAK.LV}else if(47645<=r&&r<=47671)return e.CLUSTER_BREAK.LVT}else if(r<47673){if(r===47672)return e.CLUSTER_BREAK.LV}else if(r<47700){if(47673<=r&&r<=47699)return e.CLUSTER_BREAK.LVT}else if(r===47700)return e.CLUSTER_BREAK.LV}else if(r<48316){if(r<48008){if(r<47841){if(r<47784){if(r<47729){if(r<47728){if(47701<=r&&r<=47727)return e.CLUSTER_BREAK.LVT}else if(r===47728)return e.CLUSTER_BREAK.LV}else if(r<47756){if(47729<=r&&r<=47755)return e.CLUSTER_BREAK.LVT}else if(r<47757){if(r===47756)return e.CLUSTER_BREAK.LV}else if(47757<=r&&r<=47783)return e.CLUSTER_BREAK.LVT}else if(r<47812){if(r<47785){if(r===47784)return e.CLUSTER_BREAK.LV}else if(47785<=r&&r<=47811)return e.CLUSTER_BREAK.LVT}else if(r<47813){if(r===47812)return e.CLUSTER_BREAK.LV}else if(r<47840){if(47813<=r&&r<=47839)return e.CLUSTER_BREAK.LVT}else if(r===47840)return e.CLUSTER_BREAK.LV}else if(r<47924){if(r<47869){if(r<47868){if(47841<=r&&r<=47867)return e.CLUSTER_BREAK.LVT}else if(r===47868)return e.CLUSTER_BREAK.LV}else if(r<47896){if(47869<=r&&r<=47895)return e.CLUSTER_BREAK.LVT}else if(r<47897){if(r===47896)return e.CLUSTER_BREAK.LV}else if(47897<=r&&r<=47923)return e.CLUSTER_BREAK.LVT}else if(r<47953){if(r<47925){if(r===47924)return e.CLUSTER_BREAK.LV}else if(r<47952){if(47925<=r&&r<=47951)return e.CLUSTER_BREAK.LVT}else if(r===47952)return e.CLUSTER_BREAK.LV}else if(r<47980){if(47953<=r&&r<=47979)return e.CLUSTER_BREAK.LVT}else if(r<47981){if(r===47980)return e.CLUSTER_BREAK.LV}else if(47981<=r&&r<=48007)return e.CLUSTER_BREAK.LVT}else if(r<48149){if(r<48065){if(r<48036){if(r<48009){if(r===48008)return e.CLUSTER_BREAK.LV}else if(48009<=r&&r<=48035)return e.CLUSTER_BREAK.LVT}else if(r<48037){if(r===48036)return e.CLUSTER_BREAK.LV}else if(r<48064){if(48037<=r&&r<=48063)return e.CLUSTER_BREAK.LVT}else if(r===48064)return e.CLUSTER_BREAK.LV}else if(r<48120){if(r<48092){if(48065<=r&&r<=48091)return e.CLUSTER_BREAK.LVT}else if(r<48093){if(r===48092)return e.CLUSTER_BREAK.LV}else if(48093<=r&&r<=48119)return e.CLUSTER_BREAK.LVT}else if(r<48121){if(r===48120)return e.CLUSTER_BREAK.LV}else if(r<48148){if(48121<=r&&r<=48147)return e.CLUSTER_BREAK.LVT}else if(r===48148)return e.CLUSTER_BREAK.LV}else if(r<48232){if(r<48177){if(r<48176){if(48149<=r&&r<=48175)return e.CLUSTER_BREAK.LVT}else if(r===48176)return e.CLUSTER_BREAK.LV}else if(r<48204){if(48177<=r&&r<=48203)return e.CLUSTER_BREAK.LVT}else if(r<48205){if(r===48204)return e.CLUSTER_BREAK.LV}else if(48205<=r&&r<=48231)return e.CLUSTER_BREAK.LVT}else if(r<48261){if(r<48233){if(r===48232)return e.CLUSTER_BREAK.LV}else if(r<48260){if(48233<=r&&r<=48259)return e.CLUSTER_BREAK.LVT}else if(r===48260)return e.CLUSTER_BREAK.LV}else if(r<48288){if(48261<=r&&r<=48287)return e.CLUSTER_BREAK.LVT}else if(r<48289){if(r===48288)return e.CLUSTER_BREAK.LV}else if(48289<=r&&r<=48315)return e.CLUSTER_BREAK.LVT}else if(r<48597){if(r<48456){if(r<48373){if(r<48344){if(r<48317){if(r===48316)return e.CLUSTER_BREAK.LV}else if(48317<=r&&r<=48343)return e.CLUSTER_BREAK.LVT}else if(r<48345){if(r===48344)return e.CLUSTER_BREAK.LV}else if(r<48372){if(48345<=r&&r<=48371)return e.CLUSTER_BREAK.LVT}else if(r===48372)return e.CLUSTER_BREAK.LV}else if(r<48401){if(r<48400){if(48373<=r&&r<=48399)return e.CLUSTER_BREAK.LVT}else if(r===48400)return e.CLUSTER_BREAK.LV}else if(r<48428){if(48401<=r&&r<=48427)return e.CLUSTER_BREAK.LVT}else if(r<48429){if(r===48428)return e.CLUSTER_BREAK.LV}else if(48429<=r&&r<=48455)return e.CLUSTER_BREAK.LVT}else if(r<48513){if(r<48484){if(r<48457){if(r===48456)return e.CLUSTER_BREAK.LV}else if(48457<=r&&r<=48483)return e.CLUSTER_BREAK.LVT}else if(r<48485){if(r===48484)return e.CLUSTER_BREAK.LV}else if(r<48512){if(48485<=r&&r<=48511)return e.CLUSTER_BREAK.LVT}else if(r===48512)return e.CLUSTER_BREAK.LV}else if(r<48568){if(r<48540){if(48513<=r&&r<=48539)return e.CLUSTER_BREAK.LVT}else if(r<48541){if(r===48540)return e.CLUSTER_BREAK.LV}else if(48541<=r&&r<=48567)return e.CLUSTER_BREAK.LVT}else if(r<48569){if(r===48568)return e.CLUSTER_BREAK.LV}else if(r<48596){if(48569<=r&&r<=48595)return e.CLUSTER_BREAK.LVT}else if(r===48596)return e.CLUSTER_BREAK.LV}else if(r<48764){if(r<48680){if(r<48625){if(r<48624){if(48597<=r&&r<=48623)return e.CLUSTER_BREAK.LVT}else if(r===48624)return e.CLUSTER_BREAK.LV}else if(r<48652){if(48625<=r&&r<=48651)return e.CLUSTER_BREAK.LVT}else if(r<48653){if(r===48652)return e.CLUSTER_BREAK.LV}else if(48653<=r&&r<=48679)return e.CLUSTER_BREAK.LVT}else if(r<48709){if(r<48681){if(r===48680)return e.CLUSTER_BREAK.LV}else if(r<48708){if(48681<=r&&r<=48707)return e.CLUSTER_BREAK.LVT}else if(r===48708)return e.CLUSTER_BREAK.LV}else if(r<48736){if(48709<=r&&r<=48735)return e.CLUSTER_BREAK.LVT}else if(r<48737){if(r===48736)return e.CLUSTER_BREAK.LV}else if(48737<=r&&r<=48763)return e.CLUSTER_BREAK.LVT}else if(r<48821){if(r<48792){if(r<48765){if(r===48764)return e.CLUSTER_BREAK.LV}else if(48765<=r&&r<=48791)return e.CLUSTER_BREAK.LVT}else if(r<48793){if(r===48792)return e.CLUSTER_BREAK.LV}else if(r<48820){if(48793<=r&&r<=48819)return e.CLUSTER_BREAK.LVT}else if(r===48820)return e.CLUSTER_BREAK.LV}else if(r<48876){if(r<48848){if(48821<=r&&r<=48847)return e.CLUSTER_BREAK.LVT}else if(r<48849){if(r===48848)return e.CLUSTER_BREAK.LV}else if(48849<=r&&r<=48875)return e.CLUSTER_BREAK.LVT}else if(r<48877){if(r===48876)return e.CLUSTER_BREAK.LV}else if(r<48904){if(48877<=r&&r<=48903)return e.CLUSTER_BREAK.LVT}else if(r===48904)return e.CLUSTER_BREAK.LV}else if(r<53720){if(r<51312){if(r<50108){if(r<49493){if(r<49212){if(r<49045){if(r<48988){if(r<48933){if(r<48932){if(48905<=r&&r<=48931)return e.CLUSTER_BREAK.LVT}else if(r===48932)return e.CLUSTER_BREAK.LV}else if(r<48960){if(48933<=r&&r<=48959)return e.CLUSTER_BREAK.LVT}else if(r<48961){if(r===48960)return e.CLUSTER_BREAK.LV}else if(48961<=r&&r<=48987)return e.CLUSTER_BREAK.LVT}else if(r<49016){if(r<48989){if(r===48988)return e.CLUSTER_BREAK.LV}else if(48989<=r&&r<=49015)return e.CLUSTER_BREAK.LVT}else if(r<49017){if(r===49016)return e.CLUSTER_BREAK.LV}else if(r<49044){if(49017<=r&&r<=49043)return e.CLUSTER_BREAK.LVT}else if(r===49044)return e.CLUSTER_BREAK.LV}else if(r<49128){if(r<49073){if(r<49072){if(49045<=r&&r<=49071)return e.CLUSTER_BREAK.LVT}else if(r===49072)return e.CLUSTER_BREAK.LV}else if(r<49100){if(49073<=r&&r<=49099)return e.CLUSTER_BREAK.LVT}else if(r<49101){if(r===49100)return e.CLUSTER_BREAK.LV}else if(49101<=r&&r<=49127)return e.CLUSTER_BREAK.LVT}else if(r<49157){if(r<49129){if(r===49128)return e.CLUSTER_BREAK.LV}else if(r<49156){if(49129<=r&&r<=49155)return e.CLUSTER_BREAK.LVT}else if(r===49156)return e.CLUSTER_BREAK.LV}else if(r<49184){if(49157<=r&&r<=49183)return e.CLUSTER_BREAK.LVT}else if(r<49185){if(r===49184)return e.CLUSTER_BREAK.LV}else if(49185<=r&&r<=49211)return e.CLUSTER_BREAK.LVT}else if(r<49352){if(r<49269){if(r<49240){if(r<49213){if(r===49212)return e.CLUSTER_BREAK.LV}else if(49213<=r&&r<=49239)return e.CLUSTER_BREAK.LVT}else if(r<49241){if(r===49240)return e.CLUSTER_BREAK.LV}else if(r<49268){if(49241<=r&&r<=49267)return e.CLUSTER_BREAK.LVT}else if(r===49268)return e.CLUSTER_BREAK.LV}else if(r<49297){if(r<49296){if(49269<=r&&r<=49295)return e.CLUSTER_BREAK.LVT}else if(r===49296)return e.CLUSTER_BREAK.LV}else if(r<49324){if(49297<=r&&r<=49323)return e.CLUSTER_BREAK.LVT}else if(r<49325){if(r===49324)return e.CLUSTER_BREAK.LV}else if(49325<=r&&r<=49351)return e.CLUSTER_BREAK.LVT}else if(r<49409){if(r<49380){if(r<49353){if(r===49352)return e.CLUSTER_BREAK.LV}else if(49353<=r&&r<=49379)return e.CLUSTER_BREAK.LVT}else if(r<49381){if(r===49380)return e.CLUSTER_BREAK.LV}else if(r<49408){if(49381<=r&&r<=49407)return e.CLUSTER_BREAK.LVT}else if(r===49408)return e.CLUSTER_BREAK.LV}else if(r<49464){if(r<49436){if(49409<=r&&r<=49435)return e.CLUSTER_BREAK.LVT}else if(r<49437){if(r===49436)return e.CLUSTER_BREAK.LV}else if(49437<=r&&r<=49463)return e.CLUSTER_BREAK.LVT}else if(r<49465){if(r===49464)return e.CLUSTER_BREAK.LV}else if(r<49492){if(49465<=r&&r<=49491)return e.CLUSTER_BREAK.LVT}else if(r===49492)return e.CLUSTER_BREAK.LV}else if(r<49800){if(r<49633){if(r<49576){if(r<49521){if(r<49520){if(49493<=r&&r<=49519)return e.CLUSTER_BREAK.LVT}else if(r===49520)return e.CLUSTER_BREAK.LV}else if(r<49548){if(49521<=r&&r<=49547)return e.CLUSTER_BREAK.LVT}else if(r<49549){if(r===49548)return e.CLUSTER_BREAK.LV}else if(49549<=r&&r<=49575)return e.CLUSTER_BREAK.LVT}else if(r<49604){if(r<49577){if(r===49576)return e.CLUSTER_BREAK.LV}else if(49577<=r&&r<=49603)return e.CLUSTER_BREAK.LVT}else if(r<49605){if(r===49604)return e.CLUSTER_BREAK.LV}else if(r<49632){if(49605<=r&&r<=49631)return e.CLUSTER_BREAK.LVT}else if(r===49632)return e.CLUSTER_BREAK.LV}else if(r<49716){if(r<49661){if(r<49660){if(49633<=r&&r<=49659)return e.CLUSTER_BREAK.LVT}else if(r===49660)return e.CLUSTER_BREAK.LV}else if(r<49688){if(49661<=r&&r<=49687)return e.CLUSTER_BREAK.LVT}else if(r<49689){if(r===49688)return e.CLUSTER_BREAK.LV}else if(49689<=r&&r<=49715)return e.CLUSTER_BREAK.LVT}else if(r<49745){if(r<49717){if(r===49716)return e.CLUSTER_BREAK.LV}else if(r<49744){if(49717<=r&&r<=49743)return e.CLUSTER_BREAK.LVT}else if(r===49744)return e.CLUSTER_BREAK.LV}else if(r<49772){if(49745<=r&&r<=49771)return e.CLUSTER_BREAK.LVT}else if(r<49773){if(r===49772)return e.CLUSTER_BREAK.LV}else if(49773<=r&&r<=49799)return e.CLUSTER_BREAK.LVT}else if(r<49941){if(r<49857){if(r<49828){if(r<49801){if(r===49800)return e.CLUSTER_BREAK.LV}else if(49801<=r&&r<=49827)return e.CLUSTER_BREAK.LVT}else if(r<49829){if(r===49828)return e.CLUSTER_BREAK.LV}else if(r<49856){if(49829<=r&&r<=49855)return e.CLUSTER_BREAK.LVT}else if(r===49856)return e.CLUSTER_BREAK.LV}else if(r<49912){if(r<49884){if(49857<=r&&r<=49883)return e.CLUSTER_BREAK.LVT}else if(r<49885){if(r===49884)return e.CLUSTER_BREAK.LV}else if(49885<=r&&r<=49911)return e.CLUSTER_BREAK.LVT}else if(r<49913){if(r===49912)return e.CLUSTER_BREAK.LV}else if(r<49940){if(49913<=r&&r<=49939)return e.CLUSTER_BREAK.LVT}else if(r===49940)return e.CLUSTER_BREAK.LV}else if(r<50024){if(r<49969){if(r<49968){if(49941<=r&&r<=49967)return e.CLUSTER_BREAK.LVT}else if(r===49968)return e.CLUSTER_BREAK.LV}else if(r<49996){if(49969<=r&&r<=49995)return e.CLUSTER_BREAK.LVT}else if(r<49997){if(r===49996)return e.CLUSTER_BREAK.LV}else if(49997<=r&&r<=50023)return e.CLUSTER_BREAK.LVT}else if(r<50053){if(r<50025){if(r===50024)return e.CLUSTER_BREAK.LV}else if(r<50052){if(50025<=r&&r<=50051)return e.CLUSTER_BREAK.LVT}else if(r===50052)return e.CLUSTER_BREAK.LV}else if(r<50080){if(50053<=r&&r<=50079)return e.CLUSTER_BREAK.LVT}else if(r<50081){if(r===50080)return e.CLUSTER_BREAK.LV}else if(50081<=r&&r<=50107)return e.CLUSTER_BREAK.LVT}else if(r<50697){if(r<50389){if(r<50248){if(r<50165){if(r<50136){if(r<50109){if(r===50108)return e.CLUSTER_BREAK.LV}else if(50109<=r&&r<=50135)return e.CLUSTER_BREAK.LVT}else if(r<50137){if(r===50136)return e.CLUSTER_BREAK.LV}else if(r<50164){if(50137<=r&&r<=50163)return e.CLUSTER_BREAK.LVT}else if(r===50164)return e.CLUSTER_BREAK.LV}else if(r<50193){if(r<50192){if(50165<=r&&r<=50191)return e.CLUSTER_BREAK.LVT}else if(r===50192)return e.CLUSTER_BREAK.LV}else if(r<50220){if(50193<=r&&r<=50219)return e.CLUSTER_BREAK.LVT}else if(r<50221){if(r===50220)return e.CLUSTER_BREAK.LV}else if(50221<=r&&r<=50247)return e.CLUSTER_BREAK.LVT}else if(r<50305){if(r<50276){if(r<50249){if(r===50248)return e.CLUSTER_BREAK.LV}else if(50249<=r&&r<=50275)return e.CLUSTER_BREAK.LVT}else if(r<50277){if(r===50276)return e.CLUSTER_BREAK.LV}else if(r<50304){if(50277<=r&&r<=50303)return e.CLUSTER_BREAK.LVT}else if(r===50304)return e.CLUSTER_BREAK.LV}else if(r<50360){if(r<50332){if(50305<=r&&r<=50331)return e.CLUSTER_BREAK.LVT}else if(r<50333){if(r===50332)return e.CLUSTER_BREAK.LV}else if(50333<=r&&r<=50359)return e.CLUSTER_BREAK.LVT}else if(r<50361){if(r===50360)return e.CLUSTER_BREAK.LV}else if(r<50388){if(50361<=r&&r<=50387)return e.CLUSTER_BREAK.LVT}else if(r===50388)return e.CLUSTER_BREAK.LV}else if(r<50556){if(r<50472){if(r<50417){if(r<50416){if(50389<=r&&r<=50415)return e.CLUSTER_BREAK.LVT}else if(r===50416)return e.CLUSTER_BREAK.LV}else if(r<50444){if(50417<=r&&r<=50443)return e.CLUSTER_BREAK.LVT}else if(r<50445){if(r===50444)return e.CLUSTER_BREAK.LV}else if(50445<=r&&r<=50471)return e.CLUSTER_BREAK.LVT}else if(r<50501){if(r<50473){if(r===50472)return e.CLUSTER_BREAK.LV}else if(r<50500){if(50473<=r&&r<=50499)return e.CLUSTER_BREAK.LVT}else if(r===50500)return e.CLUSTER_BREAK.LV}else if(r<50528){if(50501<=r&&r<=50527)return e.CLUSTER_BREAK.LVT}else if(r<50529){if(r===50528)return e.CLUSTER_BREAK.LV}else if(50529<=r&&r<=50555)return e.CLUSTER_BREAK.LVT}else if(r<50613){if(r<50584){if(r<50557){if(r===50556)return e.CLUSTER_BREAK.LV}else if(50557<=r&&r<=50583)return e.CLUSTER_BREAK.LVT}else if(r<50585){if(r===50584)return e.CLUSTER_BREAK.LV}else if(r<50612){if(50585<=r&&r<=50611)return e.CLUSTER_BREAK.LVT}else if(r===50612)return e.CLUSTER_BREAK.LV}else if(r<50668){if(r<50640){if(50613<=r&&r<=50639)return e.CLUSTER_BREAK.LVT}else if(r<50641){if(r===50640)return e.CLUSTER_BREAK.LV}else if(50641<=r&&r<=50667)return e.CLUSTER_BREAK.LVT}else if(r<50669){if(r===50668)return e.CLUSTER_BREAK.LV}else if(r<50696){if(50669<=r&&r<=50695)return e.CLUSTER_BREAK.LVT}else if(r===50696)return e.CLUSTER_BREAK.LV}else if(r<51004){if(r<50837){if(r<50780){if(r<50725){if(r<50724){if(50697<=r&&r<=50723)return e.CLUSTER_BREAK.LVT}else if(r===50724)return e.CLUSTER_BREAK.LV}else if(r<50752){if(50725<=r&&r<=50751)return e.CLUSTER_BREAK.LVT}else if(r<50753){if(r===50752)return e.CLUSTER_BREAK.LV}else if(50753<=r&&r<=50779)return e.CLUSTER_BREAK.LVT}else if(r<50808){if(r<50781){if(r===50780)return e.CLUSTER_BREAK.LV}else if(50781<=r&&r<=50807)return e.CLUSTER_BREAK.LVT}else if(r<50809){if(r===50808)return e.CLUSTER_BREAK.LV}else if(r<50836){if(50809<=r&&r<=50835)return e.CLUSTER_BREAK.LVT}else if(r===50836)return e.CLUSTER_BREAK.LV}else if(r<50920){if(r<50865){if(r<50864){if(50837<=r&&r<=50863)return e.CLUSTER_BREAK.LVT}else if(r===50864)return e.CLUSTER_BREAK.LV}else if(r<50892){if(50865<=r&&r<=50891)return e.CLUSTER_BREAK.LVT}else if(r<50893){if(r===50892)return e.CLUSTER_BREAK.LV}else if(50893<=r&&r<=50919)return e.CLUSTER_BREAK.LVT}else if(r<50949){if(r<50921){if(r===50920)return e.CLUSTER_BREAK.LV}else if(r<50948){if(50921<=r&&r<=50947)return e.CLUSTER_BREAK.LVT}else if(r===50948)return e.CLUSTER_BREAK.LV}else if(r<50976){if(50949<=r&&r<=50975)return e.CLUSTER_BREAK.LVT}else if(r<50977){if(r===50976)return e.CLUSTER_BREAK.LV}else if(50977<=r&&r<=51003)return e.CLUSTER_BREAK.LVT}else if(r<51145){if(r<51061){if(r<51032){if(r<51005){if(r===51004)return e.CLUSTER_BREAK.LV}else if(51005<=r&&r<=51031)return e.CLUSTER_BREAK.LVT}else if(r<51033){if(r===51032)return e.CLUSTER_BREAK.LV}else if(r<51060){if(51033<=r&&r<=51059)return e.CLUSTER_BREAK.LVT}else if(r===51060)return e.CLUSTER_BREAK.LV}else if(r<51116){if(r<51088){if(51061<=r&&r<=51087)return e.CLUSTER_BREAK.LVT}else if(r<51089){if(r===51088)return e.CLUSTER_BREAK.LV}else if(51089<=r&&r<=51115)return e.CLUSTER_BREAK.LVT}else if(r<51117){if(r===51116)return e.CLUSTER_BREAK.LV}else if(r<51144){if(51117<=r&&r<=51143)return e.CLUSTER_BREAK.LVT}else if(r===51144)return e.CLUSTER_BREAK.LV}else if(r<51228){if(r<51173){if(r<51172){if(51145<=r&&r<=51171)return e.CLUSTER_BREAK.LVT}else if(r===51172)return e.CLUSTER_BREAK.LV}else if(r<51200){if(51173<=r&&r<=51199)return e.CLUSTER_BREAK.LVT}else if(r<51201){if(r===51200)return e.CLUSTER_BREAK.LV}else if(51201<=r&&r<=51227)return e.CLUSTER_BREAK.LVT}else if(r<51257){if(r<51229){if(r===51228)return e.CLUSTER_BREAK.LV}else if(r<51256){if(51229<=r&&r<=51255)return e.CLUSTER_BREAK.LVT}else if(r===51256)return e.CLUSTER_BREAK.LV}else if(r<51284){if(51257<=r&&r<=51283)return e.CLUSTER_BREAK.LVT}else if(r<51285){if(r===51284)return e.CLUSTER_BREAK.LV}else if(51285<=r&&r<=51311)return e.CLUSTER_BREAK.LVT}else if(r<52516){if(r<51901){if(r<51593){if(r<51452){if(r<51369){if(r<51340){if(r<51313){if(r===51312)return e.CLUSTER_BREAK.LV}else if(51313<=r&&r<=51339)return e.CLUSTER_BREAK.LVT}else if(r<51341){if(r===51340)return e.CLUSTER_BREAK.LV}else if(r<51368){if(51341<=r&&r<=51367)return e.CLUSTER_BREAK.LVT}else if(r===51368)return e.CLUSTER_BREAK.LV}else if(r<51397){if(r<51396){if(51369<=r&&r<=51395)return e.CLUSTER_BREAK.LVT}else if(r===51396)return e.CLUSTER_BREAK.LV}else if(r<51424){if(51397<=r&&r<=51423)return e.CLUSTER_BREAK.LVT}else if(r<51425){if(r===51424)return e.CLUSTER_BREAK.LV}else if(51425<=r&&r<=51451)return e.CLUSTER_BREAK.LVT}else if(r<51509){if(r<51480){if(r<51453){if(r===51452)return e.CLUSTER_BREAK.LV}else if(51453<=r&&r<=51479)return e.CLUSTER_BREAK.LVT}else if(r<51481){if(r===51480)return e.CLUSTER_BREAK.LV}else if(r<51508){if(51481<=r&&r<=51507)return e.CLUSTER_BREAK.LVT}else if(r===51508)return e.CLUSTER_BREAK.LV}else if(r<51564){if(r<51536){if(51509<=r&&r<=51535)return e.CLUSTER_BREAK.LVT}else if(r<51537){if(r===51536)return e.CLUSTER_BREAK.LV}else if(51537<=r&&r<=51563)return e.CLUSTER_BREAK.LVT}else if(r<51565){if(r===51564)return e.CLUSTER_BREAK.LV}else if(r<51592){if(51565<=r&&r<=51591)return e.CLUSTER_BREAK.LVT}else if(r===51592)return e.CLUSTER_BREAK.LV}else if(r<51760){if(r<51676){if(r<51621){if(r<51620){if(51593<=r&&r<=51619)return e.CLUSTER_BREAK.LVT}else if(r===51620)return e.CLUSTER_BREAK.LV}else if(r<51648){if(51621<=r&&r<=51647)return e.CLUSTER_BREAK.LVT}else if(r<51649){if(r===51648)return e.CLUSTER_BREAK.LV}else if(51649<=r&&r<=51675)return e.CLUSTER_BREAK.LVT}else if(r<51705){if(r<51677){if(r===51676)return e.CLUSTER_BREAK.LV}else if(r<51704){if(51677<=r&&r<=51703)return e.CLUSTER_BREAK.LVT}else if(r===51704)return e.CLUSTER_BREAK.LV}else if(r<51732){if(51705<=r&&r<=51731)return e.CLUSTER_BREAK.LVT}else if(r<51733){if(r===51732)return e.CLUSTER_BREAK.LV}else if(51733<=r&&r<=51759)return e.CLUSTER_BREAK.LVT}else if(r<51817){if(r<51788){if(r<51761){if(r===51760)return e.CLUSTER_BREAK.LV}else if(51761<=r&&r<=51787)return e.CLUSTER_BREAK.LVT}else if(r<51789){if(r===51788)return e.CLUSTER_BREAK.LV}else if(r<51816){if(51789<=r&&r<=51815)return e.CLUSTER_BREAK.LVT}else if(r===51816)return e.CLUSTER_BREAK.LV}else if(r<51872){if(r<51844){if(51817<=r&&r<=51843)return e.CLUSTER_BREAK.LVT}else if(r<51845){if(r===51844)return e.CLUSTER_BREAK.LV}else if(51845<=r&&r<=51871)return e.CLUSTER_BREAK.LVT}else if(r<51873){if(r===51872)return e.CLUSTER_BREAK.LV}else if(r<51900){if(51873<=r&&r<=51899)return e.CLUSTER_BREAK.LVT}else if(r===51900)return e.CLUSTER_BREAK.LV}else if(r<52208){if(r<52041){if(r<51984){if(r<51929){if(r<51928){if(51901<=r&&r<=51927)return e.CLUSTER_BREAK.LVT}else if(r===51928)return e.CLUSTER_BREAK.LV}else if(r<51956){if(51929<=r&&r<=51955)return e.CLUSTER_BREAK.LVT}else if(r<51957){if(r===51956)return e.CLUSTER_BREAK.LV}else if(51957<=r&&r<=51983)return e.CLUSTER_BREAK.LVT}else if(r<52012){if(r<51985){if(r===51984)return e.CLUSTER_BREAK.LV}else if(51985<=r&&r<=52011)return e.CLUSTER_BREAK.LVT}else if(r<52013){if(r===52012)return e.CLUSTER_BREAK.LV}else if(r<52040){if(52013<=r&&r<=52039)return e.CLUSTER_BREAK.LVT}else if(r===52040)return e.CLUSTER_BREAK.LV}else if(r<52124){if(r<52069){if(r<52068){if(52041<=r&&r<=52067)return e.CLUSTER_BREAK.LVT}else if(r===52068)return e.CLUSTER_BREAK.LV}else if(r<52096){if(52069<=r&&r<=52095)return e.CLUSTER_BREAK.LVT}else if(r<52097){if(r===52096)return e.CLUSTER_BREAK.LV}else if(52097<=r&&r<=52123)return e.CLUSTER_BREAK.LVT}else if(r<52153){if(r<52125){if(r===52124)return e.CLUSTER_BREAK.LV}else if(r<52152){if(52125<=r&&r<=52151)return e.CLUSTER_BREAK.LVT}else if(r===52152)return e.CLUSTER_BREAK.LV}else if(r<52180){if(52153<=r&&r<=52179)return e.CLUSTER_BREAK.LVT}else if(r<52181){if(r===52180)return e.CLUSTER_BREAK.LV}else if(52181<=r&&r<=52207)return e.CLUSTER_BREAK.LVT}else if(r<52349){if(r<52265){if(r<52236){if(r<52209){if(r===52208)return e.CLUSTER_BREAK.LV}else if(52209<=r&&r<=52235)return e.CLUSTER_BREAK.LVT}else if(r<52237){if(r===52236)return e.CLUSTER_BREAK.LV}else if(r<52264){if(52237<=r&&r<=52263)return e.CLUSTER_BREAK.LVT}else if(r===52264)return e.CLUSTER_BREAK.LV}else if(r<52320){if(r<52292){if(52265<=r&&r<=52291)return e.CLUSTER_BREAK.LVT}else if(r<52293){if(r===52292)return e.CLUSTER_BREAK.LV}else if(52293<=r&&r<=52319)return e.CLUSTER_BREAK.LVT}else if(r<52321){if(r===52320)return e.CLUSTER_BREAK.LV}else if(r<52348){if(52321<=r&&r<=52347)return e.CLUSTER_BREAK.LVT}else if(r===52348)return e.CLUSTER_BREAK.LV}else if(r<52432){if(r<52377){if(r<52376){if(52349<=r&&r<=52375)return e.CLUSTER_BREAK.LVT}else if(r===52376)return e.CLUSTER_BREAK.LV}else if(r<52404){if(52377<=r&&r<=52403)return e.CLUSTER_BREAK.LVT}else if(r<52405){if(r===52404)return e.CLUSTER_BREAK.LV}else if(52405<=r&&r<=52431)return e.CLUSTER_BREAK.LVT}else if(r<52461){if(r<52433){if(r===52432)return e.CLUSTER_BREAK.LV}else if(r<52460){if(52433<=r&&r<=52459)return e.CLUSTER_BREAK.LVT}else if(r===52460)return e.CLUSTER_BREAK.LV}else if(r<52488){if(52461<=r&&r<=52487)return e.CLUSTER_BREAK.LVT}else if(r<52489){if(r===52488)return e.CLUSTER_BREAK.LV}else if(52489<=r&&r<=52515)return e.CLUSTER_BREAK.LVT}else if(r<53105){if(r<52797){if(r<52656){if(r<52573){if(r<52544){if(r<52517){if(r===52516)return e.CLUSTER_BREAK.LV}else if(52517<=r&&r<=52543)return e.CLUSTER_BREAK.LVT}else if(r<52545){if(r===52544)return e.CLUSTER_BREAK.LV}else if(r<52572){if(52545<=r&&r<=52571)return e.CLUSTER_BREAK.LVT}else if(r===52572)return e.CLUSTER_BREAK.LV}else if(r<52601){if(r<52600){if(52573<=r&&r<=52599)return e.CLUSTER_BREAK.LVT}else if(r===52600)return e.CLUSTER_BREAK.LV}else if(r<52628){if(52601<=r&&r<=52627)return e.CLUSTER_BREAK.LVT}else if(r<52629){if(r===52628)return e.CLUSTER_BREAK.LV}else if(52629<=r&&r<=52655)return e.CLUSTER_BREAK.LVT}else if(r<52713){if(r<52684){if(r<52657){if(r===52656)return e.CLUSTER_BREAK.LV}else if(52657<=r&&r<=52683)return e.CLUSTER_BREAK.LVT}else if(r<52685){if(r===52684)return e.CLUSTER_BREAK.LV}else if(r<52712){if(52685<=r&&r<=52711)return e.CLUSTER_BREAK.LVT}else if(r===52712)return e.CLUSTER_BREAK.LV}else if(r<52768){if(r<52740){if(52713<=r&&r<=52739)return e.CLUSTER_BREAK.LVT}else if(r<52741){if(r===52740)return e.CLUSTER_BREAK.LV}else if(52741<=r&&r<=52767)return e.CLUSTER_BREAK.LVT}else if(r<52769){if(r===52768)return e.CLUSTER_BREAK.LV}else if(r<52796){if(52769<=r&&r<=52795)return e.CLUSTER_BREAK.LVT}else if(r===52796)return e.CLUSTER_BREAK.LV}else if(r<52964){if(r<52880){if(r<52825){if(r<52824){if(52797<=r&&r<=52823)return e.CLUSTER_BREAK.LVT}else if(r===52824)return e.CLUSTER_BREAK.LV}else if(r<52852){if(52825<=r&&r<=52851)return e.CLUSTER_BREAK.LVT}else if(r<52853){if(r===52852)return e.CLUSTER_BREAK.LV}else if(52853<=r&&r<=52879)return e.CLUSTER_BREAK.LVT}else if(r<52909){if(r<52881){if(r===52880)return e.CLUSTER_BREAK.LV}else if(r<52908){if(52881<=r&&r<=52907)return e.CLUSTER_BREAK.LVT}else if(r===52908)return e.CLUSTER_BREAK.LV}else if(r<52936){if(52909<=r&&r<=52935)return e.CLUSTER_BREAK.LVT}else if(r<52937){if(r===52936)return e.CLUSTER_BREAK.LV}else if(52937<=r&&r<=52963)return e.CLUSTER_BREAK.LVT}else if(r<53021){if(r<52992){if(r<52965){if(r===52964)return e.CLUSTER_BREAK.LV}else if(52965<=r&&r<=52991)return e.CLUSTER_BREAK.LVT}else if(r<52993){if(r===52992)return e.CLUSTER_BREAK.LV}else if(r<53020){if(52993<=r&&r<=53019)return e.CLUSTER_BREAK.LVT}else if(r===53020)return e.CLUSTER_BREAK.LV}else if(r<53076){if(r<53048){if(53021<=r&&r<=53047)return e.CLUSTER_BREAK.LVT}else if(r<53049){if(r===53048)return e.CLUSTER_BREAK.LV}else if(53049<=r&&r<=53075)return e.CLUSTER_BREAK.LVT}else if(r<53077){if(r===53076)return e.CLUSTER_BREAK.LV}else if(r<53104){if(53077<=r&&r<=53103)return e.CLUSTER_BREAK.LVT}else if(r===53104)return e.CLUSTER_BREAK.LV}else if(r<53412){if(r<53245){if(r<53188){if(r<53133){if(r<53132){if(53105<=r&&r<=53131)return e.CLUSTER_BREAK.LVT}else if(r===53132)return e.CLUSTER_BREAK.LV}else if(r<53160){if(53133<=r&&r<=53159)return e.CLUSTER_BREAK.LVT}else if(r<53161){if(r===53160)return e.CLUSTER_BREAK.LV}else if(53161<=r&&r<=53187)return e.CLUSTER_BREAK.LVT}else if(r<53216){if(r<53189){if(r===53188)return e.CLUSTER_BREAK.LV}else if(53189<=r&&r<=53215)return e.CLUSTER_BREAK.LVT}else if(r<53217){if(r===53216)return e.CLUSTER_BREAK.LV}else if(r<53244){if(53217<=r&&r<=53243)return e.CLUSTER_BREAK.LVT}else if(r===53244)return e.CLUSTER_BREAK.LV}else if(r<53328){if(r<53273){if(r<53272){if(53245<=r&&r<=53271)return e.CLUSTER_BREAK.LVT}else if(r===53272)return e.CLUSTER_BREAK.LV}else if(r<53300){if(53273<=r&&r<=53299)return e.CLUSTER_BREAK.LVT}else if(r<53301){if(r===53300)return e.CLUSTER_BREAK.LV}else if(53301<=r&&r<=53327)return e.CLUSTER_BREAK.LVT}else if(r<53357){if(r<53329){if(r===53328)return e.CLUSTER_BREAK.LV}else if(r<53356){if(53329<=r&&r<=53355)return e.CLUSTER_BREAK.LVT}else if(r===53356)return e.CLUSTER_BREAK.LV}else if(r<53384){if(53357<=r&&r<=53383)return e.CLUSTER_BREAK.LVT}else if(r<53385){if(r===53384)return e.CLUSTER_BREAK.LV}else if(53385<=r&&r<=53411)return e.CLUSTER_BREAK.LVT}else if(r<53553){if(r<53469){if(r<53440){if(r<53413){if(r===53412)return e.CLUSTER_BREAK.LV}else if(53413<=r&&r<=53439)return e.CLUSTER_BREAK.LVT}else if(r<53441){if(r===53440)return e.CLUSTER_BREAK.LV}else if(r<53468){if(53441<=r&&r<=53467)return e.CLUSTER_BREAK.LVT}else if(r===53468)return e.CLUSTER_BREAK.LV}else if(r<53524){if(r<53496){if(53469<=r&&r<=53495)return e.CLUSTER_BREAK.LVT}else if(r<53497){if(r===53496)return e.CLUSTER_BREAK.LV}else if(53497<=r&&r<=53523)return e.CLUSTER_BREAK.LVT}else if(r<53525){if(r===53524)return e.CLUSTER_BREAK.LV}else if(r<53552){if(53525<=r&&r<=53551)return e.CLUSTER_BREAK.LVT}else if(r===53552)return e.CLUSTER_BREAK.LV}else if(r<53636){if(r<53581){if(r<53580){if(53553<=r&&r<=53579)return e.CLUSTER_BREAK.LVT}else if(r===53580)return e.CLUSTER_BREAK.LV}else if(r<53608){if(53581<=r&&r<=53607)return e.CLUSTER_BREAK.LVT}else if(r<53609){if(r===53608)return e.CLUSTER_BREAK.LV}else if(53609<=r&&r<=53635)return e.CLUSTER_BREAK.LVT}else if(r<53665){if(r<53637){if(r===53636)return e.CLUSTER_BREAK.LV}else if(r<53664){if(53637<=r&&r<=53663)return e.CLUSTER_BREAK.LVT}else if(r===53664)return e.CLUSTER_BREAK.LV}else if(r<53692){if(53665<=r&&r<=53691)return e.CLUSTER_BREAK.LVT}else if(r<53693){if(r===53692)return e.CLUSTER_BREAK.LV}else if(53693<=r&&r<=53719)return e.CLUSTER_BREAK.LVT}else if(r<70459){if(r<54897){if(r<54308){if(r<54001){if(r<53860){if(r<53777){if(r<53748){if(r<53721){if(r===53720)return e.CLUSTER_BREAK.LV}else if(53721<=r&&r<=53747)return e.CLUSTER_BREAK.LVT}else if(r<53749){if(r===53748)return e.CLUSTER_BREAK.LV}else if(r<53776){if(53749<=r&&r<=53775)return e.CLUSTER_BREAK.LVT}else if(r===53776)return e.CLUSTER_BREAK.LV}else if(r<53805){if(r<53804){if(53777<=r&&r<=53803)return e.CLUSTER_BREAK.LVT}else if(r===53804)return e.CLUSTER_BREAK.LV}else if(r<53832){if(53805<=r&&r<=53831)return e.CLUSTER_BREAK.LVT}else if(r<53833){if(r===53832)return e.CLUSTER_BREAK.LV}else if(53833<=r&&r<=53859)return e.CLUSTER_BREAK.LVT}else if(r<53917){if(r<53888){if(r<53861){if(r===53860)return e.CLUSTER_BREAK.LV}else if(53861<=r&&r<=53887)return e.CLUSTER_BREAK.LVT}else if(r<53889){if(r===53888)return e.CLUSTER_BREAK.LV}else if(r<53916){if(53889<=r&&r<=53915)return e.CLUSTER_BREAK.LVT}else if(r===53916)return e.CLUSTER_BREAK.LV}else if(r<53972){if(r<53944){if(53917<=r&&r<=53943)return e.CLUSTER_BREAK.LVT}else if(r<53945){if(r===53944)return e.CLUSTER_BREAK.LV}else if(53945<=r&&r<=53971)return e.CLUSTER_BREAK.LVT}else if(r<53973){if(r===53972)return e.CLUSTER_BREAK.LV}else if(r<54e3){if(53973<=r&&r<=53999)return e.CLUSTER_BREAK.LVT}else if(r===54e3)return e.CLUSTER_BREAK.LV}else if(r<54141){if(r<54084){if(r<54029){if(r<54028){if(54001<=r&&r<=54027)return e.CLUSTER_BREAK.LVT}else if(r===54028)return e.CLUSTER_BREAK.LV}else if(r<54056){if(54029<=r&&r<=54055)return e.CLUSTER_BREAK.LVT}else if(r<54057){if(r===54056)return e.CLUSTER_BREAK.LV}else if(54057<=r&&r<=54083)return e.CLUSTER_BREAK.LVT}else if(r<54112){if(r<54085){if(r===54084)return e.CLUSTER_BREAK.LV}else if(54085<=r&&r<=54111)return e.CLUSTER_BREAK.LVT}else if(r<54113){if(r===54112)return e.CLUSTER_BREAK.LV}else if(r<54140){if(54113<=r&&r<=54139)return e.CLUSTER_BREAK.LVT}else if(r===54140)return e.CLUSTER_BREAK.LV}else if(r<54224){if(r<54169){if(r<54168){if(54141<=r&&r<=54167)return e.CLUSTER_BREAK.LVT}else if(r===54168)return e.CLUSTER_BREAK.LV}else if(r<54196){if(54169<=r&&r<=54195)return e.CLUSTER_BREAK.LVT}else if(r<54197){if(r===54196)return e.CLUSTER_BREAK.LV}else if(54197<=r&&r<=54223)return e.CLUSTER_BREAK.LVT}else if(r<54253){if(r<54225){if(r===54224)return e.CLUSTER_BREAK.LV}else if(r<54252){if(54225<=r&&r<=54251)return e.CLUSTER_BREAK.LVT}else if(r===54252)return e.CLUSTER_BREAK.LV}else if(r<54280){if(54253<=r&&r<=54279)return e.CLUSTER_BREAK.LVT}else if(r<54281){if(r===54280)return e.CLUSTER_BREAK.LV}else if(54281<=r&&r<=54307)return e.CLUSTER_BREAK.LVT}else if(r<54589){if(r<54448){if(r<54365){if(r<54336){if(r<54309){if(r===54308)return e.CLUSTER_BREAK.LV}else if(54309<=r&&r<=54335)return e.CLUSTER_BREAK.LVT}else if(r<54337){if(r===54336)return e.CLUSTER_BREAK.LV}else if(r<54364){if(54337<=r&&r<=54363)return e.CLUSTER_BREAK.LVT}else if(r===54364)return e.CLUSTER_BREAK.LV}else if(r<54393){if(r<54392){if(54365<=r&&r<=54391)return e.CLUSTER_BREAK.LVT}else if(r===54392)return e.CLUSTER_BREAK.LV}else if(r<54420){if(54393<=r&&r<=54419)return e.CLUSTER_BREAK.LVT}else if(r<54421){if(r===54420)return e.CLUSTER_BREAK.LV}else if(54421<=r&&r<=54447)return e.CLUSTER_BREAK.LVT}else if(r<54505){if(r<54476){if(r<54449){if(r===54448)return e.CLUSTER_BREAK.LV}else if(54449<=r&&r<=54475)return e.CLUSTER_BREAK.LVT}else if(r<54477){if(r===54476)return e.CLUSTER_BREAK.LV}else if(r<54504){if(54477<=r&&r<=54503)return e.CLUSTER_BREAK.LVT}else if(r===54504)return e.CLUSTER_BREAK.LV}else if(r<54560){if(r<54532){if(54505<=r&&r<=54531)return e.CLUSTER_BREAK.LVT}else if(r<54533){if(r===54532)return e.CLUSTER_BREAK.LV}else if(54533<=r&&r<=54559)return e.CLUSTER_BREAK.LVT}else if(r<54561){if(r===54560)return e.CLUSTER_BREAK.LV}else if(r<54588){if(54561<=r&&r<=54587)return e.CLUSTER_BREAK.LVT}else if(r===54588)return e.CLUSTER_BREAK.LV}else if(r<54756){if(r<54672){if(r<54617){if(r<54616){if(54589<=r&&r<=54615)return e.CLUSTER_BREAK.LVT}else if(r===54616)return e.CLUSTER_BREAK.LV}else if(r<54644){if(54617<=r&&r<=54643)return e.CLUSTER_BREAK.LVT}else if(r<54645){if(r===54644)return e.CLUSTER_BREAK.LV}else if(54645<=r&&r<=54671)return e.CLUSTER_BREAK.LVT}else if(r<54701){if(r<54673){if(r===54672)return e.CLUSTER_BREAK.LV}else if(r<54700){if(54673<=r&&r<=54699)return e.CLUSTER_BREAK.LVT}else if(r===54700)return e.CLUSTER_BREAK.LV}else if(r<54728){if(54701<=r&&r<=54727)return e.CLUSTER_BREAK.LVT}else if(r<54729){if(r===54728)return e.CLUSTER_BREAK.LV}else if(54729<=r&&r<=54755)return e.CLUSTER_BREAK.LVT}else if(r<54813){if(r<54784){if(r<54757){if(r===54756)return e.CLUSTER_BREAK.LV}else if(54757<=r&&r<=54783)return e.CLUSTER_BREAK.LVT}else if(r<54785){if(r===54784)return e.CLUSTER_BREAK.LV}else if(r<54812){if(54785<=r&&r<=54811)return e.CLUSTER_BREAK.LVT}else if(r===54812)return e.CLUSTER_BREAK.LV}else if(r<54868){if(r<54840){if(54813<=r&&r<=54839)return e.CLUSTER_BREAK.LVT}else if(r<54841){if(r===54840)return e.CLUSTER_BREAK.LV}else if(54841<=r&&r<=54867)return e.CLUSTER_BREAK.LVT}else if(r<54869){if(r===54868)return e.CLUSTER_BREAK.LV}else if(r<54896){if(54869<=r&&r<=54895)return e.CLUSTER_BREAK.LVT}else if(r===54896)return e.CLUSTER_BREAK.LV}else if(r<69632){if(r<55216){if(r<55037){if(r<54980){if(r<54925){if(r<54924){if(54897<=r&&r<=54923)return e.CLUSTER_BREAK.LVT}else if(r===54924)return e.CLUSTER_BREAK.LV}else if(r<54952){if(54925<=r&&r<=54951)return e.CLUSTER_BREAK.LVT}else if(r<54953){if(r===54952)return e.CLUSTER_BREAK.LV}else if(54953<=r&&r<=54979)return e.CLUSTER_BREAK.LVT}else if(r<55008){if(r<54981){if(r===54980)return e.CLUSTER_BREAK.LV}else if(54981<=r&&r<=55007)return e.CLUSTER_BREAK.LVT}else if(r<55009){if(r===55008)return e.CLUSTER_BREAK.LV}else if(r<55036){if(55009<=r&&r<=55035)return e.CLUSTER_BREAK.LVT}else if(r===55036)return e.CLUSTER_BREAK.LV}else if(r<55120){if(r<55065){if(r<55064){if(55037<=r&&r<=55063)return e.CLUSTER_BREAK.LVT}else if(r===55064)return e.CLUSTER_BREAK.LV}else if(r<55092){if(55065<=r&&r<=55091)return e.CLUSTER_BREAK.LVT}else if(r<55093){if(r===55092)return e.CLUSTER_BREAK.LV}else if(55093<=r&&r<=55119)return e.CLUSTER_BREAK.LVT}else if(r<55149){if(r<55121){if(r===55120)return e.CLUSTER_BREAK.LV}else if(r<55148){if(55121<=r&&r<=55147)return e.CLUSTER_BREAK.LVT}else if(r===55148)return e.CLUSTER_BREAK.LV}else if(r<55176){if(55149<=r&&r<=55175)return e.CLUSTER_BREAK.LVT}else if(r<55177){if(r===55176)return e.CLUSTER_BREAK.LV}else if(55177<=r&&r<=55203)return e.CLUSTER_BREAK.LVT}else if(r<68097){if(r<65279){if(r<64286){if(r<55243){if(55216<=r&&r<=55238)return e.CLUSTER_BREAK.V}else if(55243<=r&&r<=55291)return e.CLUSTER_BREAK.T}else if(r<65024){if(r===64286)return e.CLUSTER_BREAK.EXTEND}else if(r<65056){if(65024<=r&&r<=65039)return e.CLUSTER_BREAK.EXTEND}else if(65056<=r&&r<=65071)return e.CLUSTER_BREAK.EXTEND}else if(r<66045){if(r<65438){if(r===65279)return e.CLUSTER_BREAK.CONTROL}else if(r<65520){if(65438<=r&&r<=65439)return e.CLUSTER_BREAK.EXTEND}else if(65520<=r&&r<=65531)return e.CLUSTER_BREAK.CONTROL}else if(r<66272){if(r===66045)return e.CLUSTER_BREAK.EXTEND}else if(r<66422){if(r===66272)return e.CLUSTER_BREAK.EXTEND}else if(66422<=r&&r<=66426)return e.CLUSTER_BREAK.EXTEND}else if(r<68325){if(r<68108){if(r<68101){if(68097<=r&&r<=68099)return e.CLUSTER_BREAK.EXTEND}else if(68101<=r&&r<=68102)return e.CLUSTER_BREAK.EXTEND}else if(r<68152){if(68108<=r&&r<=68111)return e.CLUSTER_BREAK.EXTEND}else if(r<68159){if(68152<=r&&r<=68154)return e.CLUSTER_BREAK.EXTEND}else if(r===68159)return e.CLUSTER_BREAK.EXTEND}else if(r<69373){if(r<68900){if(68325<=r&&r<=68326)return e.CLUSTER_BREAK.EXTEND}else if(r<69291){if(68900<=r&&r<=68903)return e.CLUSTER_BREAK.EXTEND}else if(69291<=r&&r<=69292)return e.CLUSTER_BREAK.EXTEND}else if(r<69446){if(69373<=r&&r<=69375)return e.CLUSTER_BREAK.EXTEND}else if(r<69506){if(69446<=r&&r<=69456)return e.CLUSTER_BREAK.EXTEND}else if(69506<=r&&r<=69509)return e.CLUSTER_BREAK.EXTEND}else if(r<70016){if(r<69815){if(r<69747){if(r<69634){if(r===69632)return e.CLUSTER_BREAK.SPACINGMARK;if(r===69633)return e.CLUSTER_BREAK.EXTEND}else if(r<69688){if(r===69634)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<69744){if(69688<=r&&r<=69702)return e.CLUSTER_BREAK.EXTEND}else if(r===69744)return e.CLUSTER_BREAK.EXTEND}else if(r<69762){if(r<69759){if(69747<=r&&r<=69748)return e.CLUSTER_BREAK.EXTEND}else if(69759<=r&&r<=69761)return e.CLUSTER_BREAK.EXTEND}else if(r<69808){if(r===69762)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<69811){if(69808<=r&&r<=69810)return e.CLUSTER_BREAK.SPACINGMARK}else if(69811<=r&&r<=69814)return e.CLUSTER_BREAK.EXTEND}else if(r<69888)if(r<69821){if(r<69817){if(69815<=r&&r<=69816)return e.CLUSTER_BREAK.SPACINGMARK}else if(69817<=r&&r<=69818)return e.CLUSTER_BREAK.EXTEND}else if(r<69826){if(r===69821)return e.CLUSTER_BREAK.PREPEND}else{if(r===69826)return e.CLUSTER_BREAK.EXTEND;if(r===69837)return e.CLUSTER_BREAK.PREPEND}else if(r<69933){if(r<69927){if(69888<=r&&r<=69890)return e.CLUSTER_BREAK.EXTEND}else if(r<69932){if(69927<=r&&r<=69931)return e.CLUSTER_BREAK.EXTEND}else if(r===69932)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<69957){if(69933<=r&&r<=69940)return e.CLUSTER_BREAK.EXTEND}else if(r<70003){if(69957<=r&&r<=69958)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===70003)return e.CLUSTER_BREAK.EXTEND}else if(r<70194){if(r<70082){if(r<70067){if(r<70018){if(70016<=r&&r<=70017)return e.CLUSTER_BREAK.EXTEND}else if(r===70018)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70070){if(70067<=r&&r<=70069)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70079){if(70070<=r&&r<=70078)return e.CLUSTER_BREAK.EXTEND}else if(70079<=r&&r<=70080)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70095){if(r<70089){if(70082<=r&&r<=70083)return e.CLUSTER_BREAK.PREPEND}else if(r<70094){if(70089<=r&&r<=70092)return e.CLUSTER_BREAK.EXTEND}else if(r===70094)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70188){if(r===70095)return e.CLUSTER_BREAK.EXTEND}else if(r<70191){if(70188<=r&&r<=70190)return e.CLUSTER_BREAK.SPACINGMARK}else if(70191<=r&&r<=70193)return e.CLUSTER_BREAK.EXTEND}else if(r<70209){if(r<70197){if(r<70196){if(70194<=r&&r<=70195)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===70196)return e.CLUSTER_BREAK.EXTEND}else if(r<70198){if(r===70197)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70206){if(70198<=r&&r<=70199)return e.CLUSTER_BREAK.EXTEND}else if(r===70206)return e.CLUSTER_BREAK.EXTEND}else if(r<70371){if(r<70367){if(r===70209)return e.CLUSTER_BREAK.EXTEND}else if(r<70368){if(r===70367)return e.CLUSTER_BREAK.EXTEND}else if(70368<=r&&r<=70370)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70400){if(70371<=r&&r<=70378)return e.CLUSTER_BREAK.EXTEND}else if(r<70402){if(70400<=r&&r<=70401)return e.CLUSTER_BREAK.EXTEND}else if(70402<=r&&r<=70403)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<72343){if(r<71339){if(r<70841){if(r<70512){if(r<70471){if(r<70463){if(r<70462){if(70459<=r&&r<=70460)return e.CLUSTER_BREAK.EXTEND}else if(r===70462)return e.CLUSTER_BREAK.EXTEND}else if(r<70464){if(r===70463)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70465){if(r===70464)return e.CLUSTER_BREAK.EXTEND}else if(70465<=r&&r<=70468)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70487){if(r<70475){if(70471<=r&&r<=70472)return e.CLUSTER_BREAK.SPACINGMARK}else if(70475<=r&&r<=70477)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70498){if(r===70487)return e.CLUSTER_BREAK.EXTEND}else if(r<70502){if(70498<=r&&r<=70499)return e.CLUSTER_BREAK.SPACINGMARK}else if(70502<=r&&r<=70508)return e.CLUSTER_BREAK.EXTEND}else if(r<70725){if(r<70712){if(r<70709){if(70512<=r&&r<=70516)return e.CLUSTER_BREAK.EXTEND}else if(70709<=r&&r<=70711)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<70720){if(70712<=r&&r<=70719)return e.CLUSTER_BREAK.EXTEND}else if(r<70722){if(70720<=r&&r<=70721)return e.CLUSTER_BREAK.SPACINGMARK}else if(70722<=r&&r<=70724)return e.CLUSTER_BREAK.EXTEND}else if(r<70832){if(r<70726){if(r===70725)return e.CLUSTER_BREAK.SPACINGMARK}else if(r===70726||r===70750)return e.CLUSTER_BREAK.EXTEND}else if(r<70833){if(r===70832)return e.CLUSTER_BREAK.EXTEND}else if(r<70835){if(70833<=r&&r<=70834)return e.CLUSTER_BREAK.SPACINGMARK}else if(70835<=r&&r<=70840)return e.CLUSTER_BREAK.EXTEND}else if(r<71096){if(r<70847)if(r<70843){if(r===70841)return e.CLUSTER_BREAK.SPACINGMARK;if(r===70842)return e.CLUSTER_BREAK.EXTEND}else if(r<70845){if(70843<=r&&r<=70844)return e.CLUSTER_BREAK.SPACINGMARK}else{if(r===70845)return e.CLUSTER_BREAK.EXTEND;if(r===70846)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<71087){if(r<70849){if(70847<=r&&r<=70848)return e.CLUSTER_BREAK.EXTEND}else if(r<70850){if(r===70849)return e.CLUSTER_BREAK.SPACINGMARK}else if(70850<=r&&r<=70851)return e.CLUSTER_BREAK.EXTEND}else if(r<71088){if(r===71087)return e.CLUSTER_BREAK.EXTEND}else if(r<71090){if(71088<=r&&r<=71089)return e.CLUSTER_BREAK.SPACINGMARK}else if(71090<=r&&r<=71093)return e.CLUSTER_BREAK.EXTEND}else if(r<71216){if(r<71102){if(r<71100){if(71096<=r&&r<=71099)return e.CLUSTER_BREAK.SPACINGMARK}else if(71100<=r&&r<=71101)return e.CLUSTER_BREAK.EXTEND}else if(r<71103){if(r===71102)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<71132){if(71103<=r&&r<=71104)return e.CLUSTER_BREAK.EXTEND}else if(71132<=r&&r<=71133)return e.CLUSTER_BREAK.EXTEND}else if(r<71229){if(r<71219){if(71216<=r&&r<=71218)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<71227){if(71219<=r&&r<=71226)return e.CLUSTER_BREAK.EXTEND}else if(71227<=r&&r<=71228)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<71230){if(r===71229)return e.CLUSTER_BREAK.EXTEND}else if(r<71231){if(r===71230)return e.CLUSTER_BREAK.SPACINGMARK}else if(71231<=r&&r<=71232)return e.CLUSTER_BREAK.EXTEND}else if(r<71999)if(r<71463){if(r<71350){if(r<71341){if(r===71339)return e.CLUSTER_BREAK.EXTEND;if(r===71340)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<71342){if(r===71341)return e.CLUSTER_BREAK.EXTEND}else if(r<71344){if(71342<=r&&r<=71343)return e.CLUSTER_BREAK.SPACINGMARK}else if(71344<=r&&r<=71349)return e.CLUSTER_BREAK.EXTEND}else if(r<71453){if(r===71350)return e.CLUSTER_BREAK.SPACINGMARK;if(r===71351)return e.CLUSTER_BREAK.EXTEND}else if(r<71458){if(71453<=r&&r<=71455)return e.CLUSTER_BREAK.EXTEND}else if(r<71462){if(71458<=r&&r<=71461)return e.CLUSTER_BREAK.EXTEND}else if(r===71462)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<71984){if(r<71727){if(r<71724){if(71463<=r&&r<=71467)return e.CLUSTER_BREAK.EXTEND}else if(71724<=r&&r<=71726)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<71736){if(71727<=r&&r<=71735)return e.CLUSTER_BREAK.EXTEND}else if(r<71737){if(r===71736)return e.CLUSTER_BREAK.SPACINGMARK}else if(71737<=r&&r<=71738)return e.CLUSTER_BREAK.EXTEND}else if(r<71995){if(r<71985){if(r===71984)return e.CLUSTER_BREAK.EXTEND}else if(r<71991){if(71985<=r&&r<=71989)return e.CLUSTER_BREAK.SPACINGMARK}else if(71991<=r&&r<=71992)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<71997){if(71995<=r&&r<=71996)return e.CLUSTER_BREAK.EXTEND}else{if(r===71997)return e.CLUSTER_BREAK.SPACINGMARK;if(r===71998)return e.CLUSTER_BREAK.EXTEND}else if(r<72193)if(r<72145)if(r<72001){if(r===71999)return e.CLUSTER_BREAK.PREPEND;if(r===72e3)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<72002){if(r===72001)return e.CLUSTER_BREAK.PREPEND}else{if(r===72002)return e.CLUSTER_BREAK.SPACINGMARK;if(r===72003)return e.CLUSTER_BREAK.EXTEND}else if(r<72156){if(r<72148){if(72145<=r&&r<=72147)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<72154){if(72148<=r&&r<=72151)return e.CLUSTER_BREAK.EXTEND}else if(72154<=r&&r<=72155)return e.CLUSTER_BREAK.EXTEND}else if(r<72160){if(72156<=r&&r<=72159)return e.CLUSTER_BREAK.SPACINGMARK}else{if(r===72160)return e.CLUSTER_BREAK.EXTEND;if(r===72164)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<72263){if(r<72249){if(r<72243){if(72193<=r&&r<=72202)return e.CLUSTER_BREAK.EXTEND}else if(72243<=r&&r<=72248)return e.CLUSTER_BREAK.EXTEND}else if(r<72250){if(r===72249)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<72251){if(r===72250)return e.CLUSTER_BREAK.PREPEND}else if(72251<=r&&r<=72254)return e.CLUSTER_BREAK.EXTEND}else if(r<72281){if(r<72273){if(r===72263)return e.CLUSTER_BREAK.EXTEND}else if(r<72279){if(72273<=r&&r<=72278)return e.CLUSTER_BREAK.EXTEND}else if(72279<=r&&r<=72280)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<72324){if(72281<=r&&r<=72283)return e.CLUSTER_BREAK.EXTEND}else if(r<72330){if(72324<=r&&r<=72329)return e.CLUSTER_BREAK.PREPEND}else if(72330<=r&&r<=72342)return e.CLUSTER_BREAK.EXTEND}else if(r<94033){if(r<73104){if(r<72881){if(r<72766){if(r<72751){if(r<72344){if(r===72343)return e.CLUSTER_BREAK.SPACINGMARK}else if(72344<=r&&r<=72345)return e.CLUSTER_BREAK.EXTEND}else if(r<72752){if(r===72751)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<72760){if(72752<=r&&r<=72758)return e.CLUSTER_BREAK.EXTEND}else if(72760<=r&&r<=72765)return e.CLUSTER_BREAK.EXTEND}else if(r<72850){if(r===72766)return e.CLUSTER_BREAK.SPACINGMARK;if(r===72767)return e.CLUSTER_BREAK.EXTEND}else if(r<72873){if(72850<=r&&r<=72871)return e.CLUSTER_BREAK.EXTEND}else if(r<72874){if(r===72873)return e.CLUSTER_BREAK.SPACINGMARK}else if(72874<=r&&r<=72880)return e.CLUSTER_BREAK.EXTEND}else if(r<73018){if(r<72884){if(r<72882){if(r===72881)return e.CLUSTER_BREAK.SPACINGMARK}else if(72882<=r&&r<=72883)return e.CLUSTER_BREAK.EXTEND}else if(r<72885){if(r===72884)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<73009){if(72885<=r&&r<=72886)return e.CLUSTER_BREAK.EXTEND}else if(73009<=r&&r<=73014)return e.CLUSTER_BREAK.EXTEND}else if(r<73030){if(r<73020){if(r===73018)return e.CLUSTER_BREAK.EXTEND}else if(r<73023){if(73020<=r&&r<=73021)return e.CLUSTER_BREAK.EXTEND}else if(73023<=r&&r<=73029)return e.CLUSTER_BREAK.EXTEND}else if(r<73031){if(r===73030)return e.CLUSTER_BREAK.PREPEND}else if(r<73098){if(r===73031)return e.CLUSTER_BREAK.EXTEND}else if(73098<=r&&r<=73102)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<73526){if(r<73459)if(r<73109){if(r<73107){if(73104<=r&&r<=73105)return e.CLUSTER_BREAK.EXTEND}else if(73107<=r&&r<=73108)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<73110){if(r===73109)return e.CLUSTER_BREAK.EXTEND}else{if(r===73110)return e.CLUSTER_BREAK.SPACINGMARK;if(r===73111)return e.CLUSTER_BREAK.EXTEND}else if(r<73474){if(r<73461){if(73459<=r&&r<=73460)return e.CLUSTER_BREAK.EXTEND}else if(r<73472){if(73461<=r&&r<=73462)return e.CLUSTER_BREAK.SPACINGMARK}else if(73472<=r&&r<=73473)return e.CLUSTER_BREAK.EXTEND}else if(r<73475){if(r===73474)return e.CLUSTER_BREAK.PREPEND}else if(r<73524){if(r===73475)return e.CLUSTER_BREAK.SPACINGMARK}else if(73524<=r&&r<=73525)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<78896)if(r<73536){if(r<73534){if(73526<=r&&r<=73530)return e.CLUSTER_BREAK.EXTEND}else if(73534<=r&&r<=73535)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<73537){if(r===73536)return e.CLUSTER_BREAK.EXTEND}else{if(r===73537)return e.CLUSTER_BREAK.SPACINGMARK;if(r===73538)return e.CLUSTER_BREAK.EXTEND}else if(r<92912){if(r<78912){if(78896<=r&&r<=78911)return e.CLUSTER_BREAK.CONTROL}else if(r<78919){if(r===78912)return e.CLUSTER_BREAK.EXTEND}else if(78919<=r&&r<=78933)return e.CLUSTER_BREAK.EXTEND}else if(r<92976){if(92912<=r&&r<=92916)return e.CLUSTER_BREAK.EXTEND}else if(r<94031){if(92976<=r&&r<=92982)return e.CLUSTER_BREAK.EXTEND}else if(r===94031)return e.CLUSTER_BREAK.EXTEND}else if(r<121476){if(r<119143)if(r<113824){if(r<94180){if(r<94095){if(94033<=r&&r<=94087)return e.CLUSTER_BREAK.SPACINGMARK}else if(94095<=r&&r<=94098)return e.CLUSTER_BREAK.EXTEND}else if(r<94192){if(r===94180)return e.CLUSTER_BREAK.EXTEND}else if(r<113821){if(94192<=r&&r<=94193)return e.CLUSTER_BREAK.SPACINGMARK}else if(113821<=r&&r<=113822)return e.CLUSTER_BREAK.EXTEND}else if(r<118576){if(r<118528){if(113824<=r&&r<=113827)return e.CLUSTER_BREAK.CONTROL}else if(118528<=r&&r<=118573)return e.CLUSTER_BREAK.EXTEND}else if(r<119141){if(118576<=r&&r<=118598)return e.CLUSTER_BREAK.EXTEND}else{if(r===119141)return e.CLUSTER_BREAK.EXTEND;if(r===119142)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<119173){if(r<119150){if(r<119149){if(119143<=r&&r<=119145)return e.CLUSTER_BREAK.EXTEND}else if(r===119149)return e.CLUSTER_BREAK.SPACINGMARK}else if(r<119155){if(119150<=r&&r<=119154)return e.CLUSTER_BREAK.EXTEND}else if(r<119163){if(119155<=r&&r<=119162)return e.CLUSTER_BREAK.CONTROL}else if(119163<=r&&r<=119170)return e.CLUSTER_BREAK.EXTEND}else if(r<121344){if(r<119210){if(119173<=r&&r<=119179)return e.CLUSTER_BREAK.EXTEND}else if(r<119362){if(119210<=r&&r<=119213)return e.CLUSTER_BREAK.EXTEND}else if(119362<=r&&r<=119364)return e.CLUSTER_BREAK.EXTEND}else if(r<121403){if(121344<=r&&r<=121398)return e.CLUSTER_BREAK.EXTEND}else if(r<121461){if(121403<=r&&r<=121452)return e.CLUSTER_BREAK.EXTEND}else if(r===121461)return e.CLUSTER_BREAK.EXTEND}else if(r<123628){if(r<122907){if(r<121505){if(r<121499){if(r===121476)return e.CLUSTER_BREAK.EXTEND}else if(121499<=r&&r<=121503)return e.CLUSTER_BREAK.EXTEND}else if(r<122880){if(121505<=r&&r<=121519)return e.CLUSTER_BREAK.EXTEND}else if(r<122888){if(122880<=r&&r<=122886)return e.CLUSTER_BREAK.EXTEND}else if(122888<=r&&r<=122904)return e.CLUSTER_BREAK.EXTEND}else if(r<123023){if(r<122915){if(122907<=r&&r<=122913)return e.CLUSTER_BREAK.EXTEND}else if(r<122918){if(122915<=r&&r<=122916)return e.CLUSTER_BREAK.EXTEND}else if(122918<=r&&r<=122922)return e.CLUSTER_BREAK.EXTEND}else if(r<123184){if(r===123023)return e.CLUSTER_BREAK.EXTEND}else if(r<123566){if(123184<=r&&r<=123190)return e.CLUSTER_BREAK.EXTEND}else if(r===123566)return e.CLUSTER_BREAK.EXTEND}else if(r<127995){if(r<125136){if(r<124140){if(123628<=r&&r<=123631)return e.CLUSTER_BREAK.EXTEND}else if(124140<=r&&r<=124143)return e.CLUSTER_BREAK.EXTEND}else if(r<125252){if(125136<=r&&r<=125142)return e.CLUSTER_BREAK.EXTEND}else if(r<127462){if(125252<=r&&r<=125258)return e.CLUSTER_BREAK.EXTEND}else if(127462<=r&&r<=127487)return e.CLUSTER_BREAK.REGIONAL_INDICATOR}else if(r<917632){if(r<917504){if(127995<=r&&r<=127999)return e.CLUSTER_BREAK.EXTEND}else if(r<917536){if(917504<=r&&r<=917535)return e.CLUSTER_BREAK.CONTROL}else if(917536<=r&&r<=917631)return e.CLUSTER_BREAK.EXTEND}else if(r<917760){if(917632<=r&&r<=917759)return e.CLUSTER_BREAK.CONTROL}else if(r<918e3){if(917760<=r&&r<=917999)return e.CLUSTER_BREAK.EXTEND}else if(918e3<=r&&r<=921599)return e.CLUSTER_BREAK.CONTROL;return e.CLUSTER_BREAK.OTHER}static getEmojiProperty(r){if(r<10160){if(r<9728){if(r<9e3){if(r<8482){if(r<8252){if(r===169||r===174)return e.EXTENDED_PICTOGRAPHIC}else if(r===8252||r===8265)return e.EXTENDED_PICTOGRAPHIC}else if(r<8596){if(r===8482||r===8505)return e.EXTENDED_PICTOGRAPHIC}else if(r<8617){if(8596<=r&&r<=8601)return e.EXTENDED_PICTOGRAPHIC}else if(r<8986){if(8617<=r&&r<=8618)return e.EXTENDED_PICTOGRAPHIC}else if(8986<=r&&r<=8987)return e.EXTENDED_PICTOGRAPHIC}else if(r<9410){if(r<9167){if(r===9e3||r===9096)return e.EXTENDED_PICTOGRAPHIC}else if(r<9193){if(r===9167)return e.EXTENDED_PICTOGRAPHIC}else if(r<9208){if(9193<=r&&r<=9203)return e.EXTENDED_PICTOGRAPHIC}else if(9208<=r&&r<=9210)return e.EXTENDED_PICTOGRAPHIC}else if(r<9654){if(r<9642){if(r===9410)return e.EXTENDED_PICTOGRAPHIC}else if(9642<=r&&r<=9643)return e.EXTENDED_PICTOGRAPHIC}else if(r<9664){if(r===9654)return e.EXTENDED_PICTOGRAPHIC}else if(r<9723){if(r===9664)return e.EXTENDED_PICTOGRAPHIC}else if(9723<=r&&r<=9726)return e.EXTENDED_PICTOGRAPHIC}else if(r<10035){if(r<10004){if(r<9748){if(r<9735){if(9728<=r&&r<=9733)return e.EXTENDED_PICTOGRAPHIC}else if(9735<=r&&r<=9746)return e.EXTENDED_PICTOGRAPHIC}else if(r<9872){if(9748<=r&&r<=9861)return e.EXTENDED_PICTOGRAPHIC}else if(r<9992){if(9872<=r&&r<=9989)return e.EXTENDED_PICTOGRAPHIC}else if(9992<=r&&r<=10002)return e.EXTENDED_PICTOGRAPHIC}else if(r<10013){if(r===10004||r===10006)return e.EXTENDED_PICTOGRAPHIC}else if(r<10017){if(r===10013)return e.EXTENDED_PICTOGRAPHIC}else if(r===10017||r===10024)return e.EXTENDED_PICTOGRAPHIC}else if(r<10067){if(r<10055){if(r<10052){if(10035<=r&&r<=10036)return e.EXTENDED_PICTOGRAPHIC}else if(r===10052)return e.EXTENDED_PICTOGRAPHIC}else if(r<10060){if(r===10055)return e.EXTENDED_PICTOGRAPHIC}else if(r===10060||r===10062)return e.EXTENDED_PICTOGRAPHIC}else if(r<10083){if(r<10071){if(10067<=r&&r<=10069)return e.EXTENDED_PICTOGRAPHIC}else if(r===10071)return e.EXTENDED_PICTOGRAPHIC}else if(r<10133){if(10083<=r&&r<=10087)return e.EXTENDED_PICTOGRAPHIC}else if(r<10145){if(10133<=r&&r<=10135)return e.EXTENDED_PICTOGRAPHIC}else if(r===10145)return e.EXTENDED_PICTOGRAPHIC}else if(r<127489){if(r<12951){if(r<11035){if(r<10548){if(r===10160||r===10175)return e.EXTENDED_PICTOGRAPHIC}else if(r<11013){if(10548<=r&&r<=10549)return e.EXTENDED_PICTOGRAPHIC}else if(11013<=r&&r<=11015)return e.EXTENDED_PICTOGRAPHIC}else if(r<11093){if(r<11088){if(11035<=r&&r<=11036)return e.EXTENDED_PICTOGRAPHIC}else if(r===11088)return e.EXTENDED_PICTOGRAPHIC}else if(r<12336){if(r===11093)return e.EXTENDED_PICTOGRAPHIC}else if(r===12336||r===12349)return e.EXTENDED_PICTOGRAPHIC}else if(r<127340){if(r<126976){if(r===12951||r===12953)return e.EXTENDED_PICTOGRAPHIC}else if(r<127245){if(126976<=r&&r<=127231)return e.EXTENDED_PICTOGRAPHIC}else if(r<127279){if(127245<=r&&r<=127247)return e.EXTENDED_PICTOGRAPHIC}else if(r===127279)return e.EXTENDED_PICTOGRAPHIC}else if(r<127374){if(r<127358){if(127340<=r&&r<=127345)return e.EXTENDED_PICTOGRAPHIC}else if(127358<=r&&r<=127359)return e.EXTENDED_PICTOGRAPHIC}else if(r<127377){if(r===127374)return e.EXTENDED_PICTOGRAPHIC}else if(r<127405){if(127377<=r&&r<=127386)return e.EXTENDED_PICTOGRAPHIC}else if(127405<=r&&r<=127461)return e.EXTENDED_PICTOGRAPHIC}else if(r<128981){if(r<127561){if(r<127535){if(r<127514){if(127489<=r&&r<=127503)return e.EXTENDED_PICTOGRAPHIC}else if(r===127514)return e.EXTENDED_PICTOGRAPHIC}else if(r<127538){if(r===127535)return e.EXTENDED_PICTOGRAPHIC}else if(r<127548){if(127538<=r&&r<=127546)return e.EXTENDED_PICTOGRAPHIC}else if(127548<=r&&r<=127551)return e.EXTENDED_PICTOGRAPHIC}else if(r<128326){if(r<128e3){if(127561<=r&&r<=127994)return e.EXTENDED_PICTOGRAPHIC}else if(128e3<=r&&r<=128317)return e.EXTENDED_PICTOGRAPHIC}else if(r<128640){if(128326<=r&&r<=128591)return e.EXTENDED_PICTOGRAPHIC}else if(r<128884){if(128640<=r&&r<=128767)return e.EXTENDED_PICTOGRAPHIC}else if(128884<=r&&r<=128895)return e.EXTENDED_PICTOGRAPHIC}else if(r<129198){if(r<129096){if(r<129036){if(128981<=r&&r<=129023)return e.EXTENDED_PICTOGRAPHIC}else if(129036<=r&&r<=129039)return e.EXTENDED_PICTOGRAPHIC}else if(r<129114){if(129096<=r&&r<=129103)return e.EXTENDED_PICTOGRAPHIC}else if(r<129160){if(129114<=r&&r<=129119)return e.EXTENDED_PICTOGRAPHIC}else if(129160<=r&&r<=129167)return e.EXTENDED_PICTOGRAPHIC}else if(r<129340){if(r<129292){if(129198<=r&&r<=129279)return e.EXTENDED_PICTOGRAPHIC}else if(129292<=r&&r<=129338)return e.EXTENDED_PICTOGRAPHIC}else if(r<129351){if(129340<=r&&r<=129349)return e.EXTENDED_PICTOGRAPHIC}else if(r<130048){if(129351<=r&&r<=129791)return e.EXTENDED_PICTOGRAPHIC}else if(130048<=r&&r<=131069)return e.EXTENDED_PICTOGRAPHIC;return e.CLUSTER_BREAK.OTHER}}return Mo.default=s,Mo}var pA;function d9(){if(pA)return Uo;pA=1;var t=Uo&&Uo.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Uo,"__esModule",{value:!0});const e=t(p9());return Uo.default=e.default,Uo}var _9=d9();const m9=is(_9);new m9;class dA{static getPromptGuess(e,n){var i,s,a;if((i=e.player)!=null&&i.prompt)return e.player.prompt;if((s=e.audience)!=null&&s.prompt)return e.audience.prompt;if((a=e.audiencePlayer)!=null&&a.prompt)return e.audiencePlayer.prompt;if(e.prompt)return e.prompt;if(n==="range-game")return this.getRangeGameGuess(e)}static getRangeGameGuess(e){var n,i,s,a,r,u,c,f;if((i=(n=e.player)==null?void 0:n.content)!=null&&i.text)return(a=(s=e.player)==null?void 0:s.content)==null?void 0:a.text;if((u=(r=e.content)==null?void 0:r.content)!=null&&u.text)return(f=(c=e.content)==null?void 0:c.content)==null?void 0:f.text}static async send(e){const n={appTag:e.room.appTag,state:{appTag:e.room.appTag,name:e.name,role:e.role,code:e.room.code,message:e.message,vibe:e.vibe,state:e.values}};try{const i=await this.sendToEcast(n);await this.sendToSlack(i,e)}catch(i){console.error(i)}}static async sendToEcast(e){return(await(await fetch("https://ecast.jackboxgames.com/api/v2/controller/state",{method:"POST",body:JSON.stringify(e)})).json()).body.url}static async sendToSlack(e,n){const i=_a(n.room.appTag),s="https://hooks.slack.com/services/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",a={good:":large_green_circle:",meh:":large_yellow_circle:",bad:":red_circle:"},u=`${(i==null?void 0:i.name)??n.room.appTag} :${n.room.appTag}: 

 From: ${n.name},
${n.message}`,c=[];n.vibe&&n.vibe!=="none"&&c.push({type:"plain_text",text:`${a[n.vibe]} ${n.vibe.toUpperCase()} Vibes`,emoji:!0}),n.content&&c.push({type:"plain_text",text:`Content: ${n.content}`,emoji:!0});const h={blocks:[{type:"section",text:{type:"mrkdwn",text:u}},{type:"context",elements:c},{type:"actions",elements:[{type:"button",action_id:"actionId-0",url:e,text:{type:"plain_text",text:"View Game State JSON",emoji:!0}}]}]};try{const g=await(await fetch(s,{method:"POST",body:JSON.stringify(h)})).text();Ov("[Feedback] sendToSlack",g)}catch(d){console.error("[Feedback] sendToSlack",d)}}}class U2{static withTypes(e,n){let i=e;return n.forEach(s=>{typeof this[s]=="function"&&(i=this[s](i))}),i}static html(e){if(String(e).match(/<fart>/g)){const i=new Audio(new URL("/main/pp11/sfx/assets/BhWysX6c.wav",import.meta.url).href);i.volume=.1,i.play()}const n=/<(?:"[^"]*"['"]*|'[^']*'['"]*|[^'">])+>/g;return String(e).replace(n,"")}static input(e){return e.replace("","...").replace(/[\u201C\u201D]/gi,'"').replace(/[\u2018\u2019]/g,"'").replace(/[^\u00A1\u0020-\u007E\u00BF-\u00FF\u2019]/gi,"")}static username(e){return e.replace(/[^A-Z0-9\u00A1\u0020-\u002F\u00BF-\u00FF\u2026!?*$+\-'_ .,]/gi,"").replace(/'/g,"")}static emoji(e){try{return e.replace(new RegExp("\\p{RGI_Emoji}","gv"),"")}catch{console.warn("[Sanitize] Cannot remove emoji with Unicode sequence escapes, falling back.")}try{return e.replace(/[\p{Extended_Pictographic}\u{1F3FB}-\u{1F3FF}\u{1F9B0}-\u{1F9B3}]/gu,"")}catch{console.warn("[Sanitize] Cannot remove emoji with Unicode character escapes, falling back.")}return e.replace(/(\u00A9|\u00AE|[\u2000-\u2017]|[\u2020-\u3300]|\uD83C[\uD000-\uDFFF]|\uD83D[\uD000-\uDFFF]|\uD83E[\uD000-\uDFFF])/g,"")}static nonEmoji(e){try{const n=e.match(new RegExp("\\p{RGI_Emoji}","gv"));return(n==null?void 0:n.join(""))??""}catch{console.warn("[Sanitize] Cannot remove non-emoji with Unicode sequence escapes, falling back.")}try{return e.replace(new RegExp("\\P{Extended_Pictographic}","gu"),"").replace(/[^\u{1F3FB}-\u{1F3FF}\u{1F9B0}-\u{1F9B3}]/gu,"")}catch{console.warn("[Sanitize] Cannot remove non-emoji with Unicode character escapes, falling back.")}return e.replace(new RegExp("\\p{Currency_Symbol}","gu"),"").replace(new RegExp("\\p{Letter}","gu"),"").replace(new RegExp("\\p{Number}","gu"),"").replace(new RegExp("\\p{Math_Symbol}","gu"),"").replace(new RegExp("\\p{Punctuation}","gu"),"").replace(new RegExp("\\p{Separator}","gu"),"").replace(/[`^]/gu,"")}}const g9={BACK:"Back",CANCEL:"Cancel",CLOSE:"Close",CONFIRM:"Confirm",CREATE:"Create",DELETE:"Delete",DONE:"Done",EDIT:"Edit",OK:"OK",NEXT:"Next",NO:"No",PLAY:"Play",PUBLISH:"Publish",REMOVE:"Remove",RESET:"Reset",SUBMIT:"Submit",TRY_AGAIN:"Try Again",UNDO:"Undo",YES:"Yes"},E9={UGC:{VISIBILITY_CONTROLLER_OFF:"prompts hidden on players devices",VISIBILITY_CONTROLLER_ON:"prompts shown on players devices",VISIBILITY_SCREEN_OFF:"prompts hidden on game screen",VISIBILITY_SCREEN_ON:"prompts shown on game screen"}},v9={DISCONNECTED:"You have been disconnected.",DRAWING_NOTHING:"You have to draw something!",PLAYER_KICKED:"You have been kicked from the game by a moderator.",ROOM_DESTROYED:"Thanks for playing!",ROOM_DISCONNECTED:"Disconnected",TEXT_NAUGHTY:"Im afraid you cant write that. Please be respectful of other players.",TEXT_NOTHING:"You cant enter nothing!",TITLE:"Error"},y9="LOADING",T9={JOINED_COUNT:"{count} of {maxPlayers} players joined",PLAYERS_NEEDED:"1 player needed to start | {count} players needed to start",WAITING_FOR_VIP:"Waiting for {name} to start the game",WAITING_FOR_GAMEPAD:"Waiting for the game to start",WAITING_FOR_NEW_GAME:"Waiting for a new game to start",GAME_STARTING:"Game is starting",BUTTON_START:"Press to Start",BUTTON_CANCEL:"Press to Cancel"},b9={GALLERY_LINK:"Visit the Gallery",NEW_GAME_STARTED:"A new game has started",PLAY_AGAIN:"Play again?",WHICH_GAME:"Which game?",WHICH_PLAYERS:"Which players?",THANKS_FOR_PLAYING:"Thanks for playing!",BUTTON_GO_TO_GAME:"Go to game",BUTTON_GO_TO_JACKBOX:"Back to jackbox.tv",BUTTON_PLAY_AGAIN:"Play again",BUTTON_SAME_PLAYERS:"Same players",BUTTON_NEW_PLAYERS:"New players",BUTTON_CHANGE_GAME:"Change game",BUTTON_NEXT_GAME:"Play {gameName}"},R9={AND:"AND",OR:"OR"},x9={BUTTON_SKIP:"Skip",BUTTON_NEXT:"Next",BUTTON_DONE:"Lets Go!"},S9={NAME:"AUDIENCE"},C9={CART:{CHECK_OUT:"Check out",EMPTY:"Your cart is empty",TITLE:"Shopping Cart",TOTAL:"Total"}},A9={EPISODE_REPORT:"Report Episode",EPISODE_UNLOAD:"Unload Episode",EPISODE_VIEW_AUTHOR:"View Author",EPISODES_LOAD:"Load an episode by id:",EPISODES_MENU:"Episodes Menu",EPISODES_SELECT:"Or select an epsiode:",EPISODES_WARNING:"Warning: user generated content is not rated",INSTRUCTION:{CREATE_TITLE:"first things first, enter a name for the episode that will contain all your prompts and hit create.",LOAD:"create or load?",PUBLISH:"publish your episode",TITLE:"name your episode",TOGGLE_VISIBILITY:"tap to show/hide prompts",WRITE:"write your prompts"},WARNING:{DELETE:"Are you sure you want to delete this episode?",TOS:"By sharing content, you agree to our [tos]Terms of Service[/tos]",TOS_AGREE:"agree and share"},BACK_TO_EPISODES:"back to episodes",BACK_TO_MENU:"back to menu",CREATE_NEW_EPISODE:"create a new episode",PREVIOUS_EPISODES:"previous episodes",PROMPT_ADD:"add prompt",PROMPT_PLACEHOLDER:"enter a prompt",PROMPTS_COUNT_HIDDEN:"({count} hidden)",TITLE_PLACEHOLDER:"enter a title"},L9={BROADCASTER:{SUBTEXT:"You have successfully connected your account to the Jackbox Audience Kit Twitch Extension.",WARNING:"THIS ROOM DOESN'T HAVE THE AUDIENCE SETTING ENABLED"},RECONNECTED:{TEXT:"RECONNECTED",SUBTEXT:"Have fun!"},RECONNECTING:{CONTROLLER:{TEXT:"CONNECTION INTERRUPTED",SUBTEXT:"Attempting to reconnect ({attempt} of 5)"},GAME:{TEXT:"GAME CONNECTION INTERRUPTED",SUBTEXT:"Please wait while we attempt to reconnect"}},PAUSED:{TEXT:"THE GAME IS PAUSED",SUBTEXT:"Anything you submit will still be sent to the game."}},w9={SHARE:"Share",COPY_TO_CLIPBOARD:"Copy to clipboard",COPIED:"Copied"},O9={ACTION:g9,ALT:E9,ERROR:v9,LOADING:y9,LOBBY:T9,POST_GAME:b9,SEPARATOR:R9,TUTORIAL:x9,AUDIENCE:S9,GALLERY:C9,UGC:A9,TOAST:L9,SHARE:w9},I9={BACK:"Retour",CANCEL:"Annuler",CLOSE:"Fermer",CONFIRM:"Confirmer",CREATE:"Crer",DELETE:"Supprimer",DONE:"Termin",EDIT:"Modifier",OK:"OK",NEXT:"Suivant",NO:"Non",PLAY:"Jouer",PUBLISH:"Publier",REMOVE:"Supprimer",RESET:"Rinitialiser",SUBMIT:"Envoyer",TRY_AGAIN:"Ressayer",UNDO:"Annuler",YES:"Oui"},N9={UGC:{VISIBILITY_CONTROLLER_OFF:"sujets non affichs sur les appareils des joueurs",VISIBILITY_CONTROLLER_ON:"sujets affichs sur les appareils des joueurs",VISIBILITY_SCREEN_OFF:"sujets non affichs sur l'cran de jeu",VISIBILITY_SCREEN_ON:"sujets affichs sur l'cran de jeu"}},P9={DISCONNECTED:"Vous avez t dconnect(e).",DRAWING_NOTHING:"Vous devez dessiner quelque chose!",PLAYER_KICKED:"Vous avez t ject(e) de la partie par un modrateur.",ROOM_DESTROYED:"Merci d'avoir jou!",ROOM_DISCONNECTED:"Dconnexion",TEXT_NAUGHTY:"Je crains que vous ne puissiez pas crire a. Respectez les autres joueurs.",TEXT_NOTHING:"Vous ne pouvez pas ne rien entrer",TITLE:"Erreur"},k9="CHARGEMENT",D9={JOINED_COUNT:"{count} joueurs sur {maxPlayers} ont rejoint la partie",PLAYERS_NEEDED:"1joueur ncessaire pour commencer | {count}joueurs ncessaires pour commencer",WAITING_FOR_VIP:"En attente de {name} pour commencer la partie",WAITING_FOR_GAMEPAD:"En attente du dbut de la partie",WAITING_FOR_NEW_GAME:"En attente du dbut d'une nouvelle partie",GAME_STARTING:"La partie commence",BUTTON_START:"Appuyer pour commencer",BUTTON_CANCEL:"Appuyer pour annuler"},B9={GALLERY_LINK:"Visiter la galerie",NEW_GAME_STARTED:"Une nouvelle partie a commenc",PLAY_AGAIN:"Rejouer?",WHICH_GAME:" quel jeu?",WHICH_PLAYERS:"Avec quels joueurs?",THANKS_FOR_PLAYING:"Merci d'avoir jou!",BUTTON_GO_TO_GAME:"Aller au jeu",BUTTON_GO_TO_JACKBOX:"Retour  jackbox.tv",BUTTON_PLAY_AGAIN:"Rejouer",BUTTON_SAME_PLAYERS:"Mmes joueurs",BUTTON_NEW_PLAYERS:"Nouveaux joueurs",BUTTON_CHANGE_GAME:"Changer de jeu",BUTTON_NEXT_GAME:"Jouer {gameName}"},U9={AND:"ET",OR:"OU"},M9={BUTTON_SKIP:"Passer",BUTTON_NEXT:"Suivant",BUTTON_DONE:"Allons-y!"},K9={NAME:"SPECTATEURS"},$9={CART:{CHECK_OUT:"Paiement",EMPTY:"Votre panier est vide",TITLE:"Panier",TOTAL:"Total"}},V9={EPISODE_REPORT:"Signaler l'pisode",EPISODE_UNLOAD:"Retirer l'pisode",EPISODE_VIEW_AUTHOR:"Voir l'auteur",EPISODES_LOAD:"Charger un pisode par id:",EPISODES_MENU:"Menu des pisodes",EPISODES_SELECT:"Ou slectionner un pisode:",EPISODES_WARNING:"Attention: le contenu gnr par les utilisateurs ne fait pas l'objet d'un classement",INSTRUCTION:{CREATE_TITLE:"commencez par donner un nom  l'pisode qui contiendra vos sujets, puis touchez crer.",LOAD:"crer ou charger?",PUBLISH:"publiez votre pisode",TITLE:"donnez un nom  votre pisode",TOGGLE_VISIBILITY:"touchez pour afficher/masquer les sujets",WRITE:"crivez vos sujets"},WARNING:{DELETE:"Voulez-vous vraiment supprimer cet pisode?",TOS:"En partageant votre contenu, vous acceptez nos [tos]Conditions de service[/tos]",TOS_AGREE:"accepter et partager"},BACK_TO_EPISODES:"retour aux pisodes",BACK_TO_MENU:"retour au menu",CREATE_NEW_EPISODE:"crer un nouvel pisode",PREVIOUS_EPISODES:"pisodes prcdents",PROMPT_ADD:"ajouter un sujet",PROMPT_PLACEHOLDER:"taper un sujet",PROMPTS_COUNT_HIDDEN:"({count} non affich)",TITLE_PLACEHOLDER:"taper un titre"},F9={BROADCASTER:{SUBTEXT:"La connexion de votre compte  l'extension Twitch Jackbox Audience Kit a russi.",WARNING:"LE PARAMTRE 'PUBLIC' N'EST PAS ACTIV DANS CETTE SALLE."},RECONNECTED:{TEXT:"RECONNECT(E)",SUBTEXT:"Amusez-vous bien!"},RECONNECTING:{CONTROLLER:{TEXT:"CONNEXION INTERROMPUE",SUBTEXT:"Tentative de reconnexion ({attempt} sur 5)"},GAME:{TEXT:"CONNEXION AU JEU INTERROMPUE",SUBTEXT:"Veuillez patienter pendant que nous tentons de vous reconnecter."}},PAUSED:{TEXT:"LA PARTIE EST EN PAUSE",SUBTEXT:"Tout ce que vous proposez sera quand mme envoy dans le jeu."}},q9={SHARE:"Partager",COPY_TO_CLIPBOARD:"Copier dans le presse-papiers",COPIED:"Copi"},G9={ACTION:I9,ALT:N9,ERROR:P9,LOADING:k9,LOBBY:D9,POST_GAME:B9,SEPARATOR:U9,TUTORIAL:M9,AUDIENCE:K9,GALLERY:$9,UGC:V9,TOAST:F9,SHARE:q9},j9={BACK:"Indietro",CANCEL:"Annulla",CLOSE:"Chiuda",CONFIRM:"Conferma",CREATE:"Crea",DELETE:"Elimina",DONE:"Fine",EDIT:"Modifica",OK:"OK",NEXT:"Prossimo",NO:"No",PLAY:"Gioca",PUBLISH:"Pubblica",REMOVE:"Rimuovi",RESET:"Reset",SUBMIT:"Invia",TRY_AGAIN:"Riprova",UNDO:"Annulla",YES:"S"},W9={UGC:{VISIBILITY_CONTROLLER_OFF:"definizioni nascoste sui dispositivi dei giocatori",VISIBILITY_CONTROLLER_ON:"definizioni visualizzate sui dispositivi dei giocatori",VISIBILITY_SCREEN_OFF:"definizioni nascoste sullo schermo di gioco",VISIBILITY_SCREEN_ON:"definizioni visualizzate sullo schermo di gioco"}},X9={DISCONNECTED:" stata effettuata la disconnessione.",DRAWING_NOTHING:"Devi disegnare qualcosa!",PLAYER_KICKED:"Un moderatore ti ha cacciato dalla partita.",ROOM_DESTROYED:"Grazie per aver scelto di giocare con noi!",ROOM_DISCONNECTED:"Disconnessione effettuata",TEXT_NAUGHTY:"Purtroppo non puoi scrivere questa cosa. Abbi rispetto per gli altri giocatori.",TEXT_NOTHING:"Devi per forza inserire qualcosa!",TITLE:"Errore"},H9="CARICAMENTO",Y9={JOINED_COUNT:"{count} su {maxPlayers} giocatori in partita",PLAYERS_NEEDED:"Manca 1 giocatore per iniziare | Mancano {count} giocatori per iniziare",WAITING_FOR_VIP:"In attesa di {name} per iniziare la partita",WAITING_FOR_GAMEPAD:"In attesa d'iniziare la partita",WAITING_FOR_NEW_GAME:"In attesa d'iniziare una nuova partita",GAME_STARTING:"La partita sta per iniziare",BUTTON_START:"Premi per avviare",BUTTON_CANCEL:"Premi per annullare"},z9={GALLERY_LINK:"Visita la galleria",NEW_GAME_STARTED:" iniziata una nuova partita",PLAY_AGAIN:"Vuoi giocare di nuovo?",WHICH_GAME:"Quale gioco?",WHICH_PLAYERS:"Quali giocatori?",THANKS_FOR_PLAYING:"Grazie per aver scelto di giocare con noi!",BUTTON_GO_TO_GAME:"Vai al gioco",BUTTON_GO_TO_JACKBOX:"Torna a jackbox.tv",BUTTON_PLAY_AGAIN:"Gioca di nuovo",BUTTON_SAME_PLAYERS:"Stessi giocatori",BUTTON_NEW_PLAYERS:"Nuovi giocatori",BUTTON_CHANGE_GAME:"Cambia gioco",BUTTON_NEXT_GAME:"Gioca {gameName}"},J9={AND:"E",OR:"O"},Z9={BUTTON_SKIP:"Salta",BUTTON_NEXT:"Avanti",BUTTON_DONE:"Iniziamo!"},Q9={NAME:"PUBBLICO"},eV={CART:{CHECK_OUT:"Vai al pagamento",EMPTY:"Il carrello  vuoto",TITLE:"Carrello",TOTAL:"Totale"}},tV={EPISODE_REPORT:"Segnala episodio",EPISODE_UNLOAD:"Rimuovi episodio",EPISODE_VIEW_AUTHOR:"Mostra autore",EPISODES_LOAD:"Carica un episodio in base al suo id:",EPISODES_MENU:"Menu Episodi",EPISODES_SELECT:"Oppure seleziona un episodio:",EPISODES_WARNING:"Attenzione: il contenuto generato dagli utenti non  classificato",INSTRUCTION:{CREATE_TITLE:"per prima cosa, inserisci un nome per lepisodio che contenga tutti i tuoi suggerimenti e premi crea.",LOAD:"creare o caricare?",PUBLISH:"pubblica il tuo episodio",TITLE:"dai un nome al tuo episodio",TOGGLE_VISIBILITY:"tocca per mostrare/nascondere suggerimenti",WRITE:"scrivi le tue definizioni"},WARNING:{DELETE:"Vuoi davvero eliminare questo episodio?",TOS:"Condividendo i contenuti, accetti le nostre [tos]Condizioni del servizio[/tos]",TOS_AGREE:"accetta e condividi"},BACK_TO_EPISODES:"torna agli episodi",BACK_TO_MENU:"torna al menu",CREATE_NEW_EPISODE:"crea un nuovo episodio",PREVIOUS_EPISODES:"episodi precedenti",PROMPT_ADD:"aggiungi suggerimento",PROMPT_PLACEHOLDER:"inserisci suggerimento",PROMPTS_COUNT_HIDDEN:"({count} nascosti)",TITLE_PLACEHOLDER:"inserisci un titolo"},rV={BROADCASTER:{SUBTEXT:"Il collegamento del tuo account con l'estensione per Twitch Jackbox Audience Kit  andato a buon fine.",WARNING:"L'IMPOSTAZIONE DEL PUBBLICO NON  ATTIVA PER QUESTA STANZA"},RECONNECTED:{TEXT:"RICONNESSO",SUBTEXT:"Buon divertimento!"},RECONNECTING:{CONTROLLER:{TEXT:"CONNESSIONE INTERROTTA",SUBTEXT:"Tentativo di riconnessione in corso ({attempt} di 5)"},GAME:{TEXT:"CONNESSIONE AL GIOCO INTERROTTA",SUBTEXT:"Resta in attesa mentre proviamo a riconnetterci"}},PAUSED:{TEXT:"IL GIOCO  IN PAUSA",SUBTEXT:"Qualsiasi cosa invii sar comunque inviata al gioco."}},nV={SHARE:"Condividi",COPY_TO_CLIPBOARD:"Copia negli appunti",COPIED:"Copiato"},iV={ACTION:j9,ALT:W9,ERROR:X9,LOADING:H9,LOBBY:Y9,POST_GAME:z9,SEPARATOR:J9,TUTORIAL:Z9,AUDIENCE:Q9,GALLERY:eV,UGC:tV,TOAST:rV,SHARE:nV},sV={BACK:"Zurck",CANCEL:"Abbrechen",CLOSE:"Schlieen",CONFIRM:"Besttigen",CREATE:"Erstellen",DELETE:"Lschen",DONE:"Fertig",EDIT:"Bearbeiten",OK:"OK",NEXT:"Weiter",NO:"Nein",PLAY:"Spielen",PUBLISH:"Verffentlichen",REMOVE:"Entfernen",RESET:"Neu starten",SUBMIT:"Abschicken",TRY_AGAIN:"Erneut versuchen",UNDO:"Rckgngig",YES:"Ja"},aV={UGC:{VISIBILITY_CONTROLLER_OFF:"Prompts auf Spielergerten verborgen",VISIBILITY_CONTROLLER_ON:"Prompts auf Spielergerten angezeigt",VISIBILITY_SCREEN_OFF:"Prompts auf Spielbildschirm verborgen",VISIBILITY_SCREEN_ON:"Prompts auf Spielbildschirm angezeigt"}},oV={DISCONNECTED:"Deine Verbindung wurde getrennt.",DRAWING_NOTHING:"Du musst irgendwas zeichnen!",PLAYER_KICKED:"Du wurdest von einem Moderator gekickt.",ROOM_DESTROYED:"Danke frs Spielen!",ROOM_DISCONNECTED:"Verbindung getrennt",TEXT_NAUGHTY:"Das kannst du leider nicht schreiben. Bitte nimm Rcksicht auf deine Mitspieler.",TEXT_NOTHING:"Du musst etwas eingeben!",TITLE:"Fehler"},uV="LADE",lV={JOINED_COUNT:"{count} von {maxPlayers} Spielern sind beigetreten",PLAYERS_NEEDED:"1 Spieler zum Starten bentigt | {count} Spieler zum Starten bentigt",WAITING_FOR_VIP:"Warten, bis {name} das Spiel startet",WAITING_FOR_GAMEPAD:"Warten, bis das Spiel startet",WAITING_FOR_NEW_GAME:"Warten, bis ein neues Spiel startet",GAME_STARTING:"Das Spiel beginnt",BUTTON_START:"Zum Starten drcken",BUTTON_CANCEL:"Zum Abbrechen drcken"},cV={GALLERY_LINK:"Galerie besuchen",NEW_GAME_STARTED:"Ein neues Spiel hat begonnen",PLAY_AGAIN:"Erneut spielen?",WHICH_GAME:"Welches Spiel?",WHICH_PLAYERS:"Welche Spieler?",THANKS_FOR_PLAYING:"Danke frs Spielen!",BUTTON_GO_TO_GAME:"Zum Spiel",BUTTON_GO_TO_JACKBOX:"Zurck zu jackbox.tv",BUTTON_PLAY_AGAIN:"Erneut spielen",BUTTON_SAME_PLAYERS:"Selbe Spieler",BUTTON_NEW_PLAYERS:"Neue Spieler",BUTTON_CHANGE_GAME:"Anderes Spiel",BUTTON_NEXT_GAME:"{gameName} spielen"},fV={AND:"UND",OR:"ODER"},hV={BUTTON_SKIP:"berspringen",BUTTON_NEXT:"Weiter",BUTTON_DONE:"Los geht's!"},pV={NAME:"PUBLIKUM"},dV={CART:{CHECK_OUT:"Kasse",EMPTY:"Dein Einkaufswagen ist leer",TITLE:"Einkaufswagen",TOTAL:"Gesamtsumme"}},_V={EPISODE_REPORT:"Episode melden",EPISODE_UNLOAD:"Episode deaktivieren",EPISODE_VIEW_AUTHOR:"Autor ansehen",EPISODES_LOAD:"Lade eine Episode ber dessen ID:",EPISODES_MENU:"Episoden-Men",EPISODES_SELECT:"Oder whle eine Episode aus:",EPISODES_WARNING:"Achtung: Von Nutzern erstellte Inhalte werden nicht auf Familientauglichkeit geprft",INSTRUCTION:{CREATE_TITLE:'Benenne als allererstes deine Episode, die alle deine Prompts enthalten wird und drcke dann "Erstellen".',LOAD:"Erstellen oder laden?",PUBLISH:"Verffentliche deine Episode",TITLE:"Benenne deine Episode",TOGGLE_VISIBILITY:"Drcken, um Prompts zu zeigen / zu verstecken",WRITE:"Schreibe deine Prompts"},WARNING:{DELETE:"Bist du sicher, dass du diese Episode lschen mchtest?",TOS:"Durch das Teilen von Inhalten stimmst du unseren [tos]Nutzungsbedingungen[/tos] zu",TOS_AGREE:"Zustimmen und teilen"},BACK_TO_EPISODES:"Zurck zu den Episoden",BACK_TO_MENU:"Zurck zum Men",CREATE_NEW_EPISODE:"Eigene Episode erstellen",PREVIOUS_EPISODES:"Vorige Episoden",PROMPT_ADD:"Prompt hinzufgen",PROMPT_PLACEHOLDER:"Prompt eingeben",PROMPTS_COUNT_HIDDEN:"({count} versteckt)",TITLE_PLACEHOLDER:"Titel eingeben"},mV={BROADCASTER:{SUBTEXT:"Du hast dein Konto erfolgreich mit der Jackbox Audience Kit Twitch-Erweiterung verknpft.",WARNING:"FR DIESEN RAUM IST DIE PUBLIKUMS-EINSTELLUNG NICHT AKTIV"},RECONNECTED:{TEXT:"NEU VERBUNDEN",SUBTEXT:"Viel Spa!"},RECONNECTING:{CONTROLLER:{TEXT:"VERBINDUNG UNTERBROCHEN",SUBTEXT:"Versuche neu zu verbinden ({attempt} von 5)"},GAME:{TEXT:"VERBINDUNG ZUM SPIEL UNTERBROCHEN",SUBTEXT:"Bitte warte whrend wir versuchen, die Verbindung wiederherzustellen."}},PAUSED:{TEXT:"DAS SPIEL IST PAUSIERT",SUBTEXT:"Alles, was du abschickst, wird weiterhin ans Spiel gesendet."}},gV={SHARE:"Teilen",COPY_TO_CLIPBOARD:"In Zwischenablage kopieren",COPIED:"Kopiert"},EV={ACTION:sV,ALT:aV,ERROR:oV,LOADING:uV,LOBBY:lV,POST_GAME:cV,SEPARATOR:fV,TUTORIAL:hV,AUDIENCE:pV,GALLERY:dV,UGC:_V,TOAST:mV,SHARE:gV},vV={BACK:"Atrs",CANCEL:"Cancelar",CLOSE:"Cerrar",CONFIRM:"Confirmar",CREATE:"Crear",DELETE:"Borrar",DONE:"Hecho",EDIT:"Editar",OK:"Aceptar",NEXT:"Siguiente",NO:"No",PLAY:"Jugar",PUBLISH:"Publicar",REMOVE:"Eliminar",RESET:"Reiniciar",SUBMIT:"Enviar",TRY_AGAIN:"Volver a intentarlo",UNDO:"Deshacer",YES:"S"},yV={UGC:{VISIBILITY_CONTROLLER_OFF:"los enunciados no se muestran en el dispositivo del jugador",VISIBILITY_CONTROLLER_ON:"los enunciados se muestran en el dispositivo del jugador",VISIBILITY_SCREEN_OFF:"los enunciados no se muestran en la pantalla",VISIBILITY_SCREEN_ON:"los enunciados se muestran en la pantalla"}},TV={DISCONNECTED:"Te has desconectado.",DRAWING_NOTHING:"Tienes que dibujar algo!",PLAYER_KICKED:"Un moderador te ha expulsado de la partida.",ROOM_DESTROYED:"Gracias por jugar!",ROOM_DISCONNECTED:"Desconectado",TEXT_NAUGHTY:"Lo siento, no puedes escribir eso. Hay que ser respetuoso con los dems jugadores.",TEXT_NOTHING:"Tienes que escribir algo",TITLE:"Error"},bV="CARGANDO",RV={JOINED_COUNT:"Se han unido {count} de {maxPlayers} jugadores",PLAYERS_NEEDED:"Se necesita 1 jugador para empezar | Se necesitan {count} jugadores para empezar",WAITING_FOR_VIP:"Esperando a que {name} inicie la partida",WAITING_FOR_GAMEPAD:"Esperando a que empiece la partida",WAITING_FOR_NEW_GAME:"Esperando a que empiece otra partida",GAME_STARTING:"La partida va a empezar",BUTTON_START:"Pulsa para empezar",BUTTON_CANCEL:"Pulsa para cancelar"},xV={GALLERY_LINK:"Visita la galera",NEW_GAME_STARTED:"Ha empezado una nueva partida",PLAY_AGAIN:"Jugar otra vez?",WHICH_GAME:"Qu juego?",WHICH_PLAYERS:"Qu jugadores?",THANKS_FOR_PLAYING:"Gracias por jugar!",BUTTON_GO_TO_GAME:"Ir a al juego",BUTTON_GO_TO_JACKBOX:"Volver a jackbox.tv",BUTTON_PLAY_AGAIN:"Jugar de nuevo",BUTTON_SAME_PLAYERS:"Los mismos jugadores",BUTTON_NEW_PLAYERS:"Nuevos jugadores",BUTTON_CHANGE_GAME:"Cambiar de juego",BUTTON_NEXT_GAME:"Jugar a {gameName}"},SV={AND:"Y",OR:"O"},CV={BUTTON_SKIP:"Omitir",BUTTON_NEXT:"Siguiente",BUTTON_DONE:"Vamos!"},AV={NAME:"PBLICO"},LV={CART:{CHECK_OUT:"Pagar",EMPTY:"El carrito est vaco",TITLE:"Carrito de la compra",TOTAL:"Total"}},wV={EPISODE_REPORT:"Denunciar episodio",EPISODE_UNLOAD:"Retirar episodio",EPISODE_VIEW_AUTHOR:"Ver autor",EPISODES_LOAD:"Cargar un episodio por ID:",EPISODES_MENU:"Men de episodios",EPISODES_SELECT:"O selecciona un episodio:",EPISODES_WARNING:"Aviso: El contenido de los usuarios no tiene clasificacin de edad",INSTRUCTION:{CREATE_TITLE:"en primer lugar, ponle un nombre al episodio que contendr tus enunciados y dale a crear.",LOAD:"crear o cargar?",PUBLISH:"publica tu episodio",TITLE:"ponle nombre al episodio",TOGGLE_VISIBILITY:"toca para mostrar u ocultar los enunciados",WRITE:"escribe los enunciados"},WARNING:{DELETE:"Seguro que quieres borrar este episodio?",TOS:"Al compartir contenidos, aceptas las [tos]Condiciones del servicio[/tos]",TOS_AGREE:"aceptar y compartir"},BACK_TO_EPISODES:"volver a los episodios",BACK_TO_MENU:"volver al men",CREATE_NEW_EPISODE:"crear nuevo episodio",PREVIOUS_EPISODES:"episodios anteriores",PROMPT_ADD:"aadir enunciado",PROMPT_PLACEHOLDER:"escribe un enunciado",PROMPTS_COUNT_HIDDEN:"({count} ocultos)",TITLE_PLACEHOLDER:"escribe un ttulo"},OV={BROADCASTER:{SUBTEXT:"Has conectado tu cuenta con xito a la extensin de Twitch del kit para pblico de Jackbox.",WARNING:"ESTA SALA NO TIENE LA FUNCIN DE PBLICO HABILITADA"},RECONNECTED:{TEXT:"CONEXIN RESTABLECIDA",SUBTEXT:"Divirtete!"},RECONNECTING:{CONTROLLER:{TEXT:"SE HA INTERRUMPIDO LA CONEXIN",SUBTEXT:"Recuperando conexin (intento {attempt} de 5)"},GAME:{TEXT:"SE HA INTERRUMPIDO LA CONEXIN CON EL JUEGO",SUBTEXT:"Espera mientras intentamos recuperar la conexin"}},PAUSED:{TEXT:"PARTIDA EN PAUSA",SUBTEXT:"Tus respuestas se enviarn igualmente al juego."}},IV={SHARE:"Compartir",COPY_TO_CLIPBOARD:"Copiar al portapapeles",COPIED:"Copiado"},NV={ACTION:vV,ALT:yV,ERROR:TV,LOADING:bV,LOBBY:RV,POST_GAME:xV,SEPARATOR:SV,TUTORIAL:CV,AUDIENCE:AV,GALLERY:LV,UGC:wV,TOAST:OV,SHARE:IV},PV={BACK:"Volver",CANCEL:"Cancelar",CLOSE:"Cerrar",CONFIRM:"Confirmar",CREATE:"Crear",DELETE:"Borrar",DONE:"Listo",EDIT:"Editar",OK:"Aceptar",NEXT:"Siguiente",NO:"No",PLAY:"Jugar",PUBLISH:"Publicar",REMOVE:"Quitar",RESET:"Reiniciar",SUBMIT:"Enviar",TRY_AGAIN:"Volver a intentarlo",UNDO:"Deshacer",YES:"S"},kV={UGC:{VISIBILITY_CONTROLLER_OFF:"indicaciones ocultas en los dispositivos de los jugadores",VISIBILITY_CONTROLLER_ON:"indicaciones presentes en los dispositivos de los jugadores",VISIBILITY_SCREEN_OFF:"indicaciones ocultas en la pantalla del juego",VISIBILITY_SCREEN_ON:"indicaciones presentes en la pantalla del juego"}},DV={DISCONNECTED:"Te desconectaste.",DRAWING_NOTHING:"Tienes que dibujar algo!",PLAYER_KICKED:"Un moderador te expuls del juego.",ROOM_DESTROYED:"Gracias por jugar!",ROOM_DISCONNECTED:"Desconectado",TEXT_NAUGHTY:"Lo siento, no puedes escribir eso. Seamos respetuosos con los dems participantes.",TEXT_NOTHING:"Tienes que escribir algo!",TITLE:"Error"},BV="CARGANDO",UV={JOINED_COUNT:"{count} de {maxPlayers} jugadores se unieron",PLAYERS_NEEDED:"Se necesita 1 jugador para empezar | Se necesitan {count} jugadores para empezar",WAITING_FOR_VIP:"Esperando a que {name} inicie la partida",WAITING_FOR_GAMEPAD:"Esperando a que empiece la partida",WAITING_FOR_NEW_GAME:"Esperando a que empiece una partida nueva",GAME_STARTING:"La partida va a empezar",BUTTON_START:"Pulsa para empezar",BUTTON_CANCEL:"Pulsa para cancelar"},MV={GALLERY_LINK:"Visita la galera",NEW_GAME_STARTED:"Una partida nueva ha empezado",PLAY_AGAIN:"Jugar de nuevo?",WHICH_GAME:"Qu juego?",WHICH_PLAYERS:"Cules jugadores?",THANKS_FOR_PLAYING:"Gracias por jugar!",BUTTON_GO_TO_GAME:"Ir a la partida",BUTTON_GO_TO_JACKBOX:"Volver a jackbox.tv",BUTTON_PLAY_AGAIN:"Jugar de nuevo",BUTTON_SAME_PLAYERS:"Los mismos jugadores",BUTTON_NEW_PLAYERS:"Nuevos jugadores",BUTTON_CHANGE_GAME:"Cambiar de juego",BUTTON_NEXT_GAME:"Jugar a {gameName}"},KV={AND:"Y",OR:"O"},$V={BUTTON_SKIP:"Omitir",BUTTON_NEXT:"Siguiente",BUTTON_DONE:"Vamos!"},VV={NAME:"PBLICO"},FV={CART:{CHECK_OUT:"Comprar ahora",EMPTY:"Tu carrito est vaco",TITLE:"Carrito de compras",TOTAL:"Total"}},qV={EPISODE_REPORT:"Denunciar episodio",EPISODE_UNLOAD:"Descargar episodio",EPISODE_VIEW_AUTHOR:"Ver autor",EPISODES_LOAD:"Cargar un episodio por ID:",EPISODES_MENU:"Men de episodios",EPISODES_SELECT:"O selecciona un episodio:",EPISODES_WARNING:"Aviso: El contenido de los usuarios no tiene clasificacin por edades",INSTRUCTION:{CREATE_TITLE:"Lo primero que debes hacer es escribir un nombre para el episodio que contendr todas sus indicaciones y pulsar crear.",LOAD:"Crear o cargar?",PUBLISH:"Publica tu episodio",TITLE:"Nombra tu episodio",TOGGLE_VISIBILITY:"Pulsa para mostrar/ocultar las indicaciones",WRITE:"Escribe tus indicaciones"},WARNING:{DELETE:"De verdad quieres borrar este episodio?",TOS:"Al compartir contenido, aceptas nuestros [tos]Trminos de servicio[/tos]",TOS_AGREE:"Aceptar y compartir"},BACK_TO_EPISODES:"Volver a los episodios",BACK_TO_MENU:"Volver al men",CREATE_NEW_EPISODE:"Crear un nuevo episodio",PREVIOUS_EPISODES:"Episodios anteriores",PROMPT_ADD:"Aadir indicacin",PROMPT_PLACEHOLDER:"Escribe una indicacin",PROMPTS_COUNT_HIDDEN:"({count} oculto(s))",TITLE_PLACEHOLDER:"Escribir un ttulo"},GV={BROADCASTER:{SUBTEXT:"Conectaste correctamente tu cuenta a la extensin para Twitch del kit para pblico de Jackbox.",WARNING:"ESTA SALA NO TIENE ACTIVADA LA OPCIN DE PBLICO"},RECONNECTED:{TEXT:"CONEXIN RESTABLECIDA",SUBTEXT:"Divirtete!"},RECONNECTING:{CONTROLLER:{TEXT:"CONEXIN INTERRUMPIDA",SUBTEXT:"Intento de reconexin ({attempt} de 5)"},GAME:{TEXT:"SE INTERRUMPI LA CONEXIN AL JUEGO",SUBTEXT:"Espera mientras intentamos restablecer la conexin"}},PAUSED:{TEXT:"EL JUEGO EST EN PAUSA",SUBTEXT:"Todo lo que ingreses ser enviado al juego."}},jV={SHARE:"Compartir",COPY_TO_CLIPBOARD:"Copiar al portapapeles",COPIED:"Se copi"},WV={ACTION:PV,ALT:kV,ERROR:DV,LOADING:BV,LOBBY:UV,POST_GAME:MV,SEPARATOR:KV,TUTORIAL:$V,AUDIENCE:VV,GALLERY:FV,UGC:qV,TOAST:GV,SHARE:jV},XV={BACK:"Voltar",CANCEL:"Cancelar",CLOSE:"Fechar",CONFIRM:"Confirmar",CREATE:"Criar",DELETE:"Excluir",DONE:"Pronto",EDIT:"Editar",OK:"OK",NEXT:"Avanar",NO:"No",PLAY:"Jogar",PUBLISH:"Publicar",REMOVE:"Remover",RESET:"Redefinir",SUBMIT:"Enviar",TRY_AGAIN:"Tentar de novo",UNDO:"Desfazer",YES:"Sim"},HV={UGC:{VISIBILITY_CONTROLLER_OFF:"enunciados ocultos no dispositivo dos jogadores",VISIBILITY_CONTROLLER_ON:"enunciados exibidos no dispositivo dos jogadores",VISIBILITY_SCREEN_OFF:"enunciados ocultos na tela do jogo",VISIBILITY_SCREEN_ON:"enunciados exibidos na tela do jogo"}},YV={DISCONNECTED:"Voc foi desconectado.",DRAWING_NOTHING:"Voc tem que desenhar!",PLAYER_KICKED:"Voc foi expulso do jogo por um moderador.",ROOM_DESTROYED:"Obrigado por jogar!",ROOM_DISCONNECTED:"Desconectado",TEXT_NAUGHTY:"No pode escrever isso. Respeite os outros jogadores.",TEXT_NOTHING:"No d para inserir texto vazio!",TITLE:"Erro"},zV="CARREGANDO",JV={JOINED_COUNT:"{count} de {maxPlayers} jogadores entraram",PLAYERS_NEEDED:"1 jogador necessrio para comear | {count} jogadores necessrios para comear",WAITING_FOR_VIP:"Aguardando {name} comear o jogo",WAITING_FOR_GAMEPAD:"Aguardando o comeo do jogo",WAITING_FOR_NEW_GAME:"Aguardando o comeo de uma nova partida",GAME_STARTING:"O jogo est comeando",BUTTON_START:"Aperte para comear",BUTTON_CANCEL:"Aperte para cancelar"},ZV={GALLERY_LINK:"Visitar a galeria",NEW_GAME_STARTED:"Comeou uma nova partida",PLAY_AGAIN:"Jogar de novo?",WHICH_GAME:"Qual jogo?",WHICH_PLAYERS:"Quais jogadores?",THANKS_FOR_PLAYING:"Obrigado por jogar!",BUTTON_GO_TO_GAME:"Ir para o jogo",BUTTON_GO_TO_JACKBOX:"Voltar para jackbox.tv",BUTTON_PLAY_AGAIN:"Jogar de novo",BUTTON_SAME_PLAYERS:"Mesmos jogadores",BUTTON_NEW_PLAYERS:"Outros jogadores",BUTTON_CHANGE_GAME:"Trocar de jogo",BUTTON_NEXT_GAME:"Jogar {gameName}"},QV={AND:"E",OR:"OU"},eF={BUTTON_SKIP:"Pular",BUTTON_NEXT:"Avanar",BUTTON_DONE:"Vamos l!"},tF={NAME:"PLATEIA"},rF={CART:{CHECK_OUT:"Finalizar",EMPTY:"Seu carrinho est vazio",TITLE:"Carrinho de Compras",TOTAL:"Total"}},nF={EPISODE_REPORT:"Denunciar episdio",EPISODE_UNLOAD:"Excluir cpia local do episdio",EPISODE_VIEW_AUTHOR:"Visualizar autor",EPISODES_LOAD:"Carregar um episdio por ID:",EPISODES_MENU:"Menu de episdios",EPISODES_SELECT:"Ou selecione um episdio:",EPISODES_WARNING:"Aviso: os contedos gerados pelos usurios no tm classificao indicativa",INSTRUCTION:{CREATE_TITLE:"para comear, insira o nome do episdio que conter todos os seus enunciados e aperte Criar.",LOAD:"criar ou carregar?",PUBLISH:"publicar seu episdio",TITLE:"d um nome ao seu episdio",TOGGLE_VISIBILITY:"toque para exibir/ocultar enunciados",WRITE:"escreva seus enunciados"},WARNING:{DELETE:"Deseja mesmo excluir este episdio?",TOS:"Ao compartilhar contedo, voc concordar com os nossos [tos]Termos de Servio[/tos]",TOS_AGREE:"concordar e compartilhar"},BACK_TO_EPISODES:"voltar aos episdios",BACK_TO_MENU:"voltar ao menu",CREATE_NEW_EPISODE:"criar novo episdio",PREVIOUS_EPISODES:"episdios anteriores",PROMPT_ADD:"adicionar enunciado",PROMPT_PLACEHOLDER:"insira um enunciado",PROMPTS_COUNT_HIDDEN:"({count} oculto[s])",TITLE_PLACEHOLDER:"insira um ttulo"},iF={BROADCASTER:{SUBTEXT:"Voc conectou sua conta  extenso Jackbox Audience Kit para Twitch.",WARNING:"A CONFIGURAO DE PLATEIA NO EST ATIVA NESTA SALA"},RECONNECTED:{TEXT:"CONEXO RESTABELECIDA",SUBTEXT:"Divirtam-se!"},RECONNECTING:{CONTROLLER:{TEXT:"CONEXO INTERROMPIDA",SUBTEXT:"Tentando reconectar-se ({attempt} de 5)"},GAME:{TEXT:"CONEXO DO JOGO INTERROMPIDA",SUBTEXT:"Aguarde enquanto tentamos restabelecer a conexo"}},PAUSED:{TEXT:"O JOGO EST PAUSADO",SUBTEXT:"Tudo que voc enviar ainda ser enviado ao jogo."}},sF={SHARE:"Compartilhar",COPY_TO_CLIPBOARD:"Copiar para rea de transferncia",COPIED:"Copiado"},aF={ACTION:XV,ALT:HV,ERROR:YV,LOADING:zV,LOBBY:JV,POST_GAME:ZV,SEPARATOR:QV,TUTORIAL:eF,AUDIENCE:tF,GALLERY:rF,UGC:nF,TOAST:iF,SHARE:sF},oF={en:O9,fr:G9,it:iV,de:EV,es:NV,"es-XL":WV,"pt-BR":aF};var sl={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var uF=sl.exports,_A;function lF(){return _A||(_A=1,function(t,e){(function(){var n,i="4.17.21",s=200,a="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",r="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",d=1,g=2,E=4,v=1,S=2,x=1,A=2,w=4,I=8,C=16,R=32,_=64,L=128,b=256,O=512,k=30,j="...",B=800,ae=16,fe=1,G=2,re=3,ce=1/0,he=9007199254740991,we=17976931348623157e292,Ae=NaN,ye=4294967295,W=ye-1,pe=ye>>>1,He=[["ary",L],["bind",x],["bindKey",A],["curry",I],["curryRight",C],["flip",O],["partial",R],["partialRight",_],["rearg",b]],je="[object Arguments]",ot="[object Array]",xt="[object AsyncFunction]",Me="[object Boolean]",pt="[object Date]",Ze="[object DOMException]",_t="[object Error]",H="[object Function]",Q="[object GeneratorFunction]",z="[object Map]",J="[object Number]",_e="[object Null]",ge="[object Object]",Ie="[object Promise]",Re="[object Proxy]",D="[object RegExp]",M="[object Set]",de="[object String]",Te="[object Symbol]",Ge="[object Undefined]",Ue="[object WeakMap]",ve="[object WeakSet]",Le="[object ArrayBuffer]",Je="[object DataView]",X="[object Float32Array]",q="[object Float64Array]",se="[object Int8Array]",F="[object Int16Array]",ie="[object Int32Array]",xe="[object Uint8Array]",ke="[object Uint8ClampedArray]",Z="[object Uint16Array]",le="[object Uint32Array]",Ye=/\b__p \+= '';/g,We=/\b(__p \+=) '' \+/g,Xe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Et=/&(?:amp|lt|gt|quot|#39);/g,fn=/[&<>"']/g,Bn=RegExp(Et.source),Dr=RegExp(fn.source),Sn=/<%-([\s\S]+?)%>/g,us=/<%([\s\S]+?)%>/g,Zn=/<%=([\s\S]+?)%>/g,qr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fi=/^\w*$/,vo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,At=/[\\^$.*+?()[\]{}|]/g,gi=RegExp(At.source),dr=/^\s+/,ls=/\s/,Pa=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ka=/\{\n\/\* \[wrapped with (.+)\] \*/,qi=/,? & /,Jr=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qs=/[()=,{}\[\]\/\s]/,yo=/\\(\\)?/g,cs=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Qn=/\w*$/,To=/^[-+]0x[0-9a-f]+$/i,Gi=/^0b[01]+$/i,Ei=/^\[object .+?Constructor\]$/,fs=/^0o[0-7]+$/i,bo=/^(?:0|[1-9]\d*)$/,Oe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Gs=/($^)/,qh=/['\n\r\u2028\u2029\\]/g,js="\\ud800-\\udfff",Ws="\\u0300-\\u036f",Gh="\\ufe20-\\ufe2f",jh="\\u20d0-\\u20ff",ec=Ws+Gh+jh,tc="\\u2700-\\u27bf",rc="a-z\\xdf-\\xf6\\xf8-\\xff",m="\\xac\\xb1\\xd7\\xf7",T="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",P="\\u2000-\\u206f",K=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ne="A-Z\\xc0-\\xd6\\xd8-\\xde",ue="\\ufe0e\\ufe0f",Se=m+T+P+K,Fe="[']",Ne="["+js+"]",Ve="["+Se+"]",ze="["+ec+"]",ut="\\d+",$e="["+tc+"]",it="["+rc+"]",st="[^"+js+Se+ut+tc+rc+ne+"]",Vt="\\ud83c[\\udffb-\\udfff]",Lt="(?:"+ze+"|"+Vt+")",Er="[^"+js+"]",sr="(?:\\ud83c[\\udde6-\\uddff]){2}",ei="[\\ud800-\\udbff][\\udc00-\\udfff]",ti="["+ne+"]",vi="\\u200d",nc="(?:"+it+"|"+st+")",hs="(?:"+ti+"|"+st+")",yi="(?:"+Fe+"(?:d|ll|m|re|s|t|ve))?",Zr="(?:"+Fe+"(?:D|LL|M|RE|S|T|VE))?",tT=Lt+"?",rT="["+ue+"]?",bD="(?:"+vi+"(?:"+[Er,sr,ei].join("|")+")"+rT+tT+")*",RD="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xD="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",nT=rT+tT+bD,SD="(?:"+[$e,sr,ei].join("|")+")"+nT,CD="(?:"+[Er+ze+"?",ze,sr,ei,Ne].join("|")+")",AD=RegExp(Fe,"g"),LD=RegExp(ze,"g"),Wh=RegExp(Vt+"(?="+Vt+")|"+CD+nT,"g"),wD=RegExp([ti+"?"+it+"+"+yi+"(?="+[Ve,ti,"$"].join("|")+")",hs+"+"+Zr+"(?="+[Ve,ti+nc,"$"].join("|")+")",ti+"?"+nc+"+"+yi,ti+"+"+Zr,xD,RD,ut,SD].join("|"),"g"),OD=RegExp("["+vi+js+ec+ue+"]"),ID=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ND=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],PD=-1,cr={};cr[X]=cr[q]=cr[se]=cr[F]=cr[ie]=cr[xe]=cr[ke]=cr[Z]=cr[le]=!0,cr[je]=cr[ot]=cr[Le]=cr[Me]=cr[Je]=cr[pt]=cr[_t]=cr[H]=cr[z]=cr[J]=cr[ge]=cr[D]=cr[M]=cr[de]=cr[Ue]=!1;var ar={};ar[je]=ar[ot]=ar[Le]=ar[Je]=ar[Me]=ar[pt]=ar[X]=ar[q]=ar[se]=ar[F]=ar[ie]=ar[z]=ar[J]=ar[ge]=ar[D]=ar[M]=ar[de]=ar[Te]=ar[xe]=ar[ke]=ar[Z]=ar[le]=!0,ar[_t]=ar[H]=ar[Ue]=!1;var kD={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},DD={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},BD={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},UD={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},MD=parseFloat,KD=parseInt,iT=typeof br=="object"&&br&&br.Object===Object&&br,$D=typeof self=="object"&&self&&self.Object===Object&&self,Qr=iT||$D||Function("return this")(),Xh=e&&!e.nodeType&&e,Da=Xh&&!0&&t&&!t.nodeType&&t,sT=Da&&Da.exports===Xh,Hh=sT&&iT.process,ri=function(){try{var me=Da&&Da.require&&Da.require("util").types;return me||Hh&&Hh.binding&&Hh.binding("util")}catch{}}(),aT=ri&&ri.isArrayBuffer,oT=ri&&ri.isDate,uT=ri&&ri.isMap,lT=ri&&ri.isRegExp,cT=ri&&ri.isSet,fT=ri&&ri.isTypedArray;function Un(me,Pe,Ce){switch(Ce.length){case 0:return me.call(Pe);case 1:return me.call(Pe,Ce[0]);case 2:return me.call(Pe,Ce[0],Ce[1]);case 3:return me.call(Pe,Ce[0],Ce[1],Ce[2])}return me.apply(Pe,Ce)}function VD(me,Pe,Ce,at){for(var Ot=-1,Gt=me==null?0:me.length;++Ot<Gt;){var Br=me[Ot];Pe(at,Br,Ce(Br),me)}return at}function ni(me,Pe){for(var Ce=-1,at=me==null?0:me.length;++Ce<at&&Pe(me[Ce],Ce,me)!==!1;);return me}function FD(me,Pe){for(var Ce=me==null?0:me.length;Ce--&&Pe(me[Ce],Ce,me)!==!1;);return me}function hT(me,Pe){for(var Ce=-1,at=me==null?0:me.length;++Ce<at;)if(!Pe(me[Ce],Ce,me))return!1;return!0}function Xs(me,Pe){for(var Ce=-1,at=me==null?0:me.length,Ot=0,Gt=[];++Ce<at;){var Br=me[Ce];Pe(Br,Ce,me)&&(Gt[Ot++]=Br)}return Gt}function ic(me,Pe){var Ce=me==null?0:me.length;return!!Ce&&Ro(me,Pe,0)>-1}function Yh(me,Pe,Ce){for(var at=-1,Ot=me==null?0:me.length;++at<Ot;)if(Ce(Pe,me[at]))return!0;return!1}function _r(me,Pe){for(var Ce=-1,at=me==null?0:me.length,Ot=Array(at);++Ce<at;)Ot[Ce]=Pe(me[Ce],Ce,me);return Ot}function Hs(me,Pe){for(var Ce=-1,at=Pe.length,Ot=me.length;++Ce<at;)me[Ot+Ce]=Pe[Ce];return me}function zh(me,Pe,Ce,at){var Ot=-1,Gt=me==null?0:me.length;for(at&&Gt&&(Ce=me[++Ot]);++Ot<Gt;)Ce=Pe(Ce,me[Ot],Ot,me);return Ce}function qD(me,Pe,Ce,at){var Ot=me==null?0:me.length;for(at&&Ot&&(Ce=me[--Ot]);Ot--;)Ce=Pe(Ce,me[Ot],Ot,me);return Ce}function Jh(me,Pe){for(var Ce=-1,at=me==null?0:me.length;++Ce<at;)if(Pe(me[Ce],Ce,me))return!0;return!1}var GD=Zh("length");function jD(me){return me.split("")}function WD(me){return me.match(Jr)||[]}function pT(me,Pe,Ce){var at;return Ce(me,function(Ot,Gt,Br){if(Pe(Ot,Gt,Br))return at=Gt,!1}),at}function sc(me,Pe,Ce,at){for(var Ot=me.length,Gt=Ce+(at?1:-1);at?Gt--:++Gt<Ot;)if(Pe(me[Gt],Gt,me))return Gt;return-1}function Ro(me,Pe,Ce){return Pe===Pe?i3(me,Pe,Ce):sc(me,dT,Ce)}function XD(me,Pe,Ce,at){for(var Ot=Ce-1,Gt=me.length;++Ot<Gt;)if(at(me[Ot],Pe))return Ot;return-1}function dT(me){return me!==me}function _T(me,Pe){var Ce=me==null?0:me.length;return Ce?ep(me,Pe)/Ce:Ae}function Zh(me){return function(Pe){return Pe==null?n:Pe[me]}}function Qh(me){return function(Pe){return me==null?n:me[Pe]}}function mT(me,Pe,Ce,at,Ot){return Ot(me,function(Gt,Br,tr){Ce=at?(at=!1,Gt):Pe(Ce,Gt,Br,tr)}),Ce}function HD(me,Pe){var Ce=me.length;for(me.sort(Pe);Ce--;)me[Ce]=me[Ce].value;return me}function ep(me,Pe){for(var Ce,at=-1,Ot=me.length;++at<Ot;){var Gt=Pe(me[at]);Gt!==n&&(Ce=Ce===n?Gt:Ce+Gt)}return Ce}function tp(me,Pe){for(var Ce=-1,at=Array(me);++Ce<me;)at[Ce]=Pe(Ce);return at}function YD(me,Pe){return _r(Pe,function(Ce){return[Ce,me[Ce]]})}function gT(me){return me&&me.slice(0,TT(me)+1).replace(dr,"")}function Mn(me){return function(Pe){return me(Pe)}}function rp(me,Pe){return _r(Pe,function(Ce){return me[Ce]})}function Ou(me,Pe){return me.has(Pe)}function ET(me,Pe){for(var Ce=-1,at=me.length;++Ce<at&&Ro(Pe,me[Ce],0)>-1;);return Ce}function vT(me,Pe){for(var Ce=me.length;Ce--&&Ro(Pe,me[Ce],0)>-1;);return Ce}function zD(me,Pe){for(var Ce=me.length,at=0;Ce--;)me[Ce]===Pe&&++at;return at}var JD=Qh(kD),ZD=Qh(DD);function QD(me){return"\\"+UD[me]}function e3(me,Pe){return me==null?n:me[Pe]}function xo(me){return OD.test(me)}function t3(me){return ID.test(me)}function r3(me){for(var Pe,Ce=[];!(Pe=me.next()).done;)Ce.push(Pe.value);return Ce}function np(me){var Pe=-1,Ce=Array(me.size);return me.forEach(function(at,Ot){Ce[++Pe]=[Ot,at]}),Ce}function yT(me,Pe){return function(Ce){return me(Pe(Ce))}}function Ys(me,Pe){for(var Ce=-1,at=me.length,Ot=0,Gt=[];++Ce<at;){var Br=me[Ce];(Br===Pe||Br===h)&&(me[Ce]=h,Gt[Ot++]=Ce)}return Gt}function ac(me){var Pe=-1,Ce=Array(me.size);return me.forEach(function(at){Ce[++Pe]=at}),Ce}function n3(me){var Pe=-1,Ce=Array(me.size);return me.forEach(function(at){Ce[++Pe]=[at,at]}),Ce}function i3(me,Pe,Ce){for(var at=Ce-1,Ot=me.length;++at<Ot;)if(me[at]===Pe)return at;return-1}function s3(me,Pe,Ce){for(var at=Ce+1;at--;)if(me[at]===Pe)return at;return at}function So(me){return xo(me)?o3(me):GD(me)}function Ti(me){return xo(me)?u3(me):jD(me)}function TT(me){for(var Pe=me.length;Pe--&&ls.test(me.charAt(Pe)););return Pe}var a3=Qh(BD);function o3(me){for(var Pe=Wh.lastIndex=0;Wh.test(me);)++Pe;return Pe}function u3(me){return me.match(Wh)||[]}function l3(me){return me.match(wD)||[]}var c3=function me(Pe){Pe=Pe==null?Qr:Co.defaults(Qr.Object(),Pe,Co.pick(Qr,ND));var Ce=Pe.Array,at=Pe.Date,Ot=Pe.Error,Gt=Pe.Function,Br=Pe.Math,tr=Pe.Object,ip=Pe.RegExp,f3=Pe.String,ii=Pe.TypeError,oc=Ce.prototype,h3=Gt.prototype,Ao=tr.prototype,uc=Pe["__core-js_shared__"],lc=h3.toString,Yt=Ao.hasOwnProperty,p3=0,bT=function(){var o=/[^.]+$/.exec(uc&&uc.keys&&uc.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),cc=Ao.toString,d3=lc.call(tr),_3=Qr._,m3=ip("^"+lc.call(Yt).replace(At,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),fc=sT?Pe.Buffer:n,zs=Pe.Symbol,hc=Pe.Uint8Array,RT=fc?fc.allocUnsafe:n,pc=yT(tr.getPrototypeOf,tr),xT=tr.create,ST=Ao.propertyIsEnumerable,dc=oc.splice,CT=zs?zs.isConcatSpreadable:n,Iu=zs?zs.iterator:n,Ba=zs?zs.toStringTag:n,_c=function(){try{var o=Va(tr,"defineProperty");return o({},"",{}),o}catch{}}(),g3=Pe.clearTimeout!==Qr.clearTimeout&&Pe.clearTimeout,E3=at&&at.now!==Qr.Date.now&&at.now,v3=Pe.setTimeout!==Qr.setTimeout&&Pe.setTimeout,mc=Br.ceil,gc=Br.floor,sp=tr.getOwnPropertySymbols,y3=fc?fc.isBuffer:n,AT=Pe.isFinite,T3=oc.join,b3=yT(tr.keys,tr),Ur=Br.max,sn=Br.min,R3=at.now,x3=Pe.parseInt,LT=Br.random,S3=oc.reverse,ap=Va(Pe,"DataView"),Nu=Va(Pe,"Map"),op=Va(Pe,"Promise"),Lo=Va(Pe,"Set"),Pu=Va(Pe,"WeakMap"),ku=Va(tr,"create"),Ec=Pu&&new Pu,wo={},C3=Fa(ap),A3=Fa(Nu),L3=Fa(op),w3=Fa(Lo),O3=Fa(Pu),vc=zs?zs.prototype:n,Du=vc?vc.valueOf:n,wT=vc?vc.toString:n;function U(o){if(Sr(o)&&!Nt(o)&&!(o instanceof $t)){if(o instanceof si)return o;if(Yt.call(o,"__wrapped__"))return Ob(o)}return new si(o)}var Oo=function(){function o(){}return function(l){if(!vr(l))return{};if(xT)return xT(l);o.prototype=l;var p=new o;return o.prototype=n,p}}();function yc(){}function si(o,l){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}U.templateSettings={escape:Sn,evaluate:us,interpolate:Zn,variable:"",imports:{_:U}},U.prototype=yc.prototype,U.prototype.constructor=U,si.prototype=Oo(yc.prototype),si.prototype.constructor=si;function $t(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ye,this.__views__=[]}function I3(){var o=new $t(this.__wrapped__);return o.__actions__=Cn(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=Cn(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=Cn(this.__views__),o}function N3(){if(this.__filtered__){var o=new $t(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function P3(){var o=this.__wrapped__.value(),l=this.__dir__,p=Nt(o),y=l<0,N=p?o.length:0,$=jB(0,N,this.__views__),ee=$.start,oe=$.end,Ee=oe-ee,De=y?oe:ee-1,Be=this.__iteratees__,qe=Be.length,Qe=0,lt=sn(Ee,this.__takeCount__);if(!p||!y&&N==Ee&&lt==Ee)return QT(o,this.__actions__);var vt=[];e:for(;Ee--&&Qe<lt;){De+=l;for(var kt=-1,yt=o[De];++kt<qe;){var Kt=Be[kt],Ft=Kt.iteratee,Vn=Kt.type,dn=Ft(yt);if(Vn==G)yt=dn;else if(!dn){if(Vn==fe)continue e;break e}}vt[Qe++]=yt}return vt}$t.prototype=Oo(yc.prototype),$t.prototype.constructor=$t;function Ua(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var y=o[l];this.set(y[0],y[1])}}function k3(){this.__data__=ku?ku(null):{},this.size=0}function D3(o){var l=this.has(o)&&delete this.__data__[o];return this.size-=l?1:0,l}function B3(o){var l=this.__data__;if(ku){var p=l[o];return p===c?n:p}return Yt.call(l,o)?l[o]:n}function U3(o){var l=this.__data__;return ku?l[o]!==n:Yt.call(l,o)}function M3(o,l){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=ku&&l===n?c:l,this}Ua.prototype.clear=k3,Ua.prototype.delete=D3,Ua.prototype.get=B3,Ua.prototype.has=U3,Ua.prototype.set=M3;function ps(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var y=o[l];this.set(y[0],y[1])}}function K3(){this.__data__=[],this.size=0}function $3(o){var l=this.__data__,p=Tc(l,o);if(p<0)return!1;var y=l.length-1;return p==y?l.pop():dc.call(l,p,1),--this.size,!0}function V3(o){var l=this.__data__,p=Tc(l,o);return p<0?n:l[p][1]}function F3(o){return Tc(this.__data__,o)>-1}function q3(o,l){var p=this.__data__,y=Tc(p,o);return y<0?(++this.size,p.push([o,l])):p[y][1]=l,this}ps.prototype.clear=K3,ps.prototype.delete=$3,ps.prototype.get=V3,ps.prototype.has=F3,ps.prototype.set=q3;function ds(o){var l=-1,p=o==null?0:o.length;for(this.clear();++l<p;){var y=o[l];this.set(y[0],y[1])}}function G3(){this.size=0,this.__data__={hash:new Ua,map:new(Nu||ps),string:new Ua}}function j3(o){var l=Pc(this,o).delete(o);return this.size-=l?1:0,l}function W3(o){return Pc(this,o).get(o)}function X3(o){return Pc(this,o).has(o)}function H3(o,l){var p=Pc(this,o),y=p.size;return p.set(o,l),this.size+=p.size==y?0:1,this}ds.prototype.clear=G3,ds.prototype.delete=j3,ds.prototype.get=W3,ds.prototype.has=X3,ds.prototype.set=H3;function Ma(o){var l=-1,p=o==null?0:o.length;for(this.__data__=new ds;++l<p;)this.add(o[l])}function Y3(o){return this.__data__.set(o,c),this}function z3(o){return this.__data__.has(o)}Ma.prototype.add=Ma.prototype.push=Y3,Ma.prototype.has=z3;function bi(o){var l=this.__data__=new ps(o);this.size=l.size}function J3(){this.__data__=new ps,this.size=0}function Z3(o){var l=this.__data__,p=l.delete(o);return this.size=l.size,p}function Q3(o){return this.__data__.get(o)}function eB(o){return this.__data__.has(o)}function tB(o,l){var p=this.__data__;if(p instanceof ps){var y=p.__data__;if(!Nu||y.length<s-1)return y.push([o,l]),this.size=++p.size,this;p=this.__data__=new ds(y)}return p.set(o,l),this.size=p.size,this}bi.prototype.clear=J3,bi.prototype.delete=Z3,bi.prototype.get=Q3,bi.prototype.has=eB,bi.prototype.set=tB;function OT(o,l){var p=Nt(o),y=!p&&qa(o),N=!p&&!y&&ta(o),$=!p&&!y&&!N&&ko(o),ee=p||y||N||$,oe=ee?tp(o.length,f3):[],Ee=oe.length;for(var De in o)(l||Yt.call(o,De))&&!(ee&&(De=="length"||N&&(De=="offset"||De=="parent")||$&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||Es(De,Ee)))&&oe.push(De);return oe}function IT(o){var l=o.length;return l?o[Ep(0,l-1)]:n}function rB(o,l){return kc(Cn(o),Ka(l,0,o.length))}function nB(o){return kc(Cn(o))}function up(o,l,p){(p!==n&&!Ri(o[l],p)||p===n&&!(l in o))&&_s(o,l,p)}function Bu(o,l,p){var y=o[l];(!(Yt.call(o,l)&&Ri(y,p))||p===n&&!(l in o))&&_s(o,l,p)}function Tc(o,l){for(var p=o.length;p--;)if(Ri(o[p][0],l))return p;return-1}function iB(o,l,p,y){return Js(o,function(N,$,ee){l(y,N,p(N),ee)}),y}function NT(o,l){return o&&Wi(l,Gr(l),o)}function sB(o,l){return o&&Wi(l,Ln(l),o)}function _s(o,l,p){l=="__proto__"&&_c?_c(o,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[l]=p}function lp(o,l){for(var p=-1,y=l.length,N=Ce(y),$=o==null;++p<y;)N[p]=$?n:qp(o,l[p]);return N}function Ka(o,l,p){return o===o&&(p!==n&&(o=o<=p?o:p),l!==n&&(o=o>=l?o:l)),o}function ai(o,l,p,y,N,$){var ee,oe=l&d,Ee=l&g,De=l&E;if(p&&(ee=N?p(o,y,N,$):p(o)),ee!==n)return ee;if(!vr(o))return o;var Be=Nt(o);if(Be){if(ee=XB(o),!oe)return Cn(o,ee)}else{var qe=an(o),Qe=qe==H||qe==Q;if(ta(o))return rb(o,oe);if(qe==ge||qe==je||Qe&&!N){if(ee=Ee||Qe?{}:Tb(o),!oe)return Ee?BB(o,sB(ee,o)):DB(o,NT(ee,o))}else{if(!ar[qe])return N?o:{};ee=HB(o,qe,oe)}}$||($=new bi);var lt=$.get(o);if(lt)return lt;$.set(o,ee),zb(o)?o.forEach(function(yt){ee.add(ai(yt,l,p,yt,o,$))}):Hb(o)&&o.forEach(function(yt,Kt){ee.set(Kt,ai(yt,l,p,Kt,o,$))});var vt=De?Ee?wp:Lp:Ee?Ln:Gr,kt=Be?n:vt(o);return ni(kt||o,function(yt,Kt){kt&&(Kt=yt,yt=o[Kt]),Bu(ee,Kt,ai(yt,l,p,Kt,o,$))}),ee}function aB(o){var l=Gr(o);return function(p){return PT(p,o,l)}}function PT(o,l,p){var y=p.length;if(o==null)return!y;for(o=tr(o);y--;){var N=p[y],$=l[N],ee=o[N];if(ee===n&&!(N in o)||!$(ee))return!1}return!0}function kT(o,l,p){if(typeof o!="function")throw new ii(r);return qu(function(){o.apply(n,p)},l)}function Uu(o,l,p,y){var N=-1,$=ic,ee=!0,oe=o.length,Ee=[],De=l.length;if(!oe)return Ee;p&&(l=_r(l,Mn(p))),y?($=Yh,ee=!1):l.length>=s&&($=Ou,ee=!1,l=new Ma(l));e:for(;++N<oe;){var Be=o[N],qe=p==null?Be:p(Be);if(Be=y||Be!==0?Be:0,ee&&qe===qe){for(var Qe=De;Qe--;)if(l[Qe]===qe)continue e;Ee.push(Be)}else $(l,qe,y)||Ee.push(Be)}return Ee}var Js=ob(ji),DT=ob(fp,!0);function oB(o,l){var p=!0;return Js(o,function(y,N,$){return p=!!l(y,N,$),p}),p}function bc(o,l,p){for(var y=-1,N=o.length;++y<N;){var $=o[y],ee=l($);if(ee!=null&&(oe===n?ee===ee&&!$n(ee):p(ee,oe)))var oe=ee,Ee=$}return Ee}function uB(o,l,p,y){var N=o.length;for(p=Pt(p),p<0&&(p=-p>N?0:N+p),y=y===n||y>N?N:Pt(y),y<0&&(y+=N),y=p>y?0:Zb(y);p<y;)o[p++]=l;return o}function BT(o,l){var p=[];return Js(o,function(y,N,$){l(y,N,$)&&p.push(y)}),p}function en(o,l,p,y,N){var $=-1,ee=o.length;for(p||(p=zB),N||(N=[]);++$<ee;){var oe=o[$];l>0&&p(oe)?l>1?en(oe,l-1,p,y,N):Hs(N,oe):y||(N[N.length]=oe)}return N}var cp=ub(),UT=ub(!0);function ji(o,l){return o&&cp(o,l,Gr)}function fp(o,l){return o&&UT(o,l,Gr)}function Rc(o,l){return Xs(l,function(p){return vs(o[p])})}function $a(o,l){l=Qs(l,o);for(var p=0,y=l.length;o!=null&&p<y;)o=o[Xi(l[p++])];return p&&p==y?o:n}function MT(o,l,p){var y=l(o);return Nt(o)?y:Hs(y,p(o))}function hn(o){return o==null?o===n?Ge:_e:Ba&&Ba in tr(o)?GB(o):nU(o)}function hp(o,l){return o>l}function lB(o,l){return o!=null&&Yt.call(o,l)}function cB(o,l){return o!=null&&l in tr(o)}function fB(o,l,p){return o>=sn(l,p)&&o<Ur(l,p)}function pp(o,l,p){for(var y=p?Yh:ic,N=o[0].length,$=o.length,ee=$,oe=Ce($),Ee=1/0,De=[];ee--;){var Be=o[ee];ee&&l&&(Be=_r(Be,Mn(l))),Ee=sn(Be.length,Ee),oe[ee]=!p&&(l||N>=120&&Be.length>=120)?new Ma(ee&&Be):n}Be=o[0];var qe=-1,Qe=oe[0];e:for(;++qe<N&&De.length<Ee;){var lt=Be[qe],vt=l?l(lt):lt;if(lt=p||lt!==0?lt:0,!(Qe?Ou(Qe,vt):y(De,vt,p))){for(ee=$;--ee;){var kt=oe[ee];if(!(kt?Ou(kt,vt):y(o[ee],vt,p)))continue e}Qe&&Qe.push(vt),De.push(lt)}}return De}function hB(o,l,p,y){return ji(o,function(N,$,ee){l(y,p(N),$,ee)}),y}function Mu(o,l,p){l=Qs(l,o),o=Sb(o,l);var y=o==null?o:o[Xi(ui(l))];return y==null?n:Un(y,o,p)}function KT(o){return Sr(o)&&hn(o)==je}function pB(o){return Sr(o)&&hn(o)==Le}function dB(o){return Sr(o)&&hn(o)==pt}function Ku(o,l,p,y,N){return o===l?!0:o==null||l==null||!Sr(o)&&!Sr(l)?o!==o&&l!==l:_B(o,l,p,y,Ku,N)}function _B(o,l,p,y,N,$){var ee=Nt(o),oe=Nt(l),Ee=ee?ot:an(o),De=oe?ot:an(l);Ee=Ee==je?ge:Ee,De=De==je?ge:De;var Be=Ee==ge,qe=De==ge,Qe=Ee==De;if(Qe&&ta(o)){if(!ta(l))return!1;ee=!0,Be=!1}if(Qe&&!Be)return $||($=new bi),ee||ko(o)?Eb(o,l,p,y,N,$):FB(o,l,Ee,p,y,N,$);if(!(p&v)){var lt=Be&&Yt.call(o,"__wrapped__"),vt=qe&&Yt.call(l,"__wrapped__");if(lt||vt){var kt=lt?o.value():o,yt=vt?l.value():l;return $||($=new bi),N(kt,yt,p,y,$)}}return Qe?($||($=new bi),qB(o,l,p,y,N,$)):!1}function mB(o){return Sr(o)&&an(o)==z}function dp(o,l,p,y){var N=p.length,$=N,ee=!y;if(o==null)return!$;for(o=tr(o);N--;){var oe=p[N];if(ee&&oe[2]?oe[1]!==o[oe[0]]:!(oe[0]in o))return!1}for(;++N<$;){oe=p[N];var Ee=oe[0],De=o[Ee],Be=oe[1];if(ee&&oe[2]){if(De===n&&!(Ee in o))return!1}else{var qe=new bi;if(y)var Qe=y(De,Be,Ee,o,l,qe);if(!(Qe===n?Ku(Be,De,v|S,y,qe):Qe))return!1}}return!0}function $T(o){if(!vr(o)||ZB(o))return!1;var l=vs(o)?m3:Ei;return l.test(Fa(o))}function gB(o){return Sr(o)&&hn(o)==D}function EB(o){return Sr(o)&&an(o)==M}function vB(o){return Sr(o)&&$c(o.length)&&!!cr[hn(o)]}function VT(o){return typeof o=="function"?o:o==null?wn:typeof o=="object"?Nt(o)?GT(o[0],o[1]):qT(o):lR(o)}function _p(o){if(!Fu(o))return b3(o);var l=[];for(var p in tr(o))Yt.call(o,p)&&p!="constructor"&&l.push(p);return l}function yB(o){if(!vr(o))return rU(o);var l=Fu(o),p=[];for(var y in o)y=="constructor"&&(l||!Yt.call(o,y))||p.push(y);return p}function mp(o,l){return o<l}function FT(o,l){var p=-1,y=An(o)?Ce(o.length):[];return Js(o,function(N,$,ee){y[++p]=l(N,$,ee)}),y}function qT(o){var l=Ip(o);return l.length==1&&l[0][2]?Rb(l[0][0],l[0][1]):function(p){return p===o||dp(p,o,l)}}function GT(o,l){return Pp(o)&&bb(l)?Rb(Xi(o),l):function(p){var y=qp(p,o);return y===n&&y===l?Gp(p,o):Ku(l,y,v|S)}}function xc(o,l,p,y,N){o!==l&&cp(l,function($,ee){if(N||(N=new bi),vr($))TB(o,l,ee,p,xc,y,N);else{var oe=y?y(Dp(o,ee),$,ee+"",o,l,N):n;oe===n&&(oe=$),up(o,ee,oe)}},Ln)}function TB(o,l,p,y,N,$,ee){var oe=Dp(o,p),Ee=Dp(l,p),De=ee.get(Ee);if(De){up(o,p,De);return}var Be=$?$(oe,Ee,p+"",o,l,ee):n,qe=Be===n;if(qe){var Qe=Nt(Ee),lt=!Qe&&ta(Ee),vt=!Qe&&!lt&&ko(Ee);Be=Ee,Qe||lt||vt?Nt(oe)?Be=oe:Ar(oe)?Be=Cn(oe):lt?(qe=!1,Be=rb(Ee,!0)):vt?(qe=!1,Be=nb(Ee,!0)):Be=[]:Gu(Ee)||qa(Ee)?(Be=oe,qa(oe)?Be=Qb(oe):(!vr(oe)||vs(oe))&&(Be=Tb(Ee))):qe=!1}qe&&(ee.set(Ee,Be),N(Be,Ee,y,$,ee),ee.delete(Ee)),up(o,p,Be)}function jT(o,l){var p=o.length;if(p)return l+=l<0?p:0,Es(l,p)?o[l]:n}function WT(o,l,p){l.length?l=_r(l,function($){return Nt($)?function(ee){return $a(ee,$.length===1?$[0]:$)}:$}):l=[wn];var y=-1;l=_r(l,Mn(gt()));var N=FT(o,function($,ee,oe){var Ee=_r(l,function(De){return De($)});return{criteria:Ee,index:++y,value:$}});return HD(N,function($,ee){return kB($,ee,p)})}function bB(o,l){return XT(o,l,function(p,y){return Gp(o,y)})}function XT(o,l,p){for(var y=-1,N=l.length,$={};++y<N;){var ee=l[y],oe=$a(o,ee);p(oe,ee)&&$u($,Qs(ee,o),oe)}return $}function RB(o){return function(l){return $a(l,o)}}function gp(o,l,p,y){var N=y?XD:Ro,$=-1,ee=l.length,oe=o;for(o===l&&(l=Cn(l)),p&&(oe=_r(o,Mn(p)));++$<ee;)for(var Ee=0,De=l[$],Be=p?p(De):De;(Ee=N(oe,Be,Ee,y))>-1;)oe!==o&&dc.call(oe,Ee,1),dc.call(o,Ee,1);return o}function HT(o,l){for(var p=o?l.length:0,y=p-1;p--;){var N=l[p];if(p==y||N!==$){var $=N;Es(N)?dc.call(o,N,1):Tp(o,N)}}return o}function Ep(o,l){return o+gc(LT()*(l-o+1))}function xB(o,l,p,y){for(var N=-1,$=Ur(mc((l-o)/(p||1)),0),ee=Ce($);$--;)ee[y?$:++N]=o,o+=p;return ee}function vp(o,l){var p="";if(!o||l<1||l>he)return p;do l%2&&(p+=o),l=gc(l/2),l&&(o+=o);while(l);return p}function Dt(o,l){return Bp(xb(o,l,wn),o+"")}function SB(o){return IT(Do(o))}function CB(o,l){var p=Do(o);return kc(p,Ka(l,0,p.length))}function $u(o,l,p,y){if(!vr(o))return o;l=Qs(l,o);for(var N=-1,$=l.length,ee=$-1,oe=o;oe!=null&&++N<$;){var Ee=Xi(l[N]),De=p;if(Ee==="__proto__"||Ee==="constructor"||Ee==="prototype")return o;if(N!=ee){var Be=oe[Ee];De=y?y(Be,Ee,oe):n,De===n&&(De=vr(Be)?Be:Es(l[N+1])?[]:{})}Bu(oe,Ee,De),oe=oe[Ee]}return o}var YT=Ec?function(o,l){return Ec.set(o,l),o}:wn,AB=_c?function(o,l){return _c(o,"toString",{configurable:!0,enumerable:!1,value:Wp(l),writable:!0})}:wn;function LB(o){return kc(Do(o))}function oi(o,l,p){var y=-1,N=o.length;l<0&&(l=-l>N?0:N+l),p=p>N?N:p,p<0&&(p+=N),N=l>p?0:p-l>>>0,l>>>=0;for(var $=Ce(N);++y<N;)$[y]=o[y+l];return $}function wB(o,l){var p;return Js(o,function(y,N,$){return p=l(y,N,$),!p}),!!p}function Sc(o,l,p){var y=0,N=o==null?y:o.length;if(typeof l=="number"&&l===l&&N<=pe){for(;y<N;){var $=y+N>>>1,ee=o[$];ee!==null&&!$n(ee)&&(p?ee<=l:ee<l)?y=$+1:N=$}return N}return yp(o,l,wn,p)}function yp(o,l,p,y){var N=0,$=o==null?0:o.length;if($===0)return 0;l=p(l);for(var ee=l!==l,oe=l===null,Ee=$n(l),De=l===n;N<$;){var Be=gc((N+$)/2),qe=p(o[Be]),Qe=qe!==n,lt=qe===null,vt=qe===qe,kt=$n(qe);if(ee)var yt=y||vt;else De?yt=vt&&(y||Qe):oe?yt=vt&&Qe&&(y||!lt):Ee?yt=vt&&Qe&&!lt&&(y||!kt):lt||kt?yt=!1:yt=y?qe<=l:qe<l;yt?N=Be+1:$=Be}return sn($,W)}function zT(o,l){for(var p=-1,y=o.length,N=0,$=[];++p<y;){var ee=o[p],oe=l?l(ee):ee;if(!p||!Ri(oe,Ee)){var Ee=oe;$[N++]=ee===0?0:ee}}return $}function JT(o){return typeof o=="number"?o:$n(o)?Ae:+o}function Kn(o){if(typeof o=="string")return o;if(Nt(o))return _r(o,Kn)+"";if($n(o))return wT?wT.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}function Zs(o,l,p){var y=-1,N=ic,$=o.length,ee=!0,oe=[],Ee=oe;if(p)ee=!1,N=Yh;else if($>=s){var De=l?null:$B(o);if(De)return ac(De);ee=!1,N=Ou,Ee=new Ma}else Ee=l?[]:oe;e:for(;++y<$;){var Be=o[y],qe=l?l(Be):Be;if(Be=p||Be!==0?Be:0,ee&&qe===qe){for(var Qe=Ee.length;Qe--;)if(Ee[Qe]===qe)continue e;l&&Ee.push(qe),oe.push(Be)}else N(Ee,qe,p)||(Ee!==oe&&Ee.push(qe),oe.push(Be))}return oe}function Tp(o,l){return l=Qs(l,o),o=Sb(o,l),o==null||delete o[Xi(ui(l))]}function ZT(o,l,p,y){return $u(o,l,p($a(o,l)),y)}function Cc(o,l,p,y){for(var N=o.length,$=y?N:-1;(y?$--:++$<N)&&l(o[$],$,o););return p?oi(o,y?0:$,y?$+1:N):oi(o,y?$+1:0,y?N:$)}function QT(o,l){var p=o;return p instanceof $t&&(p=p.value()),zh(l,function(y,N){return N.func.apply(N.thisArg,Hs([y],N.args))},p)}function bp(o,l,p){var y=o.length;if(y<2)return y?Zs(o[0]):[];for(var N=-1,$=Ce(y);++N<y;)for(var ee=o[N],oe=-1;++oe<y;)oe!=N&&($[N]=Uu($[N]||ee,o[oe],l,p));return Zs(en($,1),l,p)}function eb(o,l,p){for(var y=-1,N=o.length,$=l.length,ee={};++y<N;){var oe=y<$?l[y]:n;p(ee,o[y],oe)}return ee}function Rp(o){return Ar(o)?o:[]}function xp(o){return typeof o=="function"?o:wn}function Qs(o,l){return Nt(o)?o:Pp(o,l)?[o]:wb(Wt(o))}var OB=Dt;function ea(o,l,p){var y=o.length;return p=p===n?y:p,!l&&p>=y?o:oi(o,l,p)}var tb=g3||function(o){return Qr.clearTimeout(o)};function rb(o,l){if(l)return o.slice();var p=o.length,y=RT?RT(p):new o.constructor(p);return o.copy(y),y}function Sp(o){var l=new o.constructor(o.byteLength);return new hc(l).set(new hc(o)),l}function IB(o,l){var p=l?Sp(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}function NB(o){var l=new o.constructor(o.source,Qn.exec(o));return l.lastIndex=o.lastIndex,l}function PB(o){return Du?tr(Du.call(o)):{}}function nb(o,l){var p=l?Sp(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}function ib(o,l){if(o!==l){var p=o!==n,y=o===null,N=o===o,$=$n(o),ee=l!==n,oe=l===null,Ee=l===l,De=$n(l);if(!oe&&!De&&!$&&o>l||$&&ee&&Ee&&!oe&&!De||y&&ee&&Ee||!p&&Ee||!N)return 1;if(!y&&!$&&!De&&o<l||De&&p&&N&&!y&&!$||oe&&p&&N||!ee&&N||!Ee)return-1}return 0}function kB(o,l,p){for(var y=-1,N=o.criteria,$=l.criteria,ee=N.length,oe=p.length;++y<ee;){var Ee=ib(N[y],$[y]);if(Ee){if(y>=oe)return Ee;var De=p[y];return Ee*(De=="desc"?-1:1)}}return o.index-l.index}function sb(o,l,p,y){for(var N=-1,$=o.length,ee=p.length,oe=-1,Ee=l.length,De=Ur($-ee,0),Be=Ce(Ee+De),qe=!y;++oe<Ee;)Be[oe]=l[oe];for(;++N<ee;)(qe||N<$)&&(Be[p[N]]=o[N]);for(;De--;)Be[oe++]=o[N++];return Be}function ab(o,l,p,y){for(var N=-1,$=o.length,ee=-1,oe=p.length,Ee=-1,De=l.length,Be=Ur($-oe,0),qe=Ce(Be+De),Qe=!y;++N<Be;)qe[N]=o[N];for(var lt=N;++Ee<De;)qe[lt+Ee]=l[Ee];for(;++ee<oe;)(Qe||N<$)&&(qe[lt+p[ee]]=o[N++]);return qe}function Cn(o,l){var p=-1,y=o.length;for(l||(l=Ce(y));++p<y;)l[p]=o[p];return l}function Wi(o,l,p,y){var N=!p;p||(p={});for(var $=-1,ee=l.length;++$<ee;){var oe=l[$],Ee=y?y(p[oe],o[oe],oe,p,o):n;Ee===n&&(Ee=o[oe]),N?_s(p,oe,Ee):Bu(p,oe,Ee)}return p}function DB(o,l){return Wi(o,Np(o),l)}function BB(o,l){return Wi(o,vb(o),l)}function Ac(o,l){return function(p,y){var N=Nt(p)?VD:iB,$=l?l():{};return N(p,o,gt(y,2),$)}}function Io(o){return Dt(function(l,p){var y=-1,N=p.length,$=N>1?p[N-1]:n,ee=N>2?p[2]:n;for($=o.length>3&&typeof $=="function"?(N--,$):n,ee&&pn(p[0],p[1],ee)&&($=N<3?n:$,N=1),l=tr(l);++y<N;){var oe=p[y];oe&&o(l,oe,y,$)}return l})}function ob(o,l){return function(p,y){if(p==null)return p;if(!An(p))return o(p,y);for(var N=p.length,$=l?N:-1,ee=tr(p);(l?$--:++$<N)&&y(ee[$],$,ee)!==!1;);return p}}function ub(o){return function(l,p,y){for(var N=-1,$=tr(l),ee=y(l),oe=ee.length;oe--;){var Ee=ee[o?oe:++N];if(p($[Ee],Ee,$)===!1)break}return l}}function UB(o,l,p){var y=l&x,N=Vu(o);function $(){var ee=this&&this!==Qr&&this instanceof $?N:o;return ee.apply(y?p:this,arguments)}return $}function lb(o){return function(l){l=Wt(l);var p=xo(l)?Ti(l):n,y=p?p[0]:l.charAt(0),N=p?ea(p,1).join(""):l.slice(1);return y[o]()+N}}function No(o){return function(l){return zh(oR(aR(l).replace(AD,"")),o,"")}}function Vu(o){return function(){var l=arguments;switch(l.length){case 0:return new o;case 1:return new o(l[0]);case 2:return new o(l[0],l[1]);case 3:return new o(l[0],l[1],l[2]);case 4:return new o(l[0],l[1],l[2],l[3]);case 5:return new o(l[0],l[1],l[2],l[3],l[4]);case 6:return new o(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new o(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var p=Oo(o.prototype),y=o.apply(p,l);return vr(y)?y:p}}function MB(o,l,p){var y=Vu(o);function N(){for(var $=arguments.length,ee=Ce($),oe=$,Ee=Po(N);oe--;)ee[oe]=arguments[oe];var De=$<3&&ee[0]!==Ee&&ee[$-1]!==Ee?[]:Ys(ee,Ee);if($-=De.length,$<p)return db(o,l,Lc,N.placeholder,n,ee,De,n,n,p-$);var Be=this&&this!==Qr&&this instanceof N?y:o;return Un(Be,this,ee)}return N}function cb(o){return function(l,p,y){var N=tr(l);if(!An(l)){var $=gt(p,3);l=Gr(l),p=function(oe){return $(N[oe],oe,N)}}var ee=o(l,p,y);return ee>-1?N[$?l[ee]:ee]:n}}function fb(o){return gs(function(l){var p=l.length,y=p,N=si.prototype.thru;for(o&&l.reverse();y--;){var $=l[y];if(typeof $!="function")throw new ii(r);if(N&&!ee&&Nc($)=="wrapper")var ee=new si([],!0)}for(y=ee?y:p;++y<p;){$=l[y];var oe=Nc($),Ee=oe=="wrapper"?Op($):n;Ee&&kp(Ee[0])&&Ee[1]==(L|I|R|b)&&!Ee[4].length&&Ee[9]==1?ee=ee[Nc(Ee[0])].apply(ee,Ee[3]):ee=$.length==1&&kp($)?ee[oe]():ee.thru($)}return function(){var De=arguments,Be=De[0];if(ee&&De.length==1&&Nt(Be))return ee.plant(Be).value();for(var qe=0,Qe=p?l[qe].apply(this,De):Be;++qe<p;)Qe=l[qe].call(this,Qe);return Qe}})}function Lc(o,l,p,y,N,$,ee,oe,Ee,De){var Be=l&L,qe=l&x,Qe=l&A,lt=l&(I|C),vt=l&O,kt=Qe?n:Vu(o);function yt(){for(var Kt=arguments.length,Ft=Ce(Kt),Vn=Kt;Vn--;)Ft[Vn]=arguments[Vn];if(lt)var dn=Po(yt),Fn=zD(Ft,dn);if(y&&(Ft=sb(Ft,y,N,lt)),$&&(Ft=ab(Ft,$,ee,lt)),Kt-=Fn,lt&&Kt<De){var Lr=Ys(Ft,dn);return db(o,l,Lc,yt.placeholder,p,Ft,Lr,oe,Ee,De-Kt)}var xi=qe?p:this,Ts=Qe?xi[o]:o;return Kt=Ft.length,oe?Ft=iU(Ft,oe):vt&&Kt>1&&Ft.reverse(),Be&&Ee<Kt&&(Ft.length=Ee),this&&this!==Qr&&this instanceof yt&&(Ts=kt||Vu(Ts)),Ts.apply(xi,Ft)}return yt}function hb(o,l){return function(p,y){return hB(p,o,l(y),{})}}function wc(o,l){return function(p,y){var N;if(p===n&&y===n)return l;if(p!==n&&(N=p),y!==n){if(N===n)return y;typeof p=="string"||typeof y=="string"?(p=Kn(p),y=Kn(y)):(p=JT(p),y=JT(y)),N=o(p,y)}return N}}function Cp(o){return gs(function(l){return l=_r(l,Mn(gt())),Dt(function(p){var y=this;return o(l,function(N){return Un(N,y,p)})})})}function Oc(o,l){l=l===n?" ":Kn(l);var p=l.length;if(p<2)return p?vp(l,o):l;var y=vp(l,mc(o/So(l)));return xo(l)?ea(Ti(y),0,o).join(""):y.slice(0,o)}function KB(o,l,p,y){var N=l&x,$=Vu(o);function ee(){for(var oe=-1,Ee=arguments.length,De=-1,Be=y.length,qe=Ce(Be+Ee),Qe=this&&this!==Qr&&this instanceof ee?$:o;++De<Be;)qe[De]=y[De];for(;Ee--;)qe[De++]=arguments[++oe];return Un(Qe,N?p:this,qe)}return ee}function pb(o){return function(l,p,y){return y&&typeof y!="number"&&pn(l,p,y)&&(p=y=n),l=ys(l),p===n?(p=l,l=0):p=ys(p),y=y===n?l<p?1:-1:ys(y),xB(l,p,y,o)}}function Ic(o){return function(l,p){return typeof l=="string"&&typeof p=="string"||(l=li(l),p=li(p)),o(l,p)}}function db(o,l,p,y,N,$,ee,oe,Ee,De){var Be=l&I,qe=Be?ee:n,Qe=Be?n:ee,lt=Be?$:n,vt=Be?n:$;l|=Be?R:_,l&=~(Be?_:R),l&w||(l&=-4);var kt=[o,l,N,lt,qe,vt,Qe,oe,Ee,De],yt=p.apply(n,kt);return kp(o)&&Cb(yt,kt),yt.placeholder=y,Ab(yt,o,l)}function Ap(o){var l=Br[o];return function(p,y){if(p=li(p),y=y==null?0:sn(Pt(y),292),y&&AT(p)){var N=(Wt(p)+"e").split("e"),$=l(N[0]+"e"+(+N[1]+y));return N=(Wt($)+"e").split("e"),+(N[0]+"e"+(+N[1]-y))}return l(p)}}var $B=Lo&&1/ac(new Lo([,-0]))[1]==ce?function(o){return new Lo(o)}:Yp;function _b(o){return function(l){var p=an(l);return p==z?np(l):p==M?n3(l):YD(l,o(l))}}function ms(o,l,p,y,N,$,ee,oe){var Ee=l&A;if(!Ee&&typeof o!="function")throw new ii(r);var De=y?y.length:0;if(De||(l&=-97,y=N=n),ee=ee===n?ee:Ur(Pt(ee),0),oe=oe===n?oe:Pt(oe),De-=N?N.length:0,l&_){var Be=y,qe=N;y=N=n}var Qe=Ee?n:Op(o),lt=[o,l,p,y,N,Be,qe,$,ee,oe];if(Qe&&tU(lt,Qe),o=lt[0],l=lt[1],p=lt[2],y=lt[3],N=lt[4],oe=lt[9]=lt[9]===n?Ee?0:o.length:Ur(lt[9]-De,0),!oe&&l&(I|C)&&(l&=-25),!l||l==x)var vt=UB(o,l,p);else l==I||l==C?vt=MB(o,l,oe):(l==R||l==(x|R))&&!N.length?vt=KB(o,l,p,y):vt=Lc.apply(n,lt);var kt=Qe?YT:Cb;return Ab(kt(vt,lt),o,l)}function mb(o,l,p,y){return o===n||Ri(o,Ao[p])&&!Yt.call(y,p)?l:o}function gb(o,l,p,y,N,$){return vr(o)&&vr(l)&&($.set(l,o),xc(o,l,n,gb,$),$.delete(l)),o}function VB(o){return Gu(o)?n:o}function Eb(o,l,p,y,N,$){var ee=p&v,oe=o.length,Ee=l.length;if(oe!=Ee&&!(ee&&Ee>oe))return!1;var De=$.get(o),Be=$.get(l);if(De&&Be)return De==l&&Be==o;var qe=-1,Qe=!0,lt=p&S?new Ma:n;for($.set(o,l),$.set(l,o);++qe<oe;){var vt=o[qe],kt=l[qe];if(y)var yt=ee?y(kt,vt,qe,l,o,$):y(vt,kt,qe,o,l,$);if(yt!==n){if(yt)continue;Qe=!1;break}if(lt){if(!Jh(l,function(Kt,Ft){if(!Ou(lt,Ft)&&(vt===Kt||N(vt,Kt,p,y,$)))return lt.push(Ft)})){Qe=!1;break}}else if(!(vt===kt||N(vt,kt,p,y,$))){Qe=!1;break}}return $.delete(o),$.delete(l),Qe}function FB(o,l,p,y,N,$,ee){switch(p){case Je:if(o.byteLength!=l.byteLength||o.byteOffset!=l.byteOffset)return!1;o=o.buffer,l=l.buffer;case Le:return!(o.byteLength!=l.byteLength||!$(new hc(o),new hc(l)));case Me:case pt:case J:return Ri(+o,+l);case _t:return o.name==l.name&&o.message==l.message;case D:case de:return o==l+"";case z:var oe=np;case M:var Ee=y&v;if(oe||(oe=ac),o.size!=l.size&&!Ee)return!1;var De=ee.get(o);if(De)return De==l;y|=S,ee.set(o,l);var Be=Eb(oe(o),oe(l),y,N,$,ee);return ee.delete(o),Be;case Te:if(Du)return Du.call(o)==Du.call(l)}return!1}function qB(o,l,p,y,N,$){var ee=p&v,oe=Lp(o),Ee=oe.length,De=Lp(l),Be=De.length;if(Ee!=Be&&!ee)return!1;for(var qe=Ee;qe--;){var Qe=oe[qe];if(!(ee?Qe in l:Yt.call(l,Qe)))return!1}var lt=$.get(o),vt=$.get(l);if(lt&&vt)return lt==l&&vt==o;var kt=!0;$.set(o,l),$.set(l,o);for(var yt=ee;++qe<Ee;){Qe=oe[qe];var Kt=o[Qe],Ft=l[Qe];if(y)var Vn=ee?y(Ft,Kt,Qe,l,o,$):y(Kt,Ft,Qe,o,l,$);if(!(Vn===n?Kt===Ft||N(Kt,Ft,p,y,$):Vn)){kt=!1;break}yt||(yt=Qe=="constructor")}if(kt&&!yt){var dn=o.constructor,Fn=l.constructor;dn!=Fn&&"constructor"in o&&"constructor"in l&&!(typeof dn=="function"&&dn instanceof dn&&typeof Fn=="function"&&Fn instanceof Fn)&&(kt=!1)}return $.delete(o),$.delete(l),kt}function gs(o){return Bp(xb(o,n,Pb),o+"")}function Lp(o){return MT(o,Gr,Np)}function wp(o){return MT(o,Ln,vb)}var Op=Ec?function(o){return Ec.get(o)}:Yp;function Nc(o){for(var l=o.name+"",p=wo[l],y=Yt.call(wo,l)?p.length:0;y--;){var N=p[y],$=N.func;if($==null||$==o)return N.name}return l}function Po(o){var l=Yt.call(U,"placeholder")?U:o;return l.placeholder}function gt(){var o=U.iteratee||Xp;return o=o===Xp?VT:o,arguments.length?o(arguments[0],arguments[1]):o}function Pc(o,l){var p=o.__data__;return JB(l)?p[typeof l=="string"?"string":"hash"]:p.map}function Ip(o){for(var l=Gr(o),p=l.length;p--;){var y=l[p],N=o[y];l[p]=[y,N,bb(N)]}return l}function Va(o,l){var p=e3(o,l);return $T(p)?p:n}function GB(o){var l=Yt.call(o,Ba),p=o[Ba];try{o[Ba]=n;var y=!0}catch{}var N=cc.call(o);return y&&(l?o[Ba]=p:delete o[Ba]),N}var Np=sp?function(o){return o==null?[]:(o=tr(o),Xs(sp(o),function(l){return ST.call(o,l)}))}:zp,vb=sp?function(o){for(var l=[];o;)Hs(l,Np(o)),o=pc(o);return l}:zp,an=hn;(ap&&an(new ap(new ArrayBuffer(1)))!=Je||Nu&&an(new Nu)!=z||op&&an(op.resolve())!=Ie||Lo&&an(new Lo)!=M||Pu&&an(new Pu)!=Ue)&&(an=function(o){var l=hn(o),p=l==ge?o.constructor:n,y=p?Fa(p):"";if(y)switch(y){case C3:return Je;case A3:return z;case L3:return Ie;case w3:return M;case O3:return Ue}return l});function jB(o,l,p){for(var y=-1,N=p.length;++y<N;){var $=p[y],ee=$.size;switch($.type){case"drop":o+=ee;break;case"dropRight":l-=ee;break;case"take":l=sn(l,o+ee);break;case"takeRight":o=Ur(o,l-ee);break}}return{start:o,end:l}}function WB(o){var l=o.match(ka);return l?l[1].split(qi):[]}function yb(o,l,p){l=Qs(l,o);for(var y=-1,N=l.length,$=!1;++y<N;){var ee=Xi(l[y]);if(!($=o!=null&&p(o,ee)))break;o=o[ee]}return $||++y!=N?$:(N=o==null?0:o.length,!!N&&$c(N)&&Es(ee,N)&&(Nt(o)||qa(o)))}function XB(o){var l=o.length,p=new o.constructor(l);return l&&typeof o[0]=="string"&&Yt.call(o,"index")&&(p.index=o.index,p.input=o.input),p}function Tb(o){return typeof o.constructor=="function"&&!Fu(o)?Oo(pc(o)):{}}function HB(o,l,p){var y=o.constructor;switch(l){case Le:return Sp(o);case Me:case pt:return new y(+o);case Je:return IB(o,p);case X:case q:case se:case F:case ie:case xe:case ke:case Z:case le:return nb(o,p);case z:return new y;case J:case de:return new y(o);case D:return NB(o);case M:return new y;case Te:return PB(o)}}function YB(o,l){var p=l.length;if(!p)return o;var y=p-1;return l[y]=(p>1?"& ":"")+l[y],l=l.join(p>2?", ":" "),o.replace(Pa,`{
/* [wrapped with `+l+`] */
`)}function zB(o){return Nt(o)||qa(o)||!!(CT&&o&&o[CT])}function Es(o,l){var p=typeof o;return l=l??he,!!l&&(p=="number"||p!="symbol"&&bo.test(o))&&o>-1&&o%1==0&&o<l}function pn(o,l,p){if(!vr(p))return!1;var y=typeof l;return(y=="number"?An(p)&&Es(l,p.length):y=="string"&&l in p)?Ri(p[l],o):!1}function Pp(o,l){if(Nt(o))return!1;var p=typeof o;return p=="number"||p=="symbol"||p=="boolean"||o==null||$n(o)?!0:Fi.test(o)||!qr.test(o)||l!=null&&o in tr(l)}function JB(o){var l=typeof o;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?o!=="__proto__":o===null}function kp(o){var l=Nc(o),p=U[l];if(typeof p!="function"||!(l in $t.prototype))return!1;if(o===p)return!0;var y=Op(p);return!!y&&o===y[0]}function ZB(o){return!!bT&&bT in o}var QB=uc?vs:Jp;function Fu(o){var l=o&&o.constructor,p=typeof l=="function"&&l.prototype||Ao;return o===p}function bb(o){return o===o&&!vr(o)}function Rb(o,l){return function(p){return p==null?!1:p[o]===l&&(l!==n||o in tr(p))}}function eU(o){var l=Mc(o,function(y){return p.size===f&&p.clear(),y}),p=l.cache;return l}function tU(o,l){var p=o[1],y=l[1],N=p|y,$=N<(x|A|L),ee=y==L&&p==I||y==L&&p==b&&o[7].length<=l[8]||y==(L|b)&&l[7].length<=l[8]&&p==I;if(!($||ee))return o;y&x&&(o[2]=l[2],N|=p&x?0:w);var oe=l[3];if(oe){var Ee=o[3];o[3]=Ee?sb(Ee,oe,l[4]):oe,o[4]=Ee?Ys(o[3],h):l[4]}return oe=l[5],oe&&(Ee=o[5],o[5]=Ee?ab(Ee,oe,l[6]):oe,o[6]=Ee?Ys(o[5],h):l[6]),oe=l[7],oe&&(o[7]=oe),y&L&&(o[8]=o[8]==null?l[8]:sn(o[8],l[8])),o[9]==null&&(o[9]=l[9]),o[0]=l[0],o[1]=N,o}function rU(o){var l=[];if(o!=null)for(var p in tr(o))l.push(p);return l}function nU(o){return cc.call(o)}function xb(o,l,p){return l=Ur(l===n?o.length-1:l,0),function(){for(var y=arguments,N=-1,$=Ur(y.length-l,0),ee=Ce($);++N<$;)ee[N]=y[l+N];N=-1;for(var oe=Ce(l+1);++N<l;)oe[N]=y[N];return oe[l]=p(ee),Un(o,this,oe)}}function Sb(o,l){return l.length<2?o:$a(o,oi(l,0,-1))}function iU(o,l){for(var p=o.length,y=sn(l.length,p),N=Cn(o);y--;){var $=l[y];o[y]=Es($,p)?N[$]:n}return o}function Dp(o,l){if(!(l==="constructor"&&typeof o[l]=="function")&&l!="__proto__")return o[l]}var Cb=Lb(YT),qu=v3||function(o,l){return Qr.setTimeout(o,l)},Bp=Lb(AB);function Ab(o,l,p){var y=l+"";return Bp(o,YB(y,sU(WB(y),p)))}function Lb(o){var l=0,p=0;return function(){var y=R3(),N=ae-(y-p);if(p=y,N>0){if(++l>=B)return arguments[0]}else l=0;return o.apply(n,arguments)}}function kc(o,l){var p=-1,y=o.length,N=y-1;for(l=l===n?y:l;++p<l;){var $=Ep(p,N),ee=o[$];o[$]=o[p],o[p]=ee}return o.length=l,o}var wb=eU(function(o){var l=[];return o.charCodeAt(0)===46&&l.push(""),o.replace(vo,function(p,y,N,$){l.push(N?$.replace(yo,"$1"):y||p)}),l});function Xi(o){if(typeof o=="string"||$n(o))return o;var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}function Fa(o){if(o!=null){try{return lc.call(o)}catch{}try{return o+""}catch{}}return""}function sU(o,l){return ni(He,function(p){var y="_."+p[0];l&p[1]&&!ic(o,y)&&o.push(y)}),o.sort()}function Ob(o){if(o instanceof $t)return o.clone();var l=new si(o.__wrapped__,o.__chain__);return l.__actions__=Cn(o.__actions__),l.__index__=o.__index__,l.__values__=o.__values__,l}function aU(o,l,p){(p?pn(o,l,p):l===n)?l=1:l=Ur(Pt(l),0);var y=o==null?0:o.length;if(!y||l<1)return[];for(var N=0,$=0,ee=Ce(mc(y/l));N<y;)ee[$++]=oi(o,N,N+=l);return ee}function oU(o){for(var l=-1,p=o==null?0:o.length,y=0,N=[];++l<p;){var $=o[l];$&&(N[y++]=$)}return N}function uU(){var o=arguments.length;if(!o)return[];for(var l=Ce(o-1),p=arguments[0],y=o;y--;)l[y-1]=arguments[y];return Hs(Nt(p)?Cn(p):[p],en(l,1))}var lU=Dt(function(o,l){return Ar(o)?Uu(o,en(l,1,Ar,!0)):[]}),cU=Dt(function(o,l){var p=ui(l);return Ar(p)&&(p=n),Ar(o)?Uu(o,en(l,1,Ar,!0),gt(p,2)):[]}),fU=Dt(function(o,l){var p=ui(l);return Ar(p)&&(p=n),Ar(o)?Uu(o,en(l,1,Ar,!0),n,p):[]});function hU(o,l,p){var y=o==null?0:o.length;return y?(l=p||l===n?1:Pt(l),oi(o,l<0?0:l,y)):[]}function pU(o,l,p){var y=o==null?0:o.length;return y?(l=p||l===n?1:Pt(l),l=y-l,oi(o,0,l<0?0:l)):[]}function dU(o,l){return o&&o.length?Cc(o,gt(l,3),!0,!0):[]}function _U(o,l){return o&&o.length?Cc(o,gt(l,3),!0):[]}function mU(o,l,p,y){var N=o==null?0:o.length;return N?(p&&typeof p!="number"&&pn(o,l,p)&&(p=0,y=N),uB(o,l,p,y)):[]}function Ib(o,l,p){var y=o==null?0:o.length;if(!y)return-1;var N=p==null?0:Pt(p);return N<0&&(N=Ur(y+N,0)),sc(o,gt(l,3),N)}function Nb(o,l,p){var y=o==null?0:o.length;if(!y)return-1;var N=y-1;return p!==n&&(N=Pt(p),N=p<0?Ur(y+N,0):sn(N,y-1)),sc(o,gt(l,3),N,!0)}function Pb(o){var l=o==null?0:o.length;return l?en(o,1):[]}function gU(o){var l=o==null?0:o.length;return l?en(o,ce):[]}function EU(o,l){var p=o==null?0:o.length;return p?(l=l===n?1:Pt(l),en(o,l)):[]}function vU(o){for(var l=-1,p=o==null?0:o.length,y={};++l<p;){var N=o[l];y[N[0]]=N[1]}return y}function kb(o){return o&&o.length?o[0]:n}function yU(o,l,p){var y=o==null?0:o.length;if(!y)return-1;var N=p==null?0:Pt(p);return N<0&&(N=Ur(y+N,0)),Ro(o,l,N)}function TU(o){var l=o==null?0:o.length;return l?oi(o,0,-1):[]}var bU=Dt(function(o){var l=_r(o,Rp);return l.length&&l[0]===o[0]?pp(l):[]}),RU=Dt(function(o){var l=ui(o),p=_r(o,Rp);return l===ui(p)?l=n:p.pop(),p.length&&p[0]===o[0]?pp(p,gt(l,2)):[]}),xU=Dt(function(o){var l=ui(o),p=_r(o,Rp);return l=typeof l=="function"?l:n,l&&p.pop(),p.length&&p[0]===o[0]?pp(p,n,l):[]});function SU(o,l){return o==null?"":T3.call(o,l)}function ui(o){var l=o==null?0:o.length;return l?o[l-1]:n}function CU(o,l,p){var y=o==null?0:o.length;if(!y)return-1;var N=y;return p!==n&&(N=Pt(p),N=N<0?Ur(y+N,0):sn(N,y-1)),l===l?s3(o,l,N):sc(o,dT,N,!0)}function AU(o,l){return o&&o.length?jT(o,Pt(l)):n}var LU=Dt(Db);function Db(o,l){return o&&o.length&&l&&l.length?gp(o,l):o}function wU(o,l,p){return o&&o.length&&l&&l.length?gp(o,l,gt(p,2)):o}function OU(o,l,p){return o&&o.length&&l&&l.length?gp(o,l,n,p):o}var IU=gs(function(o,l){var p=o==null?0:o.length,y=lp(o,l);return HT(o,_r(l,function(N){return Es(N,p)?+N:N}).sort(ib)),y});function NU(o,l){var p=[];if(!(o&&o.length))return p;var y=-1,N=[],$=o.length;for(l=gt(l,3);++y<$;){var ee=o[y];l(ee,y,o)&&(p.push(ee),N.push(y))}return HT(o,N),p}function Up(o){return o==null?o:S3.call(o)}function PU(o,l,p){var y=o==null?0:o.length;return y?(p&&typeof p!="number"&&pn(o,l,p)?(l=0,p=y):(l=l==null?0:Pt(l),p=p===n?y:Pt(p)),oi(o,l,p)):[]}function kU(o,l){return Sc(o,l)}function DU(o,l,p){return yp(o,l,gt(p,2))}function BU(o,l){var p=o==null?0:o.length;if(p){var y=Sc(o,l);if(y<p&&Ri(o[y],l))return y}return-1}function UU(o,l){return Sc(o,l,!0)}function MU(o,l,p){return yp(o,l,gt(p,2),!0)}function KU(o,l){var p=o==null?0:o.length;if(p){var y=Sc(o,l,!0)-1;if(Ri(o[y],l))return y}return-1}function $U(o){return o&&o.length?zT(o):[]}function VU(o,l){return o&&o.length?zT(o,gt(l,2)):[]}function FU(o){var l=o==null?0:o.length;return l?oi(o,1,l):[]}function qU(o,l,p){return o&&o.length?(l=p||l===n?1:Pt(l),oi(o,0,l<0?0:l)):[]}function GU(o,l,p){var y=o==null?0:o.length;return y?(l=p||l===n?1:Pt(l),l=y-l,oi(o,l<0?0:l,y)):[]}function jU(o,l){return o&&o.length?Cc(o,gt(l,3),!1,!0):[]}function WU(o,l){return o&&o.length?Cc(o,gt(l,3)):[]}var XU=Dt(function(o){return Zs(en(o,1,Ar,!0))}),HU=Dt(function(o){var l=ui(o);return Ar(l)&&(l=n),Zs(en(o,1,Ar,!0),gt(l,2))}),YU=Dt(function(o){var l=ui(o);return l=typeof l=="function"?l:n,Zs(en(o,1,Ar,!0),n,l)});function zU(o){return o&&o.length?Zs(o):[]}function JU(o,l){return o&&o.length?Zs(o,gt(l,2)):[]}function ZU(o,l){return l=typeof l=="function"?l:n,o&&o.length?Zs(o,n,l):[]}function Mp(o){if(!(o&&o.length))return[];var l=0;return o=Xs(o,function(p){if(Ar(p))return l=Ur(p.length,l),!0}),tp(l,function(p){return _r(o,Zh(p))})}function Bb(o,l){if(!(o&&o.length))return[];var p=Mp(o);return l==null?p:_r(p,function(y){return Un(l,n,y)})}var QU=Dt(function(o,l){return Ar(o)?Uu(o,l):[]}),eM=Dt(function(o){return bp(Xs(o,Ar))}),tM=Dt(function(o){var l=ui(o);return Ar(l)&&(l=n),bp(Xs(o,Ar),gt(l,2))}),rM=Dt(function(o){var l=ui(o);return l=typeof l=="function"?l:n,bp(Xs(o,Ar),n,l)}),nM=Dt(Mp);function iM(o,l){return eb(o||[],l||[],Bu)}function sM(o,l){return eb(o||[],l||[],$u)}var aM=Dt(function(o){var l=o.length,p=l>1?o[l-1]:n;return p=typeof p=="function"?(o.pop(),p):n,Bb(o,p)});function Ub(o){var l=U(o);return l.__chain__=!0,l}function oM(o,l){return l(o),o}function Dc(o,l){return l(o)}var uM=gs(function(o){var l=o.length,p=l?o[0]:0,y=this.__wrapped__,N=function($){return lp($,o)};return l>1||this.__actions__.length||!(y instanceof $t)||!Es(p)?this.thru(N):(y=y.slice(p,+p+(l?1:0)),y.__actions__.push({func:Dc,args:[N],thisArg:n}),new si(y,this.__chain__).thru(function($){return l&&!$.length&&$.push(n),$}))});function lM(){return Ub(this)}function cM(){return new si(this.value(),this.__chain__)}function fM(){this.__values__===n&&(this.__values__=Jb(this.value()));var o=this.__index__>=this.__values__.length,l=o?n:this.__values__[this.__index__++];return{done:o,value:l}}function hM(){return this}function pM(o){for(var l,p=this;p instanceof yc;){var y=Ob(p);y.__index__=0,y.__values__=n,l?N.__wrapped__=y:l=y;var N=y;p=p.__wrapped__}return N.__wrapped__=o,l}function dM(){var o=this.__wrapped__;if(o instanceof $t){var l=o;return this.__actions__.length&&(l=new $t(this)),l=l.reverse(),l.__actions__.push({func:Dc,args:[Up],thisArg:n}),new si(l,this.__chain__)}return this.thru(Up)}function _M(){return QT(this.__wrapped__,this.__actions__)}var mM=Ac(function(o,l,p){Yt.call(o,p)?++o[p]:_s(o,p,1)});function gM(o,l,p){var y=Nt(o)?hT:oB;return p&&pn(o,l,p)&&(l=n),y(o,gt(l,3))}function EM(o,l){var p=Nt(o)?Xs:BT;return p(o,gt(l,3))}var vM=cb(Ib),yM=cb(Nb);function TM(o,l){return en(Bc(o,l),1)}function bM(o,l){return en(Bc(o,l),ce)}function RM(o,l,p){return p=p===n?1:Pt(p),en(Bc(o,l),p)}function Mb(o,l){var p=Nt(o)?ni:Js;return p(o,gt(l,3))}function Kb(o,l){var p=Nt(o)?FD:DT;return p(o,gt(l,3))}var xM=Ac(function(o,l,p){Yt.call(o,p)?o[p].push(l):_s(o,p,[l])});function SM(o,l,p,y){o=An(o)?o:Do(o),p=p&&!y?Pt(p):0;var N=o.length;return p<0&&(p=Ur(N+p,0)),Vc(o)?p<=N&&o.indexOf(l,p)>-1:!!N&&Ro(o,l,p)>-1}var CM=Dt(function(o,l,p){var y=-1,N=typeof l=="function",$=An(o)?Ce(o.length):[];return Js(o,function(ee){$[++y]=N?Un(l,ee,p):Mu(ee,l,p)}),$}),AM=Ac(function(o,l,p){_s(o,p,l)});function Bc(o,l){var p=Nt(o)?_r:FT;return p(o,gt(l,3))}function LM(o,l,p,y){return o==null?[]:(Nt(l)||(l=l==null?[]:[l]),p=y?n:p,Nt(p)||(p=p==null?[]:[p]),WT(o,l,p))}var wM=Ac(function(o,l,p){o[p?0:1].push(l)},function(){return[[],[]]});function OM(o,l,p){var y=Nt(o)?zh:mT,N=arguments.length<3;return y(o,gt(l,4),p,N,Js)}function IM(o,l,p){var y=Nt(o)?qD:mT,N=arguments.length<3;return y(o,gt(l,4),p,N,DT)}function NM(o,l){var p=Nt(o)?Xs:BT;return p(o,Kc(gt(l,3)))}function PM(o){var l=Nt(o)?IT:SB;return l(o)}function kM(o,l,p){(p?pn(o,l,p):l===n)?l=1:l=Pt(l);var y=Nt(o)?rB:CB;return y(o,l)}function DM(o){var l=Nt(o)?nB:LB;return l(o)}function BM(o){if(o==null)return 0;if(An(o))return Vc(o)?So(o):o.length;var l=an(o);return l==z||l==M?o.size:_p(o).length}function UM(o,l,p){var y=Nt(o)?Jh:wB;return p&&pn(o,l,p)&&(l=n),y(o,gt(l,3))}var MM=Dt(function(o,l){if(o==null)return[];var p=l.length;return p>1&&pn(o,l[0],l[1])?l=[]:p>2&&pn(l[0],l[1],l[2])&&(l=[l[0]]),WT(o,en(l,1),[])}),Uc=E3||function(){return Qr.Date.now()};function KM(o,l){if(typeof l!="function")throw new ii(r);return o=Pt(o),function(){if(--o<1)return l.apply(this,arguments)}}function $b(o,l,p){return l=p?n:l,l=o&&l==null?o.length:l,ms(o,L,n,n,n,n,l)}function Vb(o,l){var p;if(typeof l!="function")throw new ii(r);return o=Pt(o),function(){return--o>0&&(p=l.apply(this,arguments)),o<=1&&(l=n),p}}var Kp=Dt(function(o,l,p){var y=x;if(p.length){var N=Ys(p,Po(Kp));y|=R}return ms(o,y,l,p,N)}),Fb=Dt(function(o,l,p){var y=x|A;if(p.length){var N=Ys(p,Po(Fb));y|=R}return ms(l,y,o,p,N)});function qb(o,l,p){l=p?n:l;var y=ms(o,I,n,n,n,n,n,l);return y.placeholder=qb.placeholder,y}function Gb(o,l,p){l=p?n:l;var y=ms(o,C,n,n,n,n,n,l);return y.placeholder=Gb.placeholder,y}function jb(o,l,p){var y,N,$,ee,oe,Ee,De=0,Be=!1,qe=!1,Qe=!0;if(typeof o!="function")throw new ii(r);l=li(l)||0,vr(p)&&(Be=!!p.leading,qe="maxWait"in p,$=qe?Ur(li(p.maxWait)||0,l):$,Qe="trailing"in p?!!p.trailing:Qe);function lt(Lr){var xi=y,Ts=N;return y=N=n,De=Lr,ee=o.apply(Ts,xi),ee}function vt(Lr){return De=Lr,oe=qu(Kt,l),Be?lt(Lr):ee}function kt(Lr){var xi=Lr-Ee,Ts=Lr-De,cR=l-xi;return qe?sn(cR,$-Ts):cR}function yt(Lr){var xi=Lr-Ee,Ts=Lr-De;return Ee===n||xi>=l||xi<0||qe&&Ts>=$}function Kt(){var Lr=Uc();if(yt(Lr))return Ft(Lr);oe=qu(Kt,kt(Lr))}function Ft(Lr){return oe=n,Qe&&y?lt(Lr):(y=N=n,ee)}function Vn(){oe!==n&&tb(oe),De=0,y=Ee=N=oe=n}function dn(){return oe===n?ee:Ft(Uc())}function Fn(){var Lr=Uc(),xi=yt(Lr);if(y=arguments,N=this,Ee=Lr,xi){if(oe===n)return vt(Ee);if(qe)return tb(oe),oe=qu(Kt,l),lt(Ee)}return oe===n&&(oe=qu(Kt,l)),ee}return Fn.cancel=Vn,Fn.flush=dn,Fn}var $M=Dt(function(o,l){return kT(o,1,l)}),VM=Dt(function(o,l,p){return kT(o,li(l)||0,p)});function FM(o){return ms(o,O)}function Mc(o,l){if(typeof o!="function"||l!=null&&typeof l!="function")throw new ii(r);var p=function(){var y=arguments,N=l?l.apply(this,y):y[0],$=p.cache;if($.has(N))return $.get(N);var ee=o.apply(this,y);return p.cache=$.set(N,ee)||$,ee};return p.cache=new(Mc.Cache||ds),p}Mc.Cache=ds;function Kc(o){if(typeof o!="function")throw new ii(r);return function(){var l=arguments;switch(l.length){case 0:return!o.call(this);case 1:return!o.call(this,l[0]);case 2:return!o.call(this,l[0],l[1]);case 3:return!o.call(this,l[0],l[1],l[2])}return!o.apply(this,l)}}function qM(o){return Vb(2,o)}var GM=OB(function(o,l){l=l.length==1&&Nt(l[0])?_r(l[0],Mn(gt())):_r(en(l,1),Mn(gt()));var p=l.length;return Dt(function(y){for(var N=-1,$=sn(y.length,p);++N<$;)y[N]=l[N].call(this,y[N]);return Un(o,this,y)})}),$p=Dt(function(o,l){var p=Ys(l,Po($p));return ms(o,R,n,l,p)}),Wb=Dt(function(o,l){var p=Ys(l,Po(Wb));return ms(o,_,n,l,p)}),jM=gs(function(o,l){return ms(o,b,n,n,n,l)});function WM(o,l){if(typeof o!="function")throw new ii(r);return l=l===n?l:Pt(l),Dt(o,l)}function XM(o,l){if(typeof o!="function")throw new ii(r);return l=l==null?0:Ur(Pt(l),0),Dt(function(p){var y=p[l],N=ea(p,0,l);return y&&Hs(N,y),Un(o,this,N)})}function HM(o,l,p){var y=!0,N=!0;if(typeof o!="function")throw new ii(r);return vr(p)&&(y="leading"in p?!!p.leading:y,N="trailing"in p?!!p.trailing:N),jb(o,l,{leading:y,maxWait:l,trailing:N})}function YM(o){return $b(o,1)}function zM(o,l){return $p(xp(l),o)}function JM(){if(!arguments.length)return[];var o=arguments[0];return Nt(o)?o:[o]}function ZM(o){return ai(o,E)}function QM(o,l){return l=typeof l=="function"?l:n,ai(o,E,l)}function e4(o){return ai(o,d|E)}function t4(o,l){return l=typeof l=="function"?l:n,ai(o,d|E,l)}function r4(o,l){return l==null||PT(o,l,Gr(l))}function Ri(o,l){return o===l||o!==o&&l!==l}var n4=Ic(hp),i4=Ic(function(o,l){return o>=l}),qa=KT(function(){return arguments}())?KT:function(o){return Sr(o)&&Yt.call(o,"callee")&&!ST.call(o,"callee")},Nt=Ce.isArray,s4=aT?Mn(aT):pB;function An(o){return o!=null&&$c(o.length)&&!vs(o)}function Ar(o){return Sr(o)&&An(o)}function a4(o){return o===!0||o===!1||Sr(o)&&hn(o)==Me}var ta=y3||Jp,o4=oT?Mn(oT):dB;function u4(o){return Sr(o)&&o.nodeType===1&&!Gu(o)}function l4(o){if(o==null)return!0;if(An(o)&&(Nt(o)||typeof o=="string"||typeof o.splice=="function"||ta(o)||ko(o)||qa(o)))return!o.length;var l=an(o);if(l==z||l==M)return!o.size;if(Fu(o))return!_p(o).length;for(var p in o)if(Yt.call(o,p))return!1;return!0}function c4(o,l){return Ku(o,l)}function f4(o,l,p){p=typeof p=="function"?p:n;var y=p?p(o,l):n;return y===n?Ku(o,l,n,p):!!y}function Vp(o){if(!Sr(o))return!1;var l=hn(o);return l==_t||l==Ze||typeof o.message=="string"&&typeof o.name=="string"&&!Gu(o)}function h4(o){return typeof o=="number"&&AT(o)}function vs(o){if(!vr(o))return!1;var l=hn(o);return l==H||l==Q||l==xt||l==Re}function Xb(o){return typeof o=="number"&&o==Pt(o)}function $c(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=he}function vr(o){var l=typeof o;return o!=null&&(l=="object"||l=="function")}function Sr(o){return o!=null&&typeof o=="object"}var Hb=uT?Mn(uT):mB;function p4(o,l){return o===l||dp(o,l,Ip(l))}function d4(o,l,p){return p=typeof p=="function"?p:n,dp(o,l,Ip(l),p)}function _4(o){return Yb(o)&&o!=+o}function m4(o){if(QB(o))throw new Ot(a);return $T(o)}function g4(o){return o===null}function E4(o){return o==null}function Yb(o){return typeof o=="number"||Sr(o)&&hn(o)==J}function Gu(o){if(!Sr(o)||hn(o)!=ge)return!1;var l=pc(o);if(l===null)return!0;var p=Yt.call(l,"constructor")&&l.constructor;return typeof p=="function"&&p instanceof p&&lc.call(p)==d3}var Fp=lT?Mn(lT):gB;function v4(o){return Xb(o)&&o>=-9007199254740991&&o<=he}var zb=cT?Mn(cT):EB;function Vc(o){return typeof o=="string"||!Nt(o)&&Sr(o)&&hn(o)==de}function $n(o){return typeof o=="symbol"||Sr(o)&&hn(o)==Te}var ko=fT?Mn(fT):vB;function y4(o){return o===n}function T4(o){return Sr(o)&&an(o)==Ue}function b4(o){return Sr(o)&&hn(o)==ve}var R4=Ic(mp),x4=Ic(function(o,l){return o<=l});function Jb(o){if(!o)return[];if(An(o))return Vc(o)?Ti(o):Cn(o);if(Iu&&o[Iu])return r3(o[Iu]());var l=an(o),p=l==z?np:l==M?ac:Do;return p(o)}function ys(o){if(!o)return o===0?o:0;if(o=li(o),o===ce||o===-1/0){var l=o<0?-1:1;return l*we}return o===o?o:0}function Pt(o){var l=ys(o),p=l%1;return l===l?p?l-p:l:0}function Zb(o){return o?Ka(Pt(o),0,ye):0}function li(o){if(typeof o=="number")return o;if($n(o))return Ae;if(vr(o)){var l=typeof o.valueOf=="function"?o.valueOf():o;o=vr(l)?l+"":l}if(typeof o!="string")return o===0?o:+o;o=gT(o);var p=Gi.test(o);return p||fs.test(o)?KD(o.slice(2),p?2:8):To.test(o)?Ae:+o}function Qb(o){return Wi(o,Ln(o))}function S4(o){return o?Ka(Pt(o),-9007199254740991,he):o===0?o:0}function Wt(o){return o==null?"":Kn(o)}var C4=Io(function(o,l){if(Fu(l)||An(l)){Wi(l,Gr(l),o);return}for(var p in l)Yt.call(l,p)&&Bu(o,p,l[p])}),eR=Io(function(o,l){Wi(l,Ln(l),o)}),Fc=Io(function(o,l,p,y){Wi(l,Ln(l),o,y)}),A4=Io(function(o,l,p,y){Wi(l,Gr(l),o,y)}),L4=gs(lp);function w4(o,l){var p=Oo(o);return l==null?p:NT(p,l)}var O4=Dt(function(o,l){o=tr(o);var p=-1,y=l.length,N=y>2?l[2]:n;for(N&&pn(l[0],l[1],N)&&(y=1);++p<y;)for(var $=l[p],ee=Ln($),oe=-1,Ee=ee.length;++oe<Ee;){var De=ee[oe],Be=o[De];(Be===n||Ri(Be,Ao[De])&&!Yt.call(o,De))&&(o[De]=$[De])}return o}),I4=Dt(function(o){return o.push(n,gb),Un(tR,n,o)});function N4(o,l){return pT(o,gt(l,3),ji)}function P4(o,l){return pT(o,gt(l,3),fp)}function k4(o,l){return o==null?o:cp(o,gt(l,3),Ln)}function D4(o,l){return o==null?o:UT(o,gt(l,3),Ln)}function B4(o,l){return o&&ji(o,gt(l,3))}function U4(o,l){return o&&fp(o,gt(l,3))}function M4(o){return o==null?[]:Rc(o,Gr(o))}function K4(o){return o==null?[]:Rc(o,Ln(o))}function qp(o,l,p){var y=o==null?n:$a(o,l);return y===n?p:y}function $4(o,l){return o!=null&&yb(o,l,lB)}function Gp(o,l){return o!=null&&yb(o,l,cB)}var V4=hb(function(o,l,p){l!=null&&typeof l.toString!="function"&&(l=cc.call(l)),o[l]=p},Wp(wn)),F4=hb(function(o,l,p){l!=null&&typeof l.toString!="function"&&(l=cc.call(l)),Yt.call(o,l)?o[l].push(p):o[l]=[p]},gt),q4=Dt(Mu);function Gr(o){return An(o)?OT(o):_p(o)}function Ln(o){return An(o)?OT(o,!0):yB(o)}function G4(o,l){var p={};return l=gt(l,3),ji(o,function(y,N,$){_s(p,l(y,N,$),y)}),p}function j4(o,l){var p={};return l=gt(l,3),ji(o,function(y,N,$){_s(p,N,l(y,N,$))}),p}var W4=Io(function(o,l,p){xc(o,l,p)}),tR=Io(function(o,l,p,y){xc(o,l,p,y)}),X4=gs(function(o,l){var p={};if(o==null)return p;var y=!1;l=_r(l,function($){return $=Qs($,o),y||(y=$.length>1),$}),Wi(o,wp(o),p),y&&(p=ai(p,d|g|E,VB));for(var N=l.length;N--;)Tp(p,l[N]);return p});function H4(o,l){return rR(o,Kc(gt(l)))}var Y4=gs(function(o,l){return o==null?{}:bB(o,l)});function rR(o,l){if(o==null)return{};var p=_r(wp(o),function(y){return[y]});return l=gt(l),XT(o,p,function(y,N){return l(y,N[0])})}function z4(o,l,p){l=Qs(l,o);var y=-1,N=l.length;for(N||(N=1,o=n);++y<N;){var $=o==null?n:o[Xi(l[y])];$===n&&(y=N,$=p),o=vs($)?$.call(o):$}return o}function J4(o,l,p){return o==null?o:$u(o,l,p)}function Z4(o,l,p,y){return y=typeof y=="function"?y:n,o==null?o:$u(o,l,p,y)}var nR=_b(Gr),iR=_b(Ln);function Q4(o,l,p){var y=Nt(o),N=y||ta(o)||ko(o);if(l=gt(l,4),p==null){var $=o&&o.constructor;N?p=y?new $:[]:vr(o)?p=vs($)?Oo(pc(o)):{}:p={}}return(N?ni:ji)(o,function(ee,oe,Ee){return l(p,ee,oe,Ee)}),p}function e5(o,l){return o==null?!0:Tp(o,l)}function t5(o,l,p){return o==null?o:ZT(o,l,xp(p))}function r5(o,l,p,y){return y=typeof y=="function"?y:n,o==null?o:ZT(o,l,xp(p),y)}function Do(o){return o==null?[]:rp(o,Gr(o))}function n5(o){return o==null?[]:rp(o,Ln(o))}function i5(o,l,p){return p===n&&(p=l,l=n),p!==n&&(p=li(p),p=p===p?p:0),l!==n&&(l=li(l),l=l===l?l:0),Ka(li(o),l,p)}function s5(o,l,p){return l=ys(l),p===n?(p=l,l=0):p=ys(p),o=li(o),fB(o,l,p)}function a5(o,l,p){if(p&&typeof p!="boolean"&&pn(o,l,p)&&(l=p=n),p===n&&(typeof l=="boolean"?(p=l,l=n):typeof o=="boolean"&&(p=o,o=n)),o===n&&l===n?(o=0,l=1):(o=ys(o),l===n?(l=o,o=0):l=ys(l)),o>l){var y=o;o=l,l=y}if(p||o%1||l%1){var N=LT();return sn(o+N*(l-o+MD("1e-"+((N+"").length-1))),l)}return Ep(o,l)}var o5=No(function(o,l,p){return l=l.toLowerCase(),o+(p?sR(l):l)});function sR(o){return jp(Wt(o).toLowerCase())}function aR(o){return o=Wt(o),o&&o.replace(Oe,JD).replace(LD,"")}function u5(o,l,p){o=Wt(o),l=Kn(l);var y=o.length;p=p===n?y:Ka(Pt(p),0,y);var N=p;return p-=l.length,p>=0&&o.slice(p,N)==l}function l5(o){return o=Wt(o),o&&Dr.test(o)?o.replace(fn,ZD):o}function c5(o){return o=Wt(o),o&&gi.test(o)?o.replace(At,"\\$&"):o}var f5=No(function(o,l,p){return o+(p?"-":"")+l.toLowerCase()}),h5=No(function(o,l,p){return o+(p?" ":"")+l.toLowerCase()}),p5=lb("toLowerCase");function d5(o,l,p){o=Wt(o),l=Pt(l);var y=l?So(o):0;if(!l||y>=l)return o;var N=(l-y)/2;return Oc(gc(N),p)+o+Oc(mc(N),p)}function _5(o,l,p){o=Wt(o),l=Pt(l);var y=l?So(o):0;return l&&y<l?o+Oc(l-y,p):o}function m5(o,l,p){o=Wt(o),l=Pt(l);var y=l?So(o):0;return l&&y<l?Oc(l-y,p)+o:o}function g5(o,l,p){return p||l==null?l=0:l&&(l=+l),x3(Wt(o).replace(dr,""),l||0)}function E5(o,l,p){return(p?pn(o,l,p):l===n)?l=1:l=Pt(l),vp(Wt(o),l)}function v5(){var o=arguments,l=Wt(o[0]);return o.length<3?l:l.replace(o[1],o[2])}var y5=No(function(o,l,p){return o+(p?"_":"")+l.toLowerCase()});function T5(o,l,p){return p&&typeof p!="number"&&pn(o,l,p)&&(l=p=n),p=p===n?ye:p>>>0,p?(o=Wt(o),o&&(typeof l=="string"||l!=null&&!Fp(l))&&(l=Kn(l),!l&&xo(o))?ea(Ti(o),0,p):o.split(l,p)):[]}var b5=No(function(o,l,p){return o+(p?" ":"")+jp(l)});function R5(o,l,p){return o=Wt(o),p=p==null?0:Ka(Pt(p),0,o.length),l=Kn(l),o.slice(p,p+l.length)==l}function x5(o,l,p){var y=U.templateSettings;p&&pn(o,l,p)&&(l=n),o=Wt(o),l=Fc({},l,y,mb);var N=Fc({},l.imports,y.imports,mb),$=Gr(N),ee=rp(N,$),oe,Ee,De=0,Be=l.interpolate||Gs,qe="__p += '",Qe=ip((l.escape||Gs).source+"|"+Be.source+"|"+(Be===Zn?cs:Gs).source+"|"+(l.evaluate||Gs).source+"|$","g"),lt="//# sourceURL="+(Yt.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++PD+"]")+`
`;o.replace(Qe,function(yt,Kt,Ft,Vn,dn,Fn){return Ft||(Ft=Vn),qe+=o.slice(De,Fn).replace(qh,QD),Kt&&(oe=!0,qe+=`' +
__e(`+Kt+`) +
'`),dn&&(Ee=!0,qe+=`';
`+dn+`;
__p += '`),Ft&&(qe+=`' +
((__t = (`+Ft+`)) == null ? '' : __t) +
'`),De=Fn+yt.length,yt}),qe+=`';
`;var vt=Yt.call(l,"variable")&&l.variable;if(!vt)qe=`with (obj) {
`+qe+`
}
`;else if(qs.test(vt))throw new Ot(u);qe=(Ee?qe.replace(Ye,""):qe).replace(We,"$1").replace(Xe,"$1;"),qe="function("+(vt||"obj")+`) {
`+(vt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(oe?", __e = _.escape":"")+(Ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+qe+`return __p
}`;var kt=uR(function(){return Gt($,lt+"return "+qe).apply(n,ee)});if(kt.source=qe,Vp(kt))throw kt;return kt}function S5(o){return Wt(o).toLowerCase()}function C5(o){return Wt(o).toUpperCase()}function A5(o,l,p){if(o=Wt(o),o&&(p||l===n))return gT(o);if(!o||!(l=Kn(l)))return o;var y=Ti(o),N=Ti(l),$=ET(y,N),ee=vT(y,N)+1;return ea(y,$,ee).join("")}function L5(o,l,p){if(o=Wt(o),o&&(p||l===n))return o.slice(0,TT(o)+1);if(!o||!(l=Kn(l)))return o;var y=Ti(o),N=vT(y,Ti(l))+1;return ea(y,0,N).join("")}function w5(o,l,p){if(o=Wt(o),o&&(p||l===n))return o.replace(dr,"");if(!o||!(l=Kn(l)))return o;var y=Ti(o),N=ET(y,Ti(l));return ea(y,N).join("")}function O5(o,l){var p=k,y=j;if(vr(l)){var N="separator"in l?l.separator:N;p="length"in l?Pt(l.length):p,y="omission"in l?Kn(l.omission):y}o=Wt(o);var $=o.length;if(xo(o)){var ee=Ti(o);$=ee.length}if(p>=$)return o;var oe=p-So(y);if(oe<1)return y;var Ee=ee?ea(ee,0,oe).join(""):o.slice(0,oe);if(N===n)return Ee+y;if(ee&&(oe+=Ee.length-oe),Fp(N)){if(o.slice(oe).search(N)){var De,Be=Ee;for(N.global||(N=ip(N.source,Wt(Qn.exec(N))+"g")),N.lastIndex=0;De=N.exec(Be);)var qe=De.index;Ee=Ee.slice(0,qe===n?oe:qe)}}else if(o.indexOf(Kn(N),oe)!=oe){var Qe=Ee.lastIndexOf(N);Qe>-1&&(Ee=Ee.slice(0,Qe))}return Ee+y}function I5(o){return o=Wt(o),o&&Bn.test(o)?o.replace(Et,a3):o}var N5=No(function(o,l,p){return o+(p?" ":"")+l.toUpperCase()}),jp=lb("toUpperCase");function oR(o,l,p){return o=Wt(o),l=p?n:l,l===n?t3(o)?l3(o):WD(o):o.match(l)||[]}var uR=Dt(function(o,l){try{return Un(o,n,l)}catch(p){return Vp(p)?p:new Ot(p)}}),P5=gs(function(o,l){return ni(l,function(p){p=Xi(p),_s(o,p,Kp(o[p],o))}),o});function k5(o){var l=o==null?0:o.length,p=gt();return o=l?_r(o,function(y){if(typeof y[1]!="function")throw new ii(r);return[p(y[0]),y[1]]}):[],Dt(function(y){for(var N=-1;++N<l;){var $=o[N];if(Un($[0],this,y))return Un($[1],this,y)}})}function D5(o){return aB(ai(o,d))}function Wp(o){return function(){return o}}function B5(o,l){return o==null||o!==o?l:o}var U5=fb(),M5=fb(!0);function wn(o){return o}function Xp(o){return VT(typeof o=="function"?o:ai(o,d))}function K5(o){return qT(ai(o,d))}function $5(o,l){return GT(o,ai(l,d))}var V5=Dt(function(o,l){return function(p){return Mu(p,o,l)}}),F5=Dt(function(o,l){return function(p){return Mu(o,p,l)}});function Hp(o,l,p){var y=Gr(l),N=Rc(l,y);p==null&&!(vr(l)&&(N.length||!y.length))&&(p=l,l=o,o=this,N=Rc(l,Gr(l)));var $=!(vr(p)&&"chain"in p)||!!p.chain,ee=vs(o);return ni(N,function(oe){var Ee=l[oe];o[oe]=Ee,ee&&(o.prototype[oe]=function(){var De=this.__chain__;if($||De){var Be=o(this.__wrapped__),qe=Be.__actions__=Cn(this.__actions__);return qe.push({func:Ee,args:arguments,thisArg:o}),Be.__chain__=De,Be}return Ee.apply(o,Hs([this.value()],arguments))})}),o}function q5(){return Qr._===this&&(Qr._=_3),this}function Yp(){}function G5(o){return o=Pt(o),Dt(function(l){return jT(l,o)})}var j5=Cp(_r),W5=Cp(hT),X5=Cp(Jh);function lR(o){return Pp(o)?Zh(Xi(o)):RB(o)}function H5(o){return function(l){return o==null?n:$a(o,l)}}var Y5=pb(),z5=pb(!0);function zp(){return[]}function Jp(){return!1}function J5(){return{}}function Z5(){return""}function Q5(){return!0}function e8(o,l){if(o=Pt(o),o<1||o>he)return[];var p=ye,y=sn(o,ye);l=gt(l),o-=ye;for(var N=tp(y,l);++p<o;)l(p);return N}function t8(o){return Nt(o)?_r(o,Xi):$n(o)?[o]:Cn(wb(Wt(o)))}function r8(o){var l=++p3;return Wt(o)+l}var n8=wc(function(o,l){return o+l},0),i8=Ap("ceil"),s8=wc(function(o,l){return o/l},1),a8=Ap("floor");function o8(o){return o&&o.length?bc(o,wn,hp):n}function u8(o,l){return o&&o.length?bc(o,gt(l,2),hp):n}function l8(o){return _T(o,wn)}function c8(o,l){return _T(o,gt(l,2))}function f8(o){return o&&o.length?bc(o,wn,mp):n}function h8(o,l){return o&&o.length?bc(o,gt(l,2),mp):n}var p8=wc(function(o,l){return o*l},1),d8=Ap("round"),_8=wc(function(o,l){return o-l},0);function m8(o){return o&&o.length?ep(o,wn):0}function g8(o,l){return o&&o.length?ep(o,gt(l,2)):0}return U.after=KM,U.ary=$b,U.assign=C4,U.assignIn=eR,U.assignInWith=Fc,U.assignWith=A4,U.at=L4,U.before=Vb,U.bind=Kp,U.bindAll=P5,U.bindKey=Fb,U.castArray=JM,U.chain=Ub,U.chunk=aU,U.compact=oU,U.concat=uU,U.cond=k5,U.conforms=D5,U.constant=Wp,U.countBy=mM,U.create=w4,U.curry=qb,U.curryRight=Gb,U.debounce=jb,U.defaults=O4,U.defaultsDeep=I4,U.defer=$M,U.delay=VM,U.difference=lU,U.differenceBy=cU,U.differenceWith=fU,U.drop=hU,U.dropRight=pU,U.dropRightWhile=dU,U.dropWhile=_U,U.fill=mU,U.filter=EM,U.flatMap=TM,U.flatMapDeep=bM,U.flatMapDepth=RM,U.flatten=Pb,U.flattenDeep=gU,U.flattenDepth=EU,U.flip=FM,U.flow=U5,U.flowRight=M5,U.fromPairs=vU,U.functions=M4,U.functionsIn=K4,U.groupBy=xM,U.initial=TU,U.intersection=bU,U.intersectionBy=RU,U.intersectionWith=xU,U.invert=V4,U.invertBy=F4,U.invokeMap=CM,U.iteratee=Xp,U.keyBy=AM,U.keys=Gr,U.keysIn=Ln,U.map=Bc,U.mapKeys=G4,U.mapValues=j4,U.matches=K5,U.matchesProperty=$5,U.memoize=Mc,U.merge=W4,U.mergeWith=tR,U.method=V5,U.methodOf=F5,U.mixin=Hp,U.negate=Kc,U.nthArg=G5,U.omit=X4,U.omitBy=H4,U.once=qM,U.orderBy=LM,U.over=j5,U.overArgs=GM,U.overEvery=W5,U.overSome=X5,U.partial=$p,U.partialRight=Wb,U.partition=wM,U.pick=Y4,U.pickBy=rR,U.property=lR,U.propertyOf=H5,U.pull=LU,U.pullAll=Db,U.pullAllBy=wU,U.pullAllWith=OU,U.pullAt=IU,U.range=Y5,U.rangeRight=z5,U.rearg=jM,U.reject=NM,U.remove=NU,U.rest=WM,U.reverse=Up,U.sampleSize=kM,U.set=J4,U.setWith=Z4,U.shuffle=DM,U.slice=PU,U.sortBy=MM,U.sortedUniq=$U,U.sortedUniqBy=VU,U.split=T5,U.spread=XM,U.tail=FU,U.take=qU,U.takeRight=GU,U.takeRightWhile=jU,U.takeWhile=WU,U.tap=oM,U.throttle=HM,U.thru=Dc,U.toArray=Jb,U.toPairs=nR,U.toPairsIn=iR,U.toPath=t8,U.toPlainObject=Qb,U.transform=Q4,U.unary=YM,U.union=XU,U.unionBy=HU,U.unionWith=YU,U.uniq=zU,U.uniqBy=JU,U.uniqWith=ZU,U.unset=e5,U.unzip=Mp,U.unzipWith=Bb,U.update=t5,U.updateWith=r5,U.values=Do,U.valuesIn=n5,U.without=QU,U.words=oR,U.wrap=zM,U.xor=eM,U.xorBy=tM,U.xorWith=rM,U.zip=nM,U.zipObject=iM,U.zipObjectDeep=sM,U.zipWith=aM,U.entries=nR,U.entriesIn=iR,U.extend=eR,U.extendWith=Fc,Hp(U,U),U.add=n8,U.attempt=uR,U.camelCase=o5,U.capitalize=sR,U.ceil=i8,U.clamp=i5,U.clone=ZM,U.cloneDeep=e4,U.cloneDeepWith=t4,U.cloneWith=QM,U.conformsTo=r4,U.deburr=aR,U.defaultTo=B5,U.divide=s8,U.endsWith=u5,U.eq=Ri,U.escape=l5,U.escapeRegExp=c5,U.every=gM,U.find=vM,U.findIndex=Ib,U.findKey=N4,U.findLast=yM,U.findLastIndex=Nb,U.findLastKey=P4,U.floor=a8,U.forEach=Mb,U.forEachRight=Kb,U.forIn=k4,U.forInRight=D4,U.forOwn=B4,U.forOwnRight=U4,U.get=qp,U.gt=n4,U.gte=i4,U.has=$4,U.hasIn=Gp,U.head=kb,U.identity=wn,U.includes=SM,U.indexOf=yU,U.inRange=s5,U.invoke=q4,U.isArguments=qa,U.isArray=Nt,U.isArrayBuffer=s4,U.isArrayLike=An,U.isArrayLikeObject=Ar,U.isBoolean=a4,U.isBuffer=ta,U.isDate=o4,U.isElement=u4,U.isEmpty=l4,U.isEqual=c4,U.isEqualWith=f4,U.isError=Vp,U.isFinite=h4,U.isFunction=vs,U.isInteger=Xb,U.isLength=$c,U.isMap=Hb,U.isMatch=p4,U.isMatchWith=d4,U.isNaN=_4,U.isNative=m4,U.isNil=E4,U.isNull=g4,U.isNumber=Yb,U.isObject=vr,U.isObjectLike=Sr,U.isPlainObject=Gu,U.isRegExp=Fp,U.isSafeInteger=v4,U.isSet=zb,U.isString=Vc,U.isSymbol=$n,U.isTypedArray=ko,U.isUndefined=y4,U.isWeakMap=T4,U.isWeakSet=b4,U.join=SU,U.kebabCase=f5,U.last=ui,U.lastIndexOf=CU,U.lowerCase=h5,U.lowerFirst=p5,U.lt=R4,U.lte=x4,U.max=o8,U.maxBy=u8,U.mean=l8,U.meanBy=c8,U.min=f8,U.minBy=h8,U.stubArray=zp,U.stubFalse=Jp,U.stubObject=J5,U.stubString=Z5,U.stubTrue=Q5,U.multiply=p8,U.nth=AU,U.noConflict=q5,U.noop=Yp,U.now=Uc,U.pad=d5,U.padEnd=_5,U.padStart=m5,U.parseInt=g5,U.random=a5,U.reduce=OM,U.reduceRight=IM,U.repeat=E5,U.replace=v5,U.result=z4,U.round=d8,U.runInContext=me,U.sample=PM,U.size=BM,U.snakeCase=y5,U.some=UM,U.sortedIndex=kU,U.sortedIndexBy=DU,U.sortedIndexOf=BU,U.sortedLastIndex=UU,U.sortedLastIndexBy=MU,U.sortedLastIndexOf=KU,U.startCase=b5,U.startsWith=R5,U.subtract=_8,U.sum=m8,U.sumBy=g8,U.template=x5,U.times=e8,U.toFinite=ys,U.toInteger=Pt,U.toLength=Zb,U.toLower=S5,U.toNumber=li,U.toSafeInteger=S4,U.toString=Wt,U.toUpper=C5,U.trim=A5,U.trimEnd=L5,U.trimStart=w5,U.truncate=O5,U.unescape=I5,U.uniqueId=r8,U.upperCase=N5,U.upperFirst=jp,U.each=Mb,U.eachRight=Kb,U.first=kb,Hp(U,function(){var o={};return ji(U,function(l,p){Yt.call(U.prototype,p)||(o[p]=l)}),o}(),{chain:!1}),U.VERSION=i,ni(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){U[o].placeholder=U}),ni(["drop","take"],function(o,l){$t.prototype[o]=function(p){p=p===n?1:Ur(Pt(p),0);var y=this.__filtered__&&!l?new $t(this):this.clone();return y.__filtered__?y.__takeCount__=sn(p,y.__takeCount__):y.__views__.push({size:sn(p,ye),type:o+(y.__dir__<0?"Right":"")}),y},$t.prototype[o+"Right"]=function(p){return this.reverse()[o](p).reverse()}}),ni(["filter","map","takeWhile"],function(o,l){var p=l+1,y=p==fe||p==re;$t.prototype[o]=function(N){var $=this.clone();return $.__iteratees__.push({iteratee:gt(N,3),type:p}),$.__filtered__=$.__filtered__||y,$}}),ni(["head","last"],function(o,l){var p="take"+(l?"Right":"");$t.prototype[o]=function(){return this[p](1).value()[0]}}),ni(["initial","tail"],function(o,l){var p="drop"+(l?"":"Right");$t.prototype[o]=function(){return this.__filtered__?new $t(this):this[p](1)}}),$t.prototype.compact=function(){return this.filter(wn)},$t.prototype.find=function(o){return this.filter(o).head()},$t.prototype.findLast=function(o){return this.reverse().find(o)},$t.prototype.invokeMap=Dt(function(o,l){return typeof o=="function"?new $t(this):this.map(function(p){return Mu(p,o,l)})}),$t.prototype.reject=function(o){return this.filter(Kc(gt(o)))},$t.prototype.slice=function(o,l){o=Pt(o);var p=this;return p.__filtered__&&(o>0||l<0)?new $t(p):(o<0?p=p.takeRight(-o):o&&(p=p.drop(o)),l!==n&&(l=Pt(l),p=l<0?p.dropRight(-l):p.take(l-o)),p)},$t.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},$t.prototype.toArray=function(){return this.take(ye)},ji($t.prototype,function(o,l){var p=/^(?:filter|find|map|reject)|While$/.test(l),y=/^(?:head|last)$/.test(l),N=U[y?"take"+(l=="last"?"Right":""):l],$=y||/^find/.test(l);N&&(U.prototype[l]=function(){var ee=this.__wrapped__,oe=y?[1]:arguments,Ee=ee instanceof $t,De=oe[0],Be=Ee||Nt(ee),qe=function(Kt){var Ft=N.apply(U,Hs([Kt],oe));return y&&Qe?Ft[0]:Ft};Be&&p&&typeof De=="function"&&De.length!=1&&(Ee=Be=!1);var Qe=this.__chain__,lt=!!this.__actions__.length,vt=$&&!Qe,kt=Ee&&!lt;if(!$&&Be){ee=kt?ee:new $t(this);var yt=o.apply(ee,oe);return yt.__actions__.push({func:Dc,args:[qe],thisArg:n}),new si(yt,Qe)}return vt&&kt?o.apply(this,oe):(yt=this.thru(qe),vt?y?yt.value()[0]:yt.value():yt)})}),ni(["pop","push","shift","sort","splice","unshift"],function(o){var l=oc[o],p=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",y=/^(?:pop|shift)$/.test(o);U.prototype[o]=function(){var N=arguments;if(y&&!this.__chain__){var $=this.value();return l.apply(Nt($)?$:[],N)}return this[p](function(ee){return l.apply(Nt(ee)?ee:[],N)})}}),ji($t.prototype,function(o,l){var p=U[l];if(p){var y=p.name+"";Yt.call(wo,y)||(wo[y]=[]),wo[y].push({name:l,func:p})}}),wo[Lc(n,A).name]=[{name:"wrapper",func:n}],$t.prototype.clone=I3,$t.prototype.reverse=N3,$t.prototype.value=P3,U.prototype.at=uM,U.prototype.chain=lM,U.prototype.commit=cM,U.prototype.next=fM,U.prototype.plant=pM,U.prototype.reverse=dM,U.prototype.toJSON=U.prototype.valueOf=U.prototype.value=_M,U.prototype.first=U.prototype.head,Iu&&(U.prototype[Iu]=hM),U},Co=c3();Da?((Da.exports=Co)._=Co,Xh._=Co):Qr._=Co}).call(uF)}(sl,sl.exports)),sl.exports}var cF=lF();const fF=dt({props:{player:Object},data(){return{onResizeWithContext:null,stage:null,windowHeight:window.innerHeight,isSubmitting:!1}},computed:{stageDimensions(){if(!this.stage)return{width:"auto",height:"auto"};const e=this.$refs.content.getBoundingClientRect(),n=this.$refs.stage,i=n.getBoundingClientRect(),s=n.parentElement.getBoundingClientRect(),a=Math.max(s.width*.9,240),r=Math.max(this.windowHeight-e.height+i.height,240),u=this.stage.canvas.width,c=this.stage.canvas.height,f=Math.min(a/u,r/c),h=u*f,d=c*f;return{width:`${h}px`,height:`${d}px`}}},mounted(){this.onResizeWithContext=cF.throttle(this.onResize.bind(this),400),window.addEventListener("resize",this.onResizeWithContext),this.setupStage()},beforeUnmount(){window.removeEventListener("resize",this.onResizeWithContext),this.stage&&this.stage.beforeDestroy()},methods:{setupStage(){const t=this.$refs.stage,e={};this.player.size&&(e.width=this.player.size.width,e.height=this.player.size.height),this.player.thicknesses&&(e.thickness=this.player.thicknesses[0]),this.player.colors&&(e.color=this.player.colors[0]),this.player.maxPoints&&(e.maxPoints=this.player.maxPoints);const n=new l9(t,e);n.canvas.lines=bn([]),n.canvas.lines2=bn([]),this.stage=n,this.stage.on("up",()=>{var s;if(!this.player.live)return;const i=((s=this.stage)==null?void 0:s.getObject())||{};i.done=!1,this.$ecast.updateObject(this.player.responseKey,i).catch(this.$handleEcastError)})},onSubmitClick(){if(!this.stage)return;this.isSubmitting=!0,this.stage.canvas.submitting=!0;const t=this.stage.getObject();t.done=!0,t.action="submit",this.$ecast.updateObject(this.player.responseKey,t).catch(this.$handleEcastError)},onResize(){this.windowHeight=window.innerHeight}}}),hF={class:"draw"},pF={ref:"content",class:"content"},dF={class:"constrain"},_F={key:0};function mF(t,e,n,i,s,a){const r=Kr("bb");return Y(),te("div",hF,[V("div",pF,[V("div",dF,[t.player.prompt?St((Y(),te("div",_F,null,512)),[[r,t.player.prompt]]):Ke("",!0),V("div",{ref:"stage",class:"stage",style:jr(t.stageDimensions)},null,4),V("button",{onClick:e[0]||(e[0]=Ir((...u)=>t.onSubmitClick&&t.onSubmitClick(...u),["prevent"]))},nt(t.player.submitText||"SUBMIT"),1)])],512)])}const gF=rt(fF,[["render",mF]]),EF=dt({props:{player:{type:Object,required:!0}},data(){return{message:null,status:"waiting",dataUrl:null,stream:null}},computed:{cssVars(){return{"--aspectRatio":this.player.size.width/this.player.size.height}}},methods:{async onStartClick(){if(!navigator.mediaDevices.getUserMedia){this.status="unsupported";return}try{const t=await navigator.mediaDevices.getUserMedia({audio:!1,video:!0});await t.getVideoTracks()[0].applyConstraints(this.player.size),this.status="allowed",await this.$nextTick();const n=this.$refs.stream;console.log(n),n.srcObject=t}catch(t){this.message=t,this.status="notAllowed";return}this.status="allowed"},onTakeClick(){const t=this.$refs.stream,e=this.$refs.canvas;e.getContext("2d").drawImage(t,0,0,this.player.size.width,this.player.size.height),this.dataUrl=e.toDataURL("image/jpg",.5)},onSwitchClick(){},onCancelClick(){this.dataUrl=null},async onSendClick(){const t=this.$refs.preview,e=this.player.sizesToSend.map(n=>{const i=document.createElement("canvas"),s=i.getContext("2d");return i.width=n.width,i.height=n.height,s.drawImage(t,0,0,n.width,n.height),{base64:i.toDataURL("image/jpg",.5).split(";base64,")[1],size:n}});try{await this.$ecast.updateObject(this.player.responseKey,{pictures:e}),this.dataUrl=null}catch(n){this.$handleEcastError(n)}}}}),vF={class:"constrain"},yF={key:0},TF={key:3},bF={class:"stream"},RF=["width","height"],xF={ref:"stream",autoplay:"",muted:"",playsinline:""},SF=["src"],CF={key:0,class:"controls"},AF={key:1,class:"controls"};function LF(t,e,n,i,s,a){const r=Kr("bb");return Y(),te("div",{class:"camera",style:jr(t.cssVars)},[V("div",vF,[t.player.prompt?St((Y(),te("p",yF,null,512)),[[r,t.player.prompt]]):Ke("",!0),t.status==="waiting"?(Y(),te(ht,{key:1},[e[5]||(e[5]=V("p",null,"Waiting for permissions",-1)),V("button",{class:"start",onClick:e[0]||(e[0]=(...u)=>t.onStartClick&&t.onStartClick(...u))},"START CAMERA")],64)):Ke("",!0),t.status==="notAllowed"?(Y(),te(ht,{key:2},[e[6]||(e[6]=V("p",null,"Camera permission not granted",-1)),V("p",null,nt(t.message),1)],64)):Ke("",!0),t.status==="unsupported"?(Y(),te("p",TF,"Camera is unsupported")):Ke("",!0),t.status==="allowed"?(Y(),te(ht,{key:4},[V("div",bF,[V("canvas",{ref:"canvas",width:t.player.size.width,height:t.player.size.height},null,8,RF),V("video",xF,null,512),t.dataUrl?(Y(),te("img",{key:0,ref:"preview",src:t.dataUrl,alt:"preview"},null,8,SF)):Ke("",!0)]),t.dataUrl?(Y(),te("div",CF,[V("button",{onClick:e[1]||(e[1]=Ir((...u)=>t.onCancelClick&&t.onCancelClick(...u),["prevent"]))},"RETAKE"),V("button",{onClick:e[2]||(e[2]=Ir((...u)=>t.onSendClick&&t.onSendClick(...u),["prevent"]))},"SEND")])):(Y(),te("div",AF,[V("button",{onClick:e[3]||(e[3]=Ir((...u)=>t.onTakeClick&&t.onTakeClick(...u),["prevent"]))},"TAKE"),V("button",{disabled:"true",onClick:e[4]||(e[4]=Ir((...u)=>t.onSwitchClick&&t.onSwitchClick(...u),["prevent"]))},"SWITCH CAMERA")]))],64)):Ke("",!0)])],4)}const wF=rt(EF,[["render",LF],["__scopeId","data-v-238e195a"]]),OF=dt({components:{Doodle:e2},props:{player:Object},data(){var n,i,s,a;const t=((i=(n=this.player)==null?void 0:n.doodle.colors)==null?void 0:i[0])??"#000000",e=((a=(s=this.player)==null?void 0:s.doodle.weights)==null?void 0:a[0])??4;return{color:t,weight:e,panel:null}},computed:{maxWeight(){var e,n;if(!((n=(e=this.player)==null?void 0:e.doodle.weights)!=null&&n.length))return 0;const t=this.player.doodle.weights.length-1;return this.player.doodle.weights[t]}},methods:{onToggleClick(t){if(this.panel===t){this.panel=null;return}this.panel=t},onColorClick(t){this.panel=null,this.color=t},onWeightClick(t){this.panel=null,this.weight=t}}}),IF={class:"doodle"},NF={class:"constrain"},PF={key:0},kF={key:1,class:"tools"},DF={key:0,class:"panel"},BF={key:0,class:"options"},UF=["onClick"],MF={key:1,class:"panel"},KF={key:0,class:"options"},$F=["onClick"];function VF(t,e,n,i,s,a){var c,f,h,d,g,E;const r=ct("Doodle"),u=Kr("bb");return Y(),te("div",IF,[V("div",NF,[(c=t.player)!=null&&c.prompt?St((Y(),te("p",PF,null,512)),[[u,t.player.prompt]]):Ke("",!0),(f=t.player)!=null&&f.hideTools?Ke("",!0):(Y(),te("div",kF,[(d=(h=t.player)==null?void 0:h.doodle.weights)!=null&&d.length?(Y(),te("div",DF,[V("button",{class:"toggle",onClick:e[0]||(e[0]=v=>t.onToggleClick("weights"))},[V("span",{style:jr({transform:`scale(${t.weight/t.maxWeight})`,backgroundColor:t.color})},null,4)]),t.panel==="weights"?(Y(),te("div",BF,[(Y(!0),te(ht,null,Qt(t.player.doodle.weights,v=>(Y(),te("button",{key:v,class:et({selected:v===t.weight}),onClick:S=>t.onWeightClick(v)},[V("span",{style:jr({transform:`scale(${v/t.maxWeight})`,backgroundColor:t.color})},null,4)],10,UF))),128))])):Ke("",!0)])):Ke("",!0),(E=(g=t.player)==null?void 0:g.doodle.weights)!=null&&E.length?(Y(),te("div",MF,[V("button",{class:"toggle",onClick:e[1]||(e[1]=v=>t.onToggleClick("colors"))},[V("span",{style:jr({backgroundColor:t.color})},null,4)]),t.panel==="colors"?(Y(),te("div",KF,[(Y(!0),te(ht,null,Qt(t.player.doodle.colors,v=>(Y(),te("button",{key:v,class:et({selected:v===t.color}),onClick:S=>t.onColorClick(v)},[V("span",{style:jr({backgroundColor:v})},null,4)],10,$F))),128))])):Ke("",!0)])):Ke("",!0)])),ft(r,{"canvas-options":{color:t.color,weight:t.weight},"hide-submit":t.player.hideSubmit,"hide-undo":t.player.hideUndo,player:t.player},null,8,["canvas-options","hide-submit","hide-undo","player"])])])}const FF=rt(OF,[["render",VF]]),qF=dt({props:{cancelText:String,classes:Object,messageLocation:String,shouldStart:Function,startText:String,gameStartedOptions:Object,canStart:{type:Boolean,default:!0},player:{type:Object,required:!0}},computed:{joinedCountText(){return this.$tc("LOBBY.JOINED_COUNT",this.player.joinedPlayers,{count:this.player.joinedPlayers,maxPlayers:this.player.maxPlayers})},localClasses(){var t,e,n;return{message:((t=this.classes)==null?void 0:t.message)??"message",status:((e=this.classes)==null?void 0:e.status)??"status",action:((n=this.classes)==null?void 0:n.action)??"action"}},neededText(){return this.$tc("LOBBY.PLAYERS_NEEDED",this.player.minPlayers-this.player.joinedPlayers)},waitingForVIPText(){return this.$t("LOBBY.WAITING_FOR_VIP",{name:this.player.vipName})}},methods:{async onCancelClick(){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{action:"cancel"})}catch(t){this.$handleEcastError(t)}},async onStartClick(){var t;if(this.player.responseKey&&this.canStart&&!(this.shouldStart&&!await Promise.resolve(this.shouldStart())))try{if(await this.$ecast.updateObject(this.player.responseKey,{action:"start"}),this.$ecastRoom.appTag){const e=this.gameStartedOptions||{};e.numberOfPlayer=this.player.joinedPlayers,e.locale=this.$ecastRoom.locale,(t=window.tv.analytics)==null||t.gameStarted(this.$ecastRoom.appTag,e)}}catch(e){this.$handleEcastError(e)}}}}),GF=["textContent"],jF=["disabled","textContent"],WF=["textContent"],XF=["textContent"];function HF(t,e,n,i,s,a){const r=Kr("t");return Y(),te("div",{class:et(["lobby-actions",{vip:t.player.hasControls}])},[!t.messageLocation||t.messageLocation==="top"?(Y(),te("p",{key:0,class:et(t.localClasses.message),textContent:nt(t.joinedCountText)},null,10,GF)):Ke("",!0),cl(t.$slots,"default"),t.player.hasControls?(Y(),te(ht,{key:1},[t.player.status==="waitingForMore"?(Y(),te("p",{key:0,class:et(t.localClasses.status)},nt(t.neededText),3)):Ke("",!0),t.player.status==="canStart"?(Y(),te("button",{key:1,class:et(t.localClasses.action),disabled:t.canStart===!1,onClick:e[0]||(e[0]=(...u)=>t.onStartClick&&t.onStartClick(...u)),textContent:nt(t.startText||t.$t("LOBBY.BUTTON_START"))},null,10,jF)):Ke("",!0),t.player.status==="countdown"?(Y(),te("button",{key:2,class:et(t.localClasses.action),onClick:e[1]||(e[1]=(...u)=>t.onCancelClick&&t.onCancelClick(...u)),textContent:nt(t.cancelText||t.$t("LOBBY.BUTTON_CANCEL"))},null,10,WF)):Ke("",!0)],64)):t.player.gamepadStart?(Y(),te(ht,{key:2},[t.player.status==="waitingForMore"?(Y(),te("p",{key:0,class:et(t.localClasses.status)},nt(t.neededText),3)):Ke("",!0),t.player.status==="canStart"?St((Y(),te("p",{key:1,class:et(t.localClasses.status)},null,2)),[[r,"LOBBY.WAITING_FOR_GAMEPAD"]]):Ke("",!0),t.player.status==="countdown"?St((Y(),te("p",{key:2,class:et(t.localClasses.status)},null,2)),[[r,"LOBBY.GAME_STARTING"]]):Ke("",!0)],64)):(Y(),te(ht,{key:3},[t.player.status==="waitingForMore"?(Y(),te("p",{key:0,class:et(t.localClasses.status)},nt(t.neededText),3)):Ke("",!0),t.player.status==="canStart"?(Y(),te("p",{key:1,class:et(t.localClasses.status)},nt(t.waitingForVIPText),3)):Ke("",!0),t.player.status==="countdown"?St((Y(),te("p",{key:2,class:et(t.localClasses.status)},null,2)),[[r,"LOBBY.GAME_STARTING"]]):Ke("",!0)],64)),t.messageLocation==="bottom"?(Y(),te("p",{key:4,class:et(t.localClasses.message),textContent:nt(t.joinedCountText)},null,10,XF)):Ke("",!0)],2)}const YF=rt(qF,[["render",HF]]),zF=dt({components:{LobbyActions:YF},props:{player:Object}}),JF={class:"lobby"},ZF={class:"constrain"};function QF(t,e,n,i,s,a){const r=ct("LobbyActions");return Y(),te("div",JF,[V("div",ZF,[ft(r,{player:t.player},null,8,["player"])])])}const eq=rt(zF,[["render",QF]]),tq=dt({props:{shouldStart:Function,messageLocation:String,classes:Object,gameStartedOptions:Object,player:{type:Object,required:!0}},computed:{localClasses(){var t,e,n;return{message:((t=this.classes)==null?void 0:t.message)??"message",status:((e=this.classes)==null?void 0:e.status)??"status",action:((n=this.classes)==null?void 0:n.action)??"action"}},waitingForVIPText(){return this.$t("LOBBY.WAITING_FOR_VIP",{name:this.player.vipName})}},methods:{getGameName(t){const e=_a(t);return e!=null&&e.name?e.name:t},async onSamePlayers(){var t;if(this.player.responseKey&&!(this.shouldStart&&!await Promise.resolve(this.shouldStart())))try{if(await this.$ecast.updateObject(this.player.responseKey,{action:"samePlayers"}),this.$ecastRoom.appTag){const e=this.gameStartedOptions||{};e.isSequel=!0,e.locale=this.$ecastRoom.locale,(t=window.tv.analytics)==null||t.gameStarted(this.$ecastRoom.appTag,e)}}catch(e){this.$handleEcastError(e)}},async onNewPlayers(){if(this.player.responseKey&&!(this.shouldStart&&!await Promise.resolve(this.shouldStart())))try{await this.$ecast.updateObject(this.player.responseKey,{action:"newPlayers"})}catch(t){this.$handleEcastError(t)}},async onChangeGame(t){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{action:t}),window.location.reload()}catch(e){this.$handleEcastError(e)}},async onCancel(){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{action:"cancel"})}catch(t){this.$handleEcastError(t)}}}}),rq=["onClick"];function nq(t,e,n,i,s,a){var u;const r=Kr("t");return t.player&&t.player.status?(Y(),te("div",{key:0,class:et(["post-game-actions",{vip:t.player.hasControls}])},[!t.messageLocation||t.messageLocation==="top"?St((Y(),te("p",{key:0,class:et(t.localClasses.message)},null,2)),[[r,"POST_GAME.PLAY_AGAIN"]]):Ke("",!0),t.player.hasControls?(Y(),te(ht,{key:1},[t.player.status==="waiting"?St((Y(),te("button",{key:0,class:et(t.localClasses.action),onClick:e[0]||(e[0]=(...c)=>t.onSamePlayers&&t.onSamePlayers(...c))},null,2)),[[r,"POST_GAME.BUTTON_SAME_PLAYERS"]]):Ke("",!0),t.player.status==="waiting"?St((Y(),te("button",{key:1,class:et(t.localClasses.action),onClick:e[1]||(e[1]=(...c)=>t.onNewPlayers&&t.onNewPlayers(...c))},null,2)),[[r,"POST_GAME.BUTTON_NEW_PLAYERS"]]):Ke("",!0),t.player.status==="waiting"&&((u=t.player.gamesToLaunch)!=null&&u.length)?(Y(!0),te(ht,{key:2},Qt(t.player.gamesToLaunch,c=>St((Y(),te("button",{key:c,onClick:f=>t.onChangeGame(c)},null,8,rq)),[[r,{path:"POST_GAME.BUTTON_NEXT_GAME",args:{gameName:t.getGameName(c)}}]])),128)):Ke("",!0),t.player.status==="countdown"?St((Y(),te("button",{key:3,class:et(t.localClasses.action),onClick:e[2]||(e[2]=(...c)=>t.onCancel&&t.onCancel(...c))},null,2)),[[r,"LOBBY.BUTTON_CANCEL"]]):Ke("",!0)],64)):t.player.gamepadStart?St((Y(),te("p",{key:2,class:et(t.localClasses.status)},null,2)),[[r,"LOBBY.WAITING_FOR_GAMEPAD"]]):(Y(),te("p",{key:3,class:et(t.localClasses.status)},nt(t.waitingForVIPText),3)),t.messageLocation==="bottom"?St((Y(),te("p",{key:4,class:et(t.localClasses.message)},null,2)),[[r,"POST_GAME.PLAY_AGAIN"]]):Ke("",!0)],2)):Ke("",!0)}const iq=rt(tq,[["render",nq]]),sq=dt({components:{PostGameActions:iq},props:{player:Object}}),aq={class:"post-game"},oq={class:"constrain"};function uq(t,e,n,i,s,a){const r=ct("PostGameActions");return Y(),te("div",aq,[V("div",oq,[ft(r,{player:t.player},null,8,["player"])])])}const lq=rt(sq,[["render",uq]]),cq=dt({props:{modelValue:String,sanitizers:Array},emits:{"update:modelValue":t=>!0},watch:{modelValue(t,e){if(t!==e){const n=this.$refs.input;n.value=t}}},methods:{focus(){this.$refs.input.focus()},async onInput(t){const e=t.target,n=e.maxLength===-1?Number.MAX_SAFE_INTEGER:e.maxLength;if(this.sanitizers&&(e.value=U2.withTypes(e.value,[...this.sanitizers])),e.value.length>n){e.value=e.value.substring(0,n);return}this.$emit("update:modelValue",e.value),await this.$nextTick(),e.value!==this.modelValue&&(e.value=this.modelValue)}}}),fq=["value"];function hq(t,e,n,i,s,a){return Y(),te("input",{ref:"input",value:t.modelValue,onInput:e[0]||(e[0]=(...r)=>t.onInput&&t.onInput(...r))},null,40,fq)}const M2=rt(cq,[["render",hq]]);var dl=new Map;function pq(t){var e=dl.get(t);e&&e.destroy()}function dq(t){var e=dl.get(t);e&&e.update()}var al=null;typeof window>"u"?((al=function(t){return t}).destroy=function(t){return t},al.update=function(t){return t}):((al=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],function(n){return function(i){if(i&&i.nodeName&&i.nodeName==="TEXTAREA"&&!dl.has(i)){var s,a=null,r=window.getComputedStyle(i),u=(s=i.value,function(){f({testForHeightReduction:s===""||!i.value.startsWith(s),restoreTextAlign:null}),s=i.value}),c=(function(d){i.removeEventListener("autosize:destroy",c),i.removeEventListener("autosize:update",h),i.removeEventListener("input",u),window.removeEventListener("resize",h),Object.keys(d).forEach(function(g){return i.style[g]=d[g]}),dl.delete(i)}).bind(i,{height:i.style.height,resize:i.style.resize,textAlign:i.style.textAlign,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap});i.addEventListener("autosize:destroy",c),i.addEventListener("autosize:update",h),i.addEventListener("input",u),window.addEventListener("resize",h),i.style.overflowX="hidden",i.style.wordWrap="break-word",dl.set(i,{destroy:c,update:h}),h()}function f(d){var g,E,v=d.restoreTextAlign,S=v===void 0?null:v,x=d.testForHeightReduction,A=x===void 0||x,w=r.overflowY;if(i.scrollHeight!==0&&(r.resize==="vertical"?i.style.resize="none":r.resize==="both"&&(i.style.resize="horizontal"),A&&(g=function(C){for(var R=[];C&&C.parentNode&&C.parentNode instanceof Element;)C.parentNode.scrollTop&&R.push([C.parentNode,C.parentNode.scrollTop]),C=C.parentNode;return function(){return R.forEach(function(_){var L=_[0],b=_[1];L.style.scrollBehavior="auto",L.scrollTop=b,L.style.scrollBehavior=null})}}(i),i.style.height=""),E=r.boxSizing==="content-box"?i.scrollHeight-(parseFloat(r.paddingTop)+parseFloat(r.paddingBottom)):i.scrollHeight+parseFloat(r.borderTopWidth)+parseFloat(r.borderBottomWidth),r.maxHeight!=="none"&&E>parseFloat(r.maxHeight)?(r.overflowY==="hidden"&&(i.style.overflow="scroll"),E=parseFloat(r.maxHeight)):r.overflowY!=="hidden"&&(i.style.overflow="hidden"),i.style.height=E+"px",S&&(i.style.textAlign=S),g&&g(),a!==E&&(i.dispatchEvent(new Event("autosize:resized",{bubbles:!0})),a=E),w!==r.overflow&&!S)){var I=r.textAlign;r.overflow==="hidden"&&(i.style.textAlign=I==="start"?"end":"start"),f({restoreTextAlign:I,testForHeightReduction:!0})}}function h(){f({testForHeightReduction:!0,restoreTextAlign:null})}}(n)}),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],pq),t},al.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],dq),t});var _q=al,mA={},gA={},Hu,EA;function kn(){if(EA)return Hu;EA=1;var t=function(e){return e&&e.Math===Math&&e};return Hu=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof br=="object"&&br)||t(typeof Hu=="object"&&Hu)||function(){return this}()||Function("return this")(),Hu}var _m={},mm,vA;function Jn(){return vA||(vA=1,mm=function(t){try{return!!t()}catch{return!0}}),mm}var gm,yA;function Sa(){if(yA)return gm;yA=1;var t=Jn();return gm=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),gm}var Em,TA;function Fy(){if(TA)return Em;TA=1;var t=Jn();return Em=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Em}var vm,bA;function Ks(){if(bA)return vm;bA=1;var t=Fy(),e=Function.prototype.call;return vm=t?e.bind(e):function(){return e.apply(e,arguments)},vm}var ym={},RA;function mq(){if(RA)return ym;RA=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,n=e&&!t.call({1:2},1);return ym.f=n?function(s){var a=e(this,s);return!!a&&a.enumerable}:t,ym}var Tm,xA;function K2(){return xA||(xA=1,Tm=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Tm}var bm,SA;function Rn(){if(SA)return bm;SA=1;var t=Fy(),e=Function.prototype,n=e.call,i=t&&e.bind.bind(n,n);return bm=t?i:function(s){return function(){return n.apply(s,arguments)}},bm}var Rm,CA;function uh(){if(CA)return Rm;CA=1;var t=Rn(),e=t({}.toString),n=t("".slice);return Rm=function(i){return n(e(i),8,-1)},Rm}var xm,AA;function gq(){if(AA)return xm;AA=1;var t=Rn(),e=Jn(),n=uh(),i=Object,s=t("".split);return xm=e(function(){return!i("z").propertyIsEnumerable(0)})?function(a){return n(a)==="String"?s(a,""):i(a)}:i,xm}var Sm,LA;function lh(){return LA||(LA=1,Sm=function(t){return t==null}),Sm}var Cm,wA;function Vl(){if(wA)return Cm;wA=1;var t=lh(),e=TypeError;return Cm=function(n){if(t(n))throw new e("Can't call method on "+n);return n},Cm}var Am,OA;function ch(){if(OA)return Am;OA=1;var t=gq(),e=Vl();return Am=function(n){return t(e(n))},Am}var Lm,IA;function Dn(){if(IA)return Lm;IA=1;var t=typeof document=="object"&&document.all;return Lm=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Lm}var wm,NA;function bu(){if(NA)return wm;NA=1;var t=Dn();return wm=function(e){return typeof e=="object"?e!==null:t(e)},wm}var Om,PA;function qy(){if(PA)return Om;PA=1;var t=kn(),e=Dn(),n=function(i){return e(i)?i:void 0};return Om=function(i,s){return arguments.length<2?n(t[i]):t[i]&&t[i][s]},Om}var Im,kA;function $2(){if(kA)return Im;kA=1;var t=Rn();return Im=t({}.isPrototypeOf),Im}var Nm,DA;function Eq(){return DA||(DA=1,Nm=typeof navigator<"u"&&String(navigator.userAgent)||""),Nm}var Pm,BA;function vq(){if(BA)return Pm;BA=1;var t=kn(),e=Eq(),n=t.process,i=t.Deno,s=n&&n.versions||i&&i.version,a=s&&s.v8,r,u;return a&&(r=a.split("."),u=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!u&&e&&(r=e.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=e.match(/Chrome\/(\d+)/),r&&(u=+r[1]))),Pm=u,Pm}var km,UA;function V2(){if(UA)return km;UA=1;var t=vq(),e=Jn(),n=kn(),i=n.String;return km=!!Object.getOwnPropertySymbols&&!e(function(){var s=Symbol("symbol detection");return!i(s)||!(Object(s)instanceof Symbol)||!Symbol.sham&&t&&t<41}),km}var Dm,MA;function F2(){if(MA)return Dm;MA=1;var t=V2();return Dm=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Dm}var Bm,KA;function q2(){if(KA)return Bm;KA=1;var t=qy(),e=Dn(),n=$2(),i=F2(),s=Object;return Bm=i?function(a){return typeof a=="symbol"}:function(a){var r=t("Symbol");return e(r)&&n(r.prototype,s(a))},Bm}var Um,$A;function yq(){if($A)return Um;$A=1;var t=String;return Um=function(e){try{return t(e)}catch{return"Object"}},Um}var Mm,VA;function Tq(){if(VA)return Mm;VA=1;var t=Dn(),e=yq(),n=TypeError;return Mm=function(i){if(t(i))return i;throw new n(e(i)+" is not a function")},Mm}var Km,FA;function Gy(){if(FA)return Km;FA=1;var t=Tq(),e=lh();return Km=function(n,i){var s=n[i];return e(s)?void 0:t(s)},Km}var $m,qA;function bq(){if(qA)return $m;qA=1;var t=Ks(),e=Dn(),n=bu(),i=TypeError;return $m=function(s,a){var r,u;if(a==="string"&&e(r=s.toString)&&!n(u=t(r,s))||e(r=s.valueOf)&&!n(u=t(r,s))||a!=="string"&&e(r=s.toString)&&!n(u=t(r,s)))return u;throw new i("Can't convert object to primitive value")},$m}var Vm={exports:{}},Fm,GA;function G2(){return GA||(GA=1,Fm=!1),Fm}var qm,jA;function jy(){if(jA)return qm;jA=1;var t=kn(),e=Object.defineProperty;return qm=function(n,i){try{e(t,n,{value:i,configurable:!0,writable:!0})}catch{t[n]=i}return i},qm}var WA;function Wy(){if(WA)return Vm.exports;WA=1;var t=G2(),e=kn(),n=jy(),i="__core-js_shared__",s=Vm.exports=e[i]||n(i,{});return(s.versions||(s.versions=[])).push({version:"3.37.1",mode:t?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"}),Vm.exports}var Gm,XA;function Xy(){if(XA)return Gm;XA=1;var t=Wy();return Gm=function(e,n){return t[e]||(t[e]=n||{})},Gm}var jm,HA;function j2(){if(HA)return jm;HA=1;var t=Vl(),e=Object;return jm=function(n){return e(t(n))},jm}var Wm,YA;function Ca(){if(YA)return Wm;YA=1;var t=Rn(),e=j2(),n=t({}.hasOwnProperty);return Wm=Object.hasOwn||function(s,a){return n(e(s),a)},Wm}var Xm,zA;function W2(){if(zA)return Xm;zA=1;var t=Rn(),e=0,n=Math.random(),i=t(1 .toString);return Xm=function(s){return"Symbol("+(s===void 0?"":s)+")_"+i(++e+n,36)},Xm}var Hm,JA;function co(){if(JA)return Hm;JA=1;var t=kn(),e=Xy(),n=Ca(),i=W2(),s=V2(),a=F2(),r=t.Symbol,u=e("wks"),c=a?r.for||r:r&&r.withoutSetter||i;return Hm=function(f){return n(u,f)||(u[f]=s&&n(r,f)?r[f]:c("Symbol."+f)),u[f]},Hm}var Ym,ZA;function Rq(){if(ZA)return Ym;ZA=1;var t=Ks(),e=bu(),n=q2(),i=Gy(),s=bq(),a=co(),r=TypeError,u=a("toPrimitive");return Ym=function(c,f){if(!e(c)||n(c))return c;var h=i(c,u),d;if(h){if(f===void 0&&(f="default"),d=t(h,c,f),!e(d)||n(d))return d;throw new r("Can't convert object to primitive value")}return f===void 0&&(f="number"),s(c,f)},Ym}var zm,QA;function X2(){if(QA)return zm;QA=1;var t=Rq(),e=q2();return zm=function(n){var i=t(n,"string");return e(i)?i:i+""},zm}var Jm,eL;function H2(){if(eL)return Jm;eL=1;var t=kn(),e=bu(),n=t.document,i=e(n)&&e(n.createElement);return Jm=function(s){return i?n.createElement(s):{}},Jm}var Zm,tL;function Y2(){if(tL)return Zm;tL=1;var t=Sa(),e=Jn(),n=H2();return Zm=!t&&!e(function(){return Object.defineProperty(n("div"),"a",{get:function(){return 7}}).a!==7}),Zm}var rL;function z2(){if(rL)return _m;rL=1;var t=Sa(),e=Ks(),n=mq(),i=K2(),s=ch(),a=X2(),r=Ca(),u=Y2(),c=Object.getOwnPropertyDescriptor;return _m.f=t?c:function(h,d){if(h=s(h),d=a(d),u)try{return c(h,d)}catch{}if(r(h,d))return i(!e(n.f,h,d),h[d])},_m}var Qm={},eg,nL;function J2(){if(nL)return eg;nL=1;var t=Sa(),e=Jn();return eg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),eg}var tg,iL;function fo(){if(iL)return tg;iL=1;var t=bu(),e=String,n=TypeError;return tg=function(i){if(t(i))return i;throw new n(e(i)+" is not an object")},tg}var sL;function fh(){if(sL)return Qm;sL=1;var t=Sa(),e=Y2(),n=J2(),i=fo(),s=X2(),a=TypeError,r=Object.defineProperty,u=Object.getOwnPropertyDescriptor,c="enumerable",f="configurable",h="writable";return Qm.f=t?n?function(g,E,v){if(i(g),E=s(E),i(v),typeof g=="function"&&E==="prototype"&&"value"in v&&h in v&&!v[h]){var S=u(g,E);S&&S[h]&&(g[E]=v.value,v={configurable:f in v?v[f]:S[f],enumerable:c in v?v[c]:S[c],writable:!1})}return r(g,E,v)}:r:function(g,E,v){if(i(g),E=s(E),i(v),e)try{return r(g,E,v)}catch{}if("get"in v||"set"in v)throw new a("Accessors not supported");return"value"in v&&(g[E]=v.value),g},Qm}var rg,aL;function Hy(){if(aL)return rg;aL=1;var t=Sa(),e=fh(),n=K2();return rg=t?function(i,s,a){return e.f(i,s,n(1,a))}:function(i,s,a){return i[s]=a,i},rg}var ng={exports:{}},ig,oL;function xq(){if(oL)return ig;oL=1;var t=Sa(),e=Ca(),n=Function.prototype,i=t&&Object.getOwnPropertyDescriptor,s=e(n,"name"),a=s&&(function(){}).name==="something",r=s&&(!t||t&&i(n,"name").configurable);return ig={EXISTS:s,PROPER:a,CONFIGURABLE:r},ig}var sg,uL;function Sq(){if(uL)return sg;uL=1;var t=Rn(),e=Dn(),n=Wy(),i=t(Function.toString);return e(n.inspectSource)||(n.inspectSource=function(s){return i(s)}),sg=n.inspectSource,sg}var ag,lL;function Cq(){if(lL)return ag;lL=1;var t=kn(),e=Dn(),n=t.WeakMap;return ag=e(n)&&/native code/.test(String(n)),ag}var og,cL;function Z2(){if(cL)return og;cL=1;var t=Xy(),e=W2(),n=t("keys");return og=function(i){return n[i]||(n[i]=e(i))},og}var ug,fL;function Yy(){return fL||(fL=1,ug={}),ug}var lg,hL;function Q2(){if(hL)return lg;hL=1;var t=Cq(),e=kn(),n=bu(),i=Hy(),s=Ca(),a=Wy(),r=Z2(),u=Yy(),c="Object already initialized",f=e.TypeError,h=e.WeakMap,d,g,E,v=function(w){return E(w)?g(w):d(w,{})},S=function(w){return function(I){var C;if(!n(I)||(C=g(I)).type!==w)throw new f("Incompatible receiver, "+w+" required");return C}};if(t||a.state){var x=a.state||(a.state=new h);x.get=x.get,x.has=x.has,x.set=x.set,d=function(w,I){if(x.has(w))throw new f(c);return I.facade=w,x.set(w,I),I},g=function(w){return x.get(w)||{}},E=function(w){return x.has(w)}}else{var A=r("state");u[A]=!0,d=function(w,I){if(s(w,A))throw new f(c);return I.facade=w,i(w,A,I),I},g=function(w){return s(w,A)?w[A]:{}},E=function(w){return s(w,A)}}return lg={set:d,get:g,has:E,enforce:v,getterFor:S},lg}var pL;function Aq(){if(pL)return ng.exports;pL=1;var t=Rn(),e=Jn(),n=Dn(),i=Ca(),s=Sa(),a=xq().CONFIGURABLE,r=Sq(),u=Q2(),c=u.enforce,f=u.get,h=String,d=Object.defineProperty,g=t("".slice),E=t("".replace),v=t([].join),S=s&&!e(function(){return d(function(){},"length",{value:8}).length!==8}),x=String(String).split("String"),A=ng.exports=function(w,I,C){g(h(I),0,7)==="Symbol("&&(I="["+E(h(I),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),C&&C.getter&&(I="get "+I),C&&C.setter&&(I="set "+I),(!i(w,"name")||a&&w.name!==I)&&(s?d(w,"name",{value:I,configurable:!0}):w.name=I),S&&C&&i(C,"arity")&&w.length!==C.arity&&d(w,"length",{value:C.arity});try{C&&i(C,"constructor")&&C.constructor?s&&d(w,"prototype",{writable:!1}):w.prototype&&(w.prototype=void 0)}catch{}var R=c(w);return i(R,"source")||(R.source=v(x,typeof I=="string"?I:"")),w};return Function.prototype.toString=A(function(){return n(this)&&f(this).source||r(this)},"toString"),ng.exports}var cg,dL;function eP(){if(dL)return cg;dL=1;var t=Dn(),e=fh(),n=Aq(),i=jy();return cg=function(s,a,r,u){u||(u={});var c=u.enumerable,f=u.name!==void 0?u.name:a;if(t(r)&&n(r,f,u),u.global)c?s[a]=r:i(a,r);else{try{u.unsafe?s[a]&&(c=!0):delete s[a]}catch{}c?s[a]=r:e.f(s,a,{value:r,enumerable:!1,configurable:!u.nonConfigurable,writable:!u.nonWritable})}return s},cg}var fg={},hg,_L;function Lq(){if(_L)return hg;_L=1;var t=Math.ceil,e=Math.floor;return hg=Math.trunc||function(i){var s=+i;return(s>0?e:t)(s)},hg}var pg,mL;function hh(){if(mL)return pg;mL=1;var t=Lq();return pg=function(e){var n=+e;return n!==n||n===0?0:t(n)},pg}var dg,gL;function wq(){if(gL)return dg;gL=1;var t=hh(),e=Math.max,n=Math.min;return dg=function(i,s){var a=t(i);return a<0?e(a+s,0):n(a,s)},dg}var _g,EL;function tP(){if(EL)return _g;EL=1;var t=hh(),e=Math.min;return _g=function(n){var i=t(n);return i>0?e(i,9007199254740991):0},_g}var mg,vL;function Oq(){if(vL)return mg;vL=1;var t=tP();return mg=function(e){return t(e.length)},mg}var gg,yL;function Iq(){if(yL)return gg;yL=1;var t=ch(),e=wq(),n=Oq(),i=function(s){return function(a,r,u){var c=t(a),f=n(c);if(f===0)return!s&&-1;var h=e(u,f),d;if(s&&r!==r){for(;f>h;)if(d=c[h++],d!==d)return!0}else for(;f>h;h++)if((s||h in c)&&c[h]===r)return s||h||0;return!s&&-1}};return gg={includes:i(!0),indexOf:i(!1)},gg}var Eg,TL;function rP(){if(TL)return Eg;TL=1;var t=Rn(),e=Ca(),n=ch(),i=Iq().indexOf,s=Yy(),a=t([].push);return Eg=function(r,u){var c=n(r),f=0,h=[],d;for(d in c)!e(s,d)&&e(c,d)&&a(h,d);for(;u.length>f;)e(c,d=u[f++])&&(~i(h,d)||a(h,d));return h},Eg}var vg,bL;function zy(){return bL||(bL=1,vg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),vg}var RL;function Nq(){if(RL)return fg;RL=1;var t=rP(),e=zy(),n=e.concat("length","prototype");return fg.f=Object.getOwnPropertyNames||function(s){return t(s,n)},fg}var yg={},xL;function Pq(){return xL||(xL=1,yg.f=Object.getOwnPropertySymbols),yg}var Tg,SL;function kq(){if(SL)return Tg;SL=1;var t=qy(),e=Rn(),n=Nq(),i=Pq(),s=fo(),a=e([].concat);return Tg=t("Reflect","ownKeys")||function(u){var c=n.f(s(u)),f=i.f;return f?a(c,f(u)):c},Tg}var bg,CL;function Dq(){if(CL)return bg;CL=1;var t=Ca(),e=kq(),n=z2(),i=fh();return bg=function(s,a,r){for(var u=e(a),c=i.f,f=n.f,h=0;h<u.length;h++){var d=u[h];!t(s,d)&&!(r&&t(r,d))&&c(s,d,f(a,d))}},bg}var Rg,AL;function Bq(){if(AL)return Rg;AL=1;var t=Jn(),e=Dn(),n=/#|\.prototype\./,i=function(c,f){var h=a[s(c)];return h===u?!0:h===r?!1:e(f)?t(f):!!f},s=i.normalize=function(c){return String(c).replace(n,".").toLowerCase()},a=i.data={},r=i.NATIVE="N",u=i.POLYFILL="P";return Rg=i,Rg}var xg,LL;function nP(){if(LL)return xg;LL=1;var t=kn(),e=z2().f,n=Hy(),i=eP(),s=jy(),a=Dq(),r=Bq();return xg=function(u,c){var f=u.target,h=u.global,d=u.stat,g,E,v,S,x,A;if(h?E=t:d?E=t[f]||s(f,{}):E=t[f]&&t[f].prototype,E)for(v in c){if(x=c[v],u.dontCallGetSet?(A=e(E,v),S=A&&A.value):S=E[v],g=r(h?v:f+(d?".":"#")+v,u.forced),!g&&S!==void 0){if(typeof x==typeof S)continue;a(x,S)}(u.sham||S&&S.sham)&&n(x,"sham",!0),i(E,v,x,u)}},xg}var Sg,wL;function Uq(){if(wL)return Sg;wL=1;var t=bu(),e=uh(),n=co(),i=n("match");return Sg=function(s){var a;return t(s)&&((a=s[i])!==void 0?!!a:e(s)==="RegExp")},Sg}var Cg,OL;function Mq(){if(OL)return Cg;OL=1;var t=co(),e=t("toStringTag"),n={};return n[e]="z",Cg=String(n)==="[object z]",Cg}var Ag,IL;function Kq(){if(IL)return Ag;IL=1;var t=Mq(),e=Dn(),n=uh(),i=co(),s=i("toStringTag"),a=Object,r=n(function(){return arguments}())==="Arguments",u=function(c,f){try{return c[f]}catch{}};return Ag=t?n:function(c){var f,h,d;return c===void 0?"Undefined":c===null?"Null":typeof(h=u(f=a(c),s))=="string"?h:r?n(f):(d=n(f))==="Object"&&e(f.callee)?"Arguments":d},Ag}var Lg,NL;function ph(){if(NL)return Lg;NL=1;var t=Kq(),e=String;return Lg=function(n){if(t(n)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(n)},Lg}var wg,PL;function iP(){if(PL)return wg;PL=1;var t=fo();return wg=function(){var e=t(this),n="";return e.hasIndices&&(n+="d"),e.global&&(n+="g"),e.ignoreCase&&(n+="i"),e.multiline&&(n+="m"),e.dotAll&&(n+="s"),e.unicode&&(n+="u"),e.unicodeSets&&(n+="v"),e.sticky&&(n+="y"),n},wg}var Og,kL;function $q(){if(kL)return Og;kL=1;var t=Ks(),e=Ca(),n=$2(),i=iP(),s=RegExp.prototype;return Og=function(a){var r=a.flags;return r===void 0&&!("flags"in s)&&!e(a,"flags")&&n(s,a)?t(i,a):r},Og}var Ig,DL;function sP(){if(DL)return Ig;DL=1;var t=Rn(),e=j2(),n=Math.floor,i=t("".charAt),s=t("".replace),a=t("".slice),r=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;return Ig=function(c,f,h,d,g,E){var v=h+c.length,S=d.length,x=u;return g!==void 0&&(g=e(g),x=r),s(E,x,function(A,w){var I;switch(i(w,0)){case"$":return"$";case"&":return c;case"`":return a(f,0,h);case"'":return a(f,v);case"<":I=g[a(w,1,-1)];break;default:var C=+w;if(C===0)return A;if(C>S){var R=n(C/10);return R===0?A:R<=S?d[R-1]===void 0?i(w,1):d[R-1]+i(w,1):A}I=d[C-1]}return I===void 0?"":I})},Ig}var BL;function aP(){if(BL)return gA;BL=1;var t=nP(),e=Ks(),n=Rn(),i=Vl(),s=Dn(),a=lh(),r=Uq(),u=ph(),c=Gy(),f=$q(),h=sP(),d=co(),g=G2(),E=d("replace"),v=TypeError,S=n("".indexOf),x=n("".replace),A=n("".slice),w=Math.max;return t({target:"String",proto:!0},{replaceAll:function(C,R){var _=i(this),L,b,O,k,j,B,ae,fe,G,re=0,ce=0,he="";if(!a(C)){if(L=r(C),L&&(b=u(i(f(C))),!~S(b,"g")))throw new v("`.replaceAll` does not allow non-global regexes");if(O=c(C,E),O)return e(O,C,_,R);if(g&&L)return x(u(_),C,R)}for(k=u(_),j=u(C),B=s(R),B||(R=u(R)),ae=j.length,fe=w(1,ae),re=S(k,j);re!==-1;)G=B?u(R(j,re,k)):h(j,k,re,[],void 0,R),he+=A(k,ce,re)+G,ce=re+ae,re=re+fe>k.length?-1:S(k,j,re+fe);return ce<k.length&&(he+=A(k,ce)),he}}),gA}var UL;function Vq(){return UL||(UL=1,aP()),mA}var ML={},Ng,KL;function Fq(){if(KL)return Ng;KL=1;var t=Jn(),e=kn(),n=e.RegExp,i=t(function(){var r=n("a","y");return r.lastIndex=2,r.exec("abcd")!==null}),s=i||t(function(){return!n("a","y").sticky}),a=i||t(function(){var r=n("^r","gy");return r.lastIndex=2,r.exec("str")!==null});return Ng={BROKEN_CARET:a,MISSED_STICKY:s,UNSUPPORTED_Y:i},Ng}var Pg={},kg,$L;function qq(){if($L)return kg;$L=1;var t=rP(),e=zy();return kg=Object.keys||function(i){return t(i,e)},kg}var VL;function Gq(){if(VL)return Pg;VL=1;var t=Sa(),e=J2(),n=fh(),i=fo(),s=ch(),a=qq();return Pg.f=t&&!e?Object.defineProperties:function(u,c){i(u);for(var f=s(c),h=a(c),d=h.length,g=0,E;d>g;)n.f(u,E=h[g++],f[E]);return u},Pg}var Dg,FL;function jq(){if(FL)return Dg;FL=1;var t=qy();return Dg=t("document","documentElement"),Dg}var Bg,qL;function Wq(){if(qL)return Bg;qL=1;var t=fo(),e=Gq(),n=zy(),i=Yy(),s=jq(),a=H2(),r=Z2(),u=">",c="<",f="prototype",h="script",d=r("IE_PROTO"),g=function(){},E=function(w){return c+h+u+w+c+"/"+h+u},v=function(w){w.write(E("")),w.close();var I=w.parentWindow.Object;return w=null,I},S=function(){var w=a("iframe"),I="java"+h+":",C;return w.style.display="none",s.appendChild(w),w.src=String(I),C=w.contentWindow.document,C.open(),C.write(E("document.F=Object")),C.close(),C.F},x,A=function(){try{x=new ActiveXObject("htmlfile")}catch{}A=typeof document<"u"?document.domain&&x?v(x):S():v(x);for(var w=n.length;w--;)delete A[f][n[w]];return A()};return i[d]=!0,Bg=Object.create||function(I,C){var R;return I!==null?(g[f]=t(I),R=new g,g[f]=null,R[d]=I):R=A(),C===void 0?R:e.f(R,C)},Bg}var Ug,GL;function Xq(){if(GL)return Ug;GL=1;var t=Jn(),e=kn(),n=e.RegExp;return Ug=t(function(){var i=n(".","s");return!(i.dotAll&&i.test(`
`)&&i.flags==="s")}),Ug}var Mg,jL;function Hq(){if(jL)return Mg;jL=1;var t=Jn(),e=kn(),n=e.RegExp;return Mg=t(function(){var i=n("(?<a>b)","g");return i.exec("b").groups.a!=="b"||"b".replace(i,"$<a>c")!=="bc"}),Mg}var Kg,WL;function Jy(){if(WL)return Kg;WL=1;var t=Ks(),e=Rn(),n=ph(),i=iP(),s=Fq(),a=Xy(),r=Wq(),u=Q2().get,c=Xq(),f=Hq(),h=a("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,g=d,E=e("".charAt),v=e("".indexOf),S=e("".replace),x=e("".slice),A=function(){var R=/a/,_=/b*/g;return t(d,R,"a"),t(d,_,"a"),R.lastIndex!==0||_.lastIndex!==0}(),w=s.BROKEN_CARET,I=/()??/.exec("")[1]!==void 0,C=A||I||w||c||f;return C&&(g=function(_){var L=this,b=u(L),O=n(_),k=b.raw,j,B,ae,fe,G,re,ce;if(k)return k.lastIndex=L.lastIndex,j=t(g,k,O),L.lastIndex=k.lastIndex,j;var he=b.groups,we=w&&L.sticky,Ae=t(i,L),ye=L.source,W=0,pe=O;if(we&&(Ae=S(Ae,"y",""),v(Ae,"g")===-1&&(Ae+="g"),pe=x(O,L.lastIndex),L.lastIndex>0&&(!L.multiline||L.multiline&&E(O,L.lastIndex-1)!==`
`)&&(ye="(?: "+ye+")",pe=" "+pe,W++),B=new RegExp("^(?:"+ye+")",Ae)),I&&(B=new RegExp("^"+ye+"$(?!\\s)",Ae)),A&&(ae=L.lastIndex),fe=t(d,we?B:L,pe),we?fe?(fe.input=x(fe.input,W),fe[0]=x(fe[0],W),fe.index=L.lastIndex,L.lastIndex+=fe[0].length):L.lastIndex=0:A&&fe&&(L.lastIndex=L.global?fe.index+fe[0].length:ae),I&&fe&&fe.length>1&&t(h,fe[0],B,function(){for(G=1;G<arguments.length-2;G++)arguments[G]===void 0&&(fe[G]=void 0)}),fe&&he)for(fe.groups=re=r(null),G=0;G<he.length;G++)ce=he[G],re[ce[0]]=fe[ce[1]];return fe}),Kg=g,Kg}var XL;function oP(){if(XL)return ML;XL=1;var t=nP(),e=Jy();return t({target:"RegExp",proto:!0,forced:/./.exec!==e},{exec:e}),ML}var HL={},$g,YL;function Yq(){if(YL)return $g;YL=1;var t=Fy(),e=Function.prototype,n=e.apply,i=e.call;return $g=typeof Reflect=="object"&&Reflect.apply||(t?i.bind(n):function(){return i.apply(n,arguments)}),$g}var Vg,zL;function zq(){if(zL)return Vg;zL=1,oP();var t=Ks(),e=eP(),n=Jy(),i=Jn(),s=co(),a=Hy(),r=s("species"),u=RegExp.prototype;return Vg=function(c,f,h,d){var g=s(c),E=!i(function(){var A={};return A[g]=function(){return 7},""[c](A)!==7}),v=E&&!i(function(){var A=!1,w=/a/;return c==="split"&&(w={},w.constructor={},w.constructor[r]=function(){return w},w.flags="",w[g]=/./[g]),w.exec=function(){return A=!0,null},w[g](""),!A});if(!E||!v||h){var S=/./[g],x=f(g,""[c],function(A,w,I,C,R){var _=w.exec;return _===n||_===u.exec?E&&!R?{done:!0,value:t(S,w,I,C)}:{done:!0,value:t(A,I,w,C)}:{done:!1}});e(String.prototype,c,x[0]),e(u,g,x[1])}d&&a(u[g],"sham",!0)},Vg}var Fg,JL;function Jq(){if(JL)return Fg;JL=1;var t=Rn(),e=hh(),n=ph(),i=Vl(),s=t("".charAt),a=t("".charCodeAt),r=t("".slice),u=function(c){return function(f,h){var d=n(i(f)),g=e(h),E=d.length,v,S;return g<0||g>=E?c?"":void 0:(v=a(d,g),v<55296||v>56319||g+1===E||(S=a(d,g+1))<56320||S>57343?c?s(d,g):v:c?r(d,g,g+2):(v-55296<<10)+(S-56320)+65536)}};return Fg={codeAt:u(!1),charAt:u(!0)},Fg}var qg,ZL;function Zq(){if(ZL)return qg;ZL=1;var t=Jq().charAt;return qg=function(e,n,i){return n+(i?t(e,n).length:1)},qg}var Gg,QL;function Qq(){if(QL)return Gg;QL=1;var t=Ks(),e=fo(),n=Dn(),i=uh(),s=Jy(),a=TypeError;return Gg=function(r,u){var c=r.exec;if(n(c)){var f=t(c,r,u);return f!==null&&e(f),f}if(i(r)==="RegExp")return t(s,r,u);throw new a("RegExp#exec called on incompatible receiver")},Gg}var ew;function eG(){if(ew)return HL;ew=1;var t=Yq(),e=Ks(),n=Rn(),i=zq(),s=Jn(),a=fo(),r=Dn(),u=lh(),c=hh(),f=tP(),h=ph(),d=Vl(),g=Zq(),E=Gy(),v=sP(),S=Qq(),x=co(),A=x("replace"),w=Math.max,I=Math.min,C=n([].concat),R=n([].push),_=n("".indexOf),L=n("".slice),b=function(B){return B===void 0?B:String(B)},O=function(){return"a".replace(/./,"$0")==="$0"}(),k=function(){return/./[A]?/./[A]("a","$0")==="":!1}(),j=!s(function(){var B=/./;return B.exec=function(){var ae=[];return ae.groups={a:"7"},ae},"".replace(B,"$<a>")!=="7"});return i("replace",function(B,ae,fe){var G=k?"$":"$0";return[function(ce,he){var we=d(this),Ae=u(ce)?void 0:E(ce,A);return Ae?e(Ae,ce,we,he):e(ae,h(we),ce,he)},function(re,ce){var he=a(this),we=h(re);if(typeof ce=="string"&&_(ce,G)===-1&&_(ce,"$<")===-1){var Ae=fe(ae,he,we,ce);if(Ae.done)return Ae.value}var ye=r(ce);ye||(ce=h(ce));var W=he.global,pe;W&&(pe=he.unicode,he.lastIndex=0);for(var He=[],je;je=S(he,we),!(je===null||(R(He,je),!W));){var ot=h(je[0]);ot===""&&(he.lastIndex=g(we,f(he.lastIndex),pe))}for(var xt="",Me=0,pt=0;pt<He.length;pt++){je=He[pt];for(var Ze=h(je[0]),_t=w(I(c(je.index),we.length),0),H=[],Q,z=1;z<je.length;z++)R(H,b(je[z]));var J=je.groups;if(ye){var _e=C([Ze],H,_t,we);J!==void 0&&R(_e,J),Q=h(t(ce,void 0,_e))}else Q=v(Ze,we,_t,H,J,ce);_t>=Me&&(xt+=L(we,Me,_t)+Q,Me=_t+Ze.length)}return xt+L(we,Me)}]},!j||!O||k),HL}var jg,tw;function tG(){if(tw)return jg;tw=1;var t=kn(),e=Rn();return jg=function(n,i){return e(t[n].prototype[i])},jg}var Wg,rw;function rG(){if(rw)return Wg;rw=1,oP(),eG(),aP();var t=tG();return Wg=t("String","replaceAll"),Wg}var Xg,nw;function nG(){if(nw)return Xg;nw=1;var t=rG();return Xg=t,Xg}var Hg,iw;function iG(){if(iw)return Hg;iw=1;var t=nG();return Hg=t,Hg}var Yg,sw;function sG(){if(sw)return Yg;sw=1,Vq();var t=iG();return Yg=t,Yg}var zg,aw;function aG(){return aw||(aw=1,zg=sG()),zg}aG();const oG=dt({props:{autosize:Boolean,modelValue:String,rows:{type:Number,default:1},sanitizers:Array},emits:{keypress:t=>!0,"update:modelValue":t=>!0},watch:{modelValue(t,e){if(t!==e){const n=this.$refs.textarea;n.value=t}}},mounted(){this.autosize&&_q(this.$refs.textarea)},methods:{focus(){this.$refs.textarea.focus()},async onInput(t){const e=t.target;if((e==null?void 0:e.value)==null)return;const n=e.maxLength===-1?Number.MAX_SAFE_INTEGER:e.maxLength,i=e.value.split(`
`);if(i.length>this.rows){let s="";for(let a=0;a<this.rows-1;a++)s+=`${i[a]}
`;s+=i.slice(this.rows-1).join(" ").replaceAll(`
`,""),e.value=s}if(this.sanitizers&&(e.value=U2.withTypes(e.value,[...this.sanitizers])),e.value.length>n){e.value=e.value.substring(0,n);return}this.$emit("update:modelValue",e.value),await this.$nextTick(),e.value!==this.modelValue&&(e.value=this.modelValue)},onKeypressEnter(t){this.$emit("keypress",t)}}}),uG=["rows","value"];function lG(t,e,n,i,s,a){return Y(),te("textarea",{ref:"textarea",rows:t.rows,value:t.modelValue,onInput:e[0]||(e[0]=(...r)=>t.onInput&&t.onInput(...r)),onKeypress:e[1]||(e[1]=Bi((...r)=>t.onKeypressEnter&&t.onKeypressEnter(...r),["enter"]))},null,40,uG)}const uP=rt(oG,[["render",lG]]),cG=dt({components:{TextArea:uP,TextInput:M2},props:{player:Object},data(){return{value:""}},computed:{canSubmit(){var t;return!((t=this.player)!=null&&t.isDisabled||!this.value)},isObjectResponseKey(){if(!this.player.responseType){const t=this.$ecast.entities[this.player.responseKey];if(t&&t instanceof wr.ObjectEntity)return!0}return this.player.responseType==="object"}},watch:{"player.entryId":function(){this.reset()}},methods:{reset(){this.value=""},send(){if(this.isObjectResponseKey){this.sendAsObject();return}this.sendAsText()},async sendAsObject(){const t=this.player.send||{action:this.player.action||"input"};t[this.player.key||"value"]=this.value;try{await this.$ecast.updateObject(this.player.responseKey,t)}catch(e){this.$handleEcastError(e)}},async sendAsText(){try{await this.$ecast.updateText(this.player.responseKey,this.value)}catch(t){this.$handleEcastError(t)}},async onSubmit(){var t,e;if(this.canSubmit){if(this.send(),!((t=this.player)!=null&&t.preventResponseLock))try{await this.$ecast.lock(this.player.responseKey)}catch(n){this.$handleEcastError(n)}(e=this.player)!=null&&e.clearTextAfterSubmission&&this.reset()}},onWrite(t){this.value=t,this.player.live&&this.send()}}}),fG={class:"single-text-entry"},hG={class:"constrain"},pG={key:0},dG={key:1,for:"input"},_G=["disabled"];function mG(t,e,n,i,s,a){const r=ct("TextArea"),u=ct("TextInput"),c=Kr("bb");return Y(),te("div",fG,[V("div",hG,[t.player.prompt?St((Y(),te("p",pG,null,512)),[[c,t.player.prompt]]):Ke("",!0),t.player.label?St((Y(),te("label",dG,null,512)),[[c,t.player.label]]):Ke("",!0),t.player.isMultiline?(Y(),Ht(r,{key:2,id:"input",disabled:t.player.isDisabled,enterkeyhint:"done",maxlength:t.player.maxLength,"model-value":t.value,placeholder:t.player.placeholder,rows:t.player.lines||2,onKeypress:Bi(t.onSubmit,["enter"]),"onUpdate:modelValue":t.onWrite},null,8,["disabled","maxlength","model-value","placeholder","rows","onKeypress","onUpdate:modelValue"])):(Y(),Ht(u,{key:3,id:"input",type:"text",disabled:t.player.isDisabled,enterkeyhint:"done",maxlength:t.player.maxLength,"model-value":t.value,placeholder:t.player.placeholder,onKeypress:Bi(t.onSubmit,["enter"]),"onUpdate:modelValue":t.onWrite},null,8,["disabled","maxlength","model-value","placeholder","onKeypress","onUpdate:modelValue"])),St(V("button",{disabled:!t.canSubmit,onClick:e[0]||(e[0]=Ir((...f)=>t.onSubmit&&t.onSubmit(...f),["prevent"]))},null,8,_G),[[c,t.player.submitText||"SUBMIT"]])])])}const gG=rt(cG,[["render",mG]]),EG=dt({components:{TextArea:uP,TextInput:M2},props:{player:Object},data(){return{value:""}},computed:{canSubmit(){var t;return!((t=this.player)!=null&&t.isDisabled||!this.value)},isTextInObjectEntity(){if(!this.player.responseType){const t=this.$ecast.entities[this.player.textKey];if(t&&t instanceof wr.ObjectEntity)return!0}return this.player.responseType==="object"}},watch:{"player.entryId":function(){this.reset()}},methods:{reset(){this.value=""},send(){if(this.isTextInObjectEntity){this.sendAsObject();return}this.sendAsText()},async sendAsObject(){const t=this.player.send||{action:this.player.action||"input"};t[this.player.key||"value"]=this.value;try{await this.$ecast.updateObject(this.player.textKey,t)}catch(e){this.$handleEcastError(e)}},async sendAsText(){try{await this.$ecast.updateText(this.player.textKey,this.value)}catch(t){this.$handleEcastError(t)}},async onChoose(t){try{t.send?await this.$ecast.updateObject(this.player.responseKey,t.send):await this.$ecast.updateObject(this.player.responseKey,{action:t.value})}catch(e){this.$handleEcastError(e)}},async onSubmit(){var t,e;if(this.canSubmit){if(this.send(),!((t=this.player)!=null&&t.preventResponseLock))try{await this.$ecast.lock(this.player.textKey)}catch(n){this.$handleEcastError(n)}(e=this.player)!=null&&e.clearTextAfterSubmission&&this.reset()}},onWrite(t){this.value=t,this.player.live&&this.send()}}}),vG={class:"single-text-with-choices"},yG={class:"constrain"},TG={key:0},bG={key:1,for:"input"},RG=["disabled"],xG=["disabled","onClick"];function SG(t,e,n,i,s,a){const r=ct("TextArea"),u=ct("TextInput"),c=Kr("bb");return Y(),te("div",vG,[V("div",yG,[t.player.prompt?St((Y(),te("p",TG,null,512)),[[c,t.player.prompt]]):Ke("",!0),t.player.label?St((Y(),te("label",bG,null,512)),[[c,t.player.label]]):Ke("",!0),t.player.isMultiline?(Y(),Ht(r,{key:2,id:"input",disabled:t.player.isDisabled,enterkeyhint:"done",maxlength:t.player.maxLength,"model-value":t.value,placeholder:t.player.placeholder,rows:t.player.lines||2,onKeypress:Bi(t.onSubmit,["enter"]),"onUpdate:modelValue":t.onWrite},null,8,["disabled","maxlength","model-value","placeholder","rows","onKeypress","onUpdate:modelValue"])):(Y(),Ht(u,{key:3,id:"input",type:"text",disabled:t.player.isDisabled,enterkeyhint:"done",maxlength:t.player.maxLength,"model-value":t.value,placeholder:t.player.placeholder,onKeypress:Bi(t.onSubmit,["enter"]),"onUpdate:modelValue":t.onWrite},null,8,["disabled","maxlength","model-value","placeholder","onKeypress","onUpdate:modelValue"])),St(V("button",{disabled:!t.canSubmit,onClick:e[0]||(e[0]=Ir((...f)=>t.onSubmit&&t.onSubmit(...f),["prevent"]))},null,8,RG),[[c,t.player.submitText||"SUBMIT"]]),t.player.choices.length?(Y(!0),te(ht,{key:4},Qt(t.player.choices,(f,h)=>St((Y(),te("button",{key:h,class:et({selected:f.isSelected}),disabled:f.isDisabled,onClick:Ir(d=>t.onChoose(f),["prevent"])},null,10,xG)),[[c,f.text]])),128)):Ke("",!0)])])}const CG=rt(EG,[["render",SG]]),AG=dt({props:{player:Object},data(){return{values:this.player.inputs.map(t=>t.value??"")}},watch:{"player.entryId":function(){this.reset()}},methods:{reset(){this.values=this.player.inputs.map(t=>t.value??"")},onValueInput(t,e){const n=t.target;this.values[e]=n.value},isObjectResponseKey(){if(!this.player.responseType){const t=this.$ecast.entities[this.player.responseKey];if(t&&t instanceof wr.ObjectEntity)return!0}return this.player.responseType==="object"},onSubmitClick(){if(this.isObjectResponseKey()){this.sendAsObject();return}this.sendAsText()},sendAsObject(){const t=this.player.send||{action:this.player.action||"input"};this.player.inputs.forEach((e,n)=>{const i=e.key??`input${n}`;t[i]=this.values[n]}),this.$ecast.updateObject(this.player.responseKey,t).catch(this.$handleEcastError)},sendAsText(){const t=this.player.separator||"|";this.$ecast.updateText(this.player.responseKey,this.values.join(t)).catch(this.$handleEcastError)}}}),LG={class:"multi-text-entry"},wG={class:"constrain"},OG={key:0},IG=["for"],NG=["id","value","rows","placeholder","disabled","onInput"],PG=["id","value","placeholder","disabled","onInput"];function kG(t,e,n,i,s,a){const r=Kr("bb");return Y(),te("div",LG,[V("div",wG,[t.player.prompt?St((Y(),te("p",OG,null,512)),[[r,t.player.prompt]]):Ke("",!0),(Y(!0),te(ht,null,Qt(t.player.inputs,(u,c)=>(Y(),te(ht,null,[u.label?St((Y(),te("label",{key:`label-${u.key}`,for:`input-${c}`},null,8,IG)),[[r,u.label]]):Ke("",!0),u.isMultiline?(Y(),te("textarea",{id:`input-${c}`,key:`input-${c}`,value:t.values[c],rows:u.lines||2,placeholder:u.placeholder,disabled:u.isDisabled,onInput:f=>t.onValueInput(f,c)},null,40,NG)):(Y(),te("input",{id:`input-${c}`,key:`input-${u.key}`,type:"text",value:t.values[c],placeholder:u.placeholder,disabled:u.isDisabled,onInput:f=>t.onValueInput(f,c)},null,40,PG))],64))),256)),St(V("button",{onClick:e[0]||(e[0]=Ir((...u)=>t.onSubmitClick&&t.onSubmitClick(...u),["prevent"]))},null,512),[[r,t.player.submitText||"SUBMIT"]])])])}const DG=rt(AG,[["render",kG]]),BG=dt({props:{player:Object}}),UG={class:"waiting"},MG={class:"constrain"},KG={key:0};function $G(t,e,n,i,s,a){const r=Kr("bb");return Y(),te("div",UG,[V("div",MG,[t.player.message?St((Y(),te("p",KG,null,512)),[[r,t.player.message]]):Ke("",!0)])])}const VG=rt(BG,[["render",$G]]),FG=dt({components:{Camera:wF,Choices:e6,Doodle:e2,Draw:gF,Drawing:FF,Lobby:eq,PostGame:lq,SingleTextEntry:gG,SingleTextWithChoices:CG,MultiTextEntry:DG,Waiting:VG},props:{applyStyling:{type:Boolean,default:!0},player:Object},computed:{hasAdditionalChoices(){var e;if(!this.player||this.player.kind==="lobby"||this.player.kind==="postGame"||this.player.kind==="choices"||this.player.kind==="singleTextWithChoices")return!1;const t=this.player;return!(!((e=t.choices)!=null&&e.length)||!t.responseKey)},playerBaseWithChoices(){const t=this.player;return{kind:"choices",choices:t.choices,responseKey:t.responseKey}}}});function qG(t,e,n,i,s,a){const r=ct("Choices");return Y(),te(ht,null,[t.player?(Y(),Ht(Dl(t.player.kind),{key:0,player:t.player,class:et({fallback:t.applyStyling})},null,8,["player","class"])):Ke("",!0),t.hasAdditionalChoices?(Y(),Ht(r,{key:1,player:t.playerBaseWithChoices},null,8,["player"])):Ke("",!0)],64)}const GG=rt(FG,[["render",qG]]),jG=dt({props:{count:{type:Number,required:!1}},computed:{displayCount(){return this.count?this.count<0?"X":this.count:null}}}),WG={viewBox:"0 0 100 100"},XG={key:0,cx:"83",cy:"70",r:"28"},HG={key:1,x:"83",y:"86","text-anchor":"middle",lengthAdjust:"spacing",textLength:"46"};function YG(t,e,n,i,s,a){return Y(),te("svg",WG,[e[0]||(e[0]=V("path",{class:"handle",d:"m0,9.52c0-2.3,1.87-4.17,4.17-4.17h12.51c2,0,3.72,1.42,4.1,3.39l10.48,55h53.54c2.31,0,4.17,1.86,4.17,4.17s-1.86,4.17-4.17,4.17H27.65c-1.84,0-3.56-1.42-3.94-3.39L13.23,13.69H4.17c-2.3,0-4.17-1.87-4.17-4.17Zm38.93,76.47c0,4.61-3.74,8.34-8.34,8.34s-8.34-3.74-8.34-8.34,3.74-8.34,8.34-8.34,8.34,3.74,8.34,8.34Zm33.37,0c0-4.61,3.74-8.34,8.34-8.34s8.34,3.74,8.34,8.34-3.74,8.34-8.34,8.34-8.34-3.74-8.34-8.34Z"},null,-1)),e[1]||(e[1]=V("path",{class:"basket",d:"m21.05,10.91h73.11c3.53,0,6.34,3.52,5.35,7.07l-9.38,33.37c-.68,2.4-2.87,4.05-5.35,4.05H29.66L21.05,10.91Z"},null,-1)),t.displayCount?(Y(),te("circle",XG)):Ke("",!0),t.displayCount?(Y(),te("text",HG,nt(t.displayCount),1)):Ke("",!0)])}const lP=rt(jG,[["render",YG],["__scopeId","data-v-1177328a"]]),zG={},JG={viewBox:"0 0 100 100"};function ZG(t,e){return Y(),te("svg",JG,e[0]||(e[0]=[V("path",{d:"m80,25.25l-5.25-5.25-24.75,24.75-24.75-24.75-5.25,5.25,24.75,24.75-24.75,24.75,5.25,5.25,24.75-24.75,24.75,24.75,5.25-5.25-24.75-24.75,24.75-24.75Z"},null,-1)]))}const QG=rt(zG,[["render",ZG],["__scopeId","data-v-110d22cc"]]),ej={},tj={viewBox:"0 0 100 100"};function rj(t,e){return Y(),te("svg",tj,e[0]||(e[0]=[V("path",{d:"m89.06,15.62c2.6,0,4.69,2.1,4.69,4.69s-2.09,4.69-4.69,4.69h-2.27l-4.69,63.42c-.49,6.52-5.92,11.58-12.46,11.58H30.35c-6.54,0-11.97-5.06-12.46-11.58l-4.7-63.42h-2.26c-2.59,0-4.69-2.09-4.69-4.69s2.1-4.69,4.69-4.69h13.64l7.16-10.75c2.03-3.04,5.45-4.87,9.1-4.87h18.32c3.65,0,7.07,1.83,9.1,4.87l7.17,10.75h13.63Zm-48.22-6.25c-.51,0-1.17.26-1.29.7l-3.71,5.55h28.32l-3.71-5.55c-.29-.43-.78-.7-1.29-.7h-18.32Zm36.56,15.62H22.6l4.65,62.73c.12,1.62,1.48,2.89,3.11,2.89h39.3c1.62,0,2.99-1.27,3.11-2.89l4.65-62.73Z"},null,-1)]))}const nj=rt(ej,[["render",rj]]),ij=dt({components:{CartSVG:lP,CloseSVG:QG,TrashSVG:nj},props:{artifactId:{type:String,required:!0},categoryId:{type:String,required:!0},shopify:{type:Object,required:!0}},emits:{resolve:()=>!0},computed:{items(){return this.shopify.cart.lines.map(t=>{var s,a,r,u,c,f,h,d;const e=((a=(s=t.merchandise)==null?void 0:s.price)==null?void 0:a.amount)??"0",n=((u=(r=t.merchandise)==null?void 0:r.price)==null?void 0:u.currencyCode)??"USD",i=(f=(c=t.merchandise)==null?void 0:c.image)==null?void 0:f.url;return{id:t.id,image:i,title:((d=(h=t.merchandise)==null?void 0:h.product)==null?void 0:d.title)??"Product",price:parseFloat(e).toLocaleString(this.$i18n.locale,{style:"currency",currency:n}),quantity:`${t.quantity}x`}})},currency(){var t;return((t=this.shopify.cart)==null?void 0:t.currency)??"USD"},total(){var e,n;const t=((n=(e=this.shopify.cart)==null?void 0:e.subtotal)==null?void 0:n.amount)??"0";return parseFloat(t).toLocaleString(this.$i18n.locale,{style:"currency",currency:this.currency})}},methods:{onCloseClick(){this.$emit("resolve")},async onTrashClick(t){try{await this.shopify.cart.removeItem([t.id])}catch(e){console.error(e)}},onCheckoutClick(){var e,n,i,s;const t=((n=(e=this.shopify.cart)==null?void 0:e.subtotal)==null?void 0:n.amount)??"0";(s=window.tv.analytics)==null||s.galleryCheckout(this.categoryId,{locale:this.$i18n.locale,artifactId:this.artifactId,itemCount:((i=this.shopify.cart)==null?void 0:i.totalQuantity)??0,subtotal:parseFloat(t)})}}}),sj={class:"gallery-ui"},aj={key:0,class:"empty"},oj={class:"graphic"},uj={class:"title"},lj={class:"form-section"},cj=["src","alt"],fj={class:"info"},hj={class:"name"},pj={class:"price"},dj={class:"quantity"},_j=["onClick"],mj={class:"form-group"},gj={class:"total"},Ej={class:"form-group"},vj=["href"];function yj(t,e,n,i,s,a){var h;const r=ct("CartSVG"),u=ct("TrashSVG"),c=ct("CloseSVG"),f=Kr("t");return Y(),te("div",sj,[t.shopify.cart.lines.length?(Y(),te(ht,{key:1},[V("h2",uj,nt(t.$t("GALLERY.CART.TITLE")),1),V("section",lj,[(Y(!0),te(ht,null,Qt(t.items,d=>(Y(),te("div",{key:d.id,class:"item"},[V("img",{src:d.image??"",alt:d.title},null,8,cj),V("div",fj,[V("p",hj,nt(d.title),1),V("p",pj,nt(d.price),1)]),V("div",dj,[V("p",null,nt(d.quantity),1)]),V("button",{class:"trash",onClick:g=>t.onTrashClick(d)},[ft(u)],8,_j)]))),128)),V("div",mj,[V("p",gj,[Tr(nt(t.$t("GALLERY.CART.TOTAL"))+" ("+nt(t.currency)+") ",1),V("span",null,nt(t.total),1)])]),V("div",Ej,[V("a",{class:"button submit",href:((h=t.shopify.cart)==null?void 0:h.checkoutUrl)??"",target:"_blank",onClick:e[0]||(e[0]=(...d)=>t.onCheckoutClick&&t.onCheckoutClick(...d))},nt(t.$t("GALLERY.CART.CHECK_OUT")),9,vj)])])],64)):(Y(),te("section",aj,[V("div",oj,[ft(r,{count:-1}),St(V("p",null,null,512),[[f,"GALLERY.CART.EMPTY"]])])])),V("button",{class:"close",onClick:e[1]||(e[1]=(...d)=>t.onCloseClick&&t.onCloseClick(...d))},[ft(c)])])}const Tj=rt(ij,[["render",yj],["__scopeId","data-v-3f309e29"]]),bj=dt({props:{classes:{type:Object,required:!1},gameStartedOptions:{type:Object,required:!1},newGameCheckFn:{type:Function},player:{type:Object,required:!0}},data({player:t}){return{controlMenuView:"main",initialKind:t.kind,status:"waiting"}},computed:{wrapperClasses(){const t=[];return this.player.hasControls&&t.push("vip"),this.status==="progressed"&&t.push("attention"),t},messageItem(){return this.status==="disconnected"?{t:"POST_GAME.THANKS_FOR_PLAYING"}:this.status==="progressed"?{t:"POST_GAME.NEW_GAME_STARTED"}:this.controlMenuView==="games"?{t:"POST_GAME.WHICH_GAME"}:this.controlMenuView==="players"?{t:"POST_GAME.WHICH_PLAYERS"}:{t:"POST_GAME.PLAY_AGAIN"}},statusItem(){return this.status!=="waiting"||this.player.hasControls?null:this.player.gamepadStart?{t:"LOBBY.WAITING_FOR_GAMEPAD"}:this.player.vipName?{t:{path:"LOBBY.WAITING_FOR_VIP",args:{name:this.player.vipName}}}:{t:"LOBBY.WAITING_FOR_NEW_GAME"}},actionItems(){let t=[];return this.status==="disconnected"&&(t=[{t:"POST_GAME.BUTTON_GO_TO_JACKBOX",fn:this.onReload}]),this.status==="progressed"&&(t=[{t:"POST_GAME.BUTTON_GO_TO_GAME",fn:this.onNewGame}]),t},controlItems(){var e;if(this.status==="disconnected")return[];if(this.status==="progressed")return[];if(!this.player.hasControls)return[];let t=[];return this.player.status==="waiting"?(!((e=this.player.gamesToLaunch)!=null&&e.length)||this.controlMenuView==="players"?t=[{t:"POST_GAME.BUTTON_SAME_PLAYERS",fn:()=>{this.onSamePlayers()}},{t:"POST_GAME.BUTTON_NEW_PLAYERS",fn:()=>{this.onNewPlayers()}}]:this.controlMenuView==="main"?t=[{t:"POST_GAME.BUTTON_PLAY_AGAIN",fn:()=>{this.controlMenuView="players"}},{t:"POST_GAME.BUTTON_CHANGE_GAME",fn:()=>{this.controlMenuView="games"}}]:this.controlMenuView==="games"&&(t=this.player.gamesToLaunch.map(n=>{const i=_a(n);return{t:{path:"POST_GAME.BUTTON_NEXT_GAME",args:{gameName:(i==null?void 0:i.name)||n}},fn:()=>{this.onChangeGame(n)}}})),t):this.player.status==="countdown"?[{t:"LOBBY.BUTTON_CANCEL",fn:()=>{this.onCancel()}}]:t}},mounted(){this.player.hasControls?this.$pauseEcastUpdates(null,["didDisconnect","roomDidExit"]):this.$pauseEcastUpdates([],["didDisconnect","roomDidExit"]),this.$ecastManager.on("didReceivePausedEntities",this.onDidReceivePausedEntities),this.$ecastManager.on("didEmitPausedEvent",this.onDidEmitPausedEvent)},beforeUnmount(){this.$ecastManager.off("didReceivePausedEntities",this.onDidReceivePausedEntities),this.$ecastManager.off("didEmitPausedEvent",this.onDidEmitPausedEvent)},methods:{async onSamePlayers(){var t;if(this.player.responseKey)try{if(await this.$ecast.updateObject(this.player.responseKey,{action:"samePlayers"}),this.$ecastRoom.appTag){const e=this.gameStartedOptions||{};e.isSequel=!0,e.locale=this.$ecastRoom.locale,(t=window.tv.analytics)==null||t.gameStarted(this.$ecastRoom.appTag,e)}}catch(e){this.$handleEcastError(e)}},async onNewPlayers(){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{action:"newPlayers"}),this.onReload()}catch(t){this.$handleEcastError(t)}},async onCancel(){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{action:"cancel"})}catch(t){this.$handleEcastError(t)}},async onChangeGame(t){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{action:t}),this.onReload()}catch(e){this.$handleEcastError(e)}},onNewGame(){this.$resumeEcastUpdates()},onReload(){window.location.reload()},onDidEmitPausedEvent(t){this.status!=="disconnected"&&(t!=="didDisconnect"&&t!=="roomDidExit"||(this.status="disconnected"))},onDidReceivePausedEntities(t){if(this.status!=="waiting")return;if(this.newGameCheckFn){this.newGameCheckFn(t)&&(this.status="progressed");return}const e=this.$ecast.role==="audience"?"audiencePlayer":`player:${this.$ecast.id}`;t[e]&&t[e].val.kind!==this.initialKind?this.status="progressed":this.$ecastManager.flush()}}}),Rj=["onClick"],xj=["onClick"];function Sj(t,e,n,i,s,a){var u,c;const r=Kr("t");return t.player?(Y(),te("div",{key:0,class:et(["post-game-actions",t.wrapperClasses])},[St(V("p",{class:et(((u=t.classes)==null?void 0:u.message)??["message"])},null,2),[[r,t.messageItem.t]]),t.statusItem?St((Y(),te("p",{key:0,class:et(((c=t.classes)==null?void 0:c.status)??["status"])},null,2)),[[r,t.statusItem.t]]):Ke("",!0),(Y(!0),te(ht,null,Qt(t.actionItems,(f,h)=>{var d;return St((Y(),te("button",{key:h,class:et(((d=t.classes)==null?void 0:d.action)??["action"]),onClick:f.fn},null,10,Rj)),[[r,f.t]])}),128)),(Y(!0),te(ht,null,Qt(t.controlItems,(f,h)=>{var d;return St((Y(),te("button",{key:h,class:et(((d=t.classes)==null?void 0:d.action)??["action"]),onClick:f.fn},null,10,xj)),[[r,f.t]])}),128))],2)):Ke("",!0)}const Cj=rt(bj,[["render",Sj]]);function dh(t){if(!t)return console.warn("Cannot parse empty json inside parseImage"),{};const e={};return t.id&&(e.id=t.id),t.url&&(e.url=t.url),t.width&&(e.width=t.width),t.height&&(e.height=t.height),e}function Aj(t){if(!t)return console.warn("Cannot parse empty json inside parseReference"),{};const e={};return t.id&&(e.id=t.id),t.fields&&(e.fields=t.fields),e}function Zy(t){if(!t)return console.warn("Cannot parse empty json inside parseMetafield"),{};const e={};return t.id&&(e.id=t.id),t.key&&(e.key=t.key),t.namespace&&(e.namespace=t.namespace),t.value&&(e.value=t.value),t.reference&&(e.reference=Aj(t.reference)),e}function cP(t){if(!t)return console.warn("Cannot parse empty json inside parseSelectedOption"),{};const e={};return t.name&&(e.name=t.name),t.value&&(e.value=t.value),e}function fP(t){var n;if(!t)return console.warn("Cannot parse empty json inside parseVariant"),{};const e={};return t.id&&(e.id=t.id),t.title&&(e.title=t.title),t.price&&(e.price=t.price),t.compareAtPrice&&(e.compareAtPrice=t.compareAtPrice),(n=t.product)!=null&&n.id&&(e.productId=t.product.id),t.image&&(e.image=dh(t.image)),t.metafields&&(e.metafields=t.metafields.map(Zy)),t.selectedOptions&&(e.selectedOptions=t.selectedOptions.map(cP)),e}function Lj(t){if(!t)return console.warn("Cannot parse empty json inside parseCollections"),{};const e={};return t.id&&(e.id=t.id),t.title&&(e.title=t.title),t.description&&(e.description=t.description),e}function wj(t){if(!t)return console.warn("Cannot parse empty json inside parseOption"),{};const e={};return t.id&&(e.id=t.id),t.name&&(e.name=t.name),t.values&&(e.values=t.values),e}function _l(t){if(!t)return console.warn("Cannot parse empty json inside parseProduct"),{};const e={};return t.id&&(e.id=t.id),t.description&&(e.description=t.description),t.descriptionHtml&&(e.descriptionHtml=t.descriptionHtml),t.handle&&(e.handle=t.handle),t.title&&(e.title=t.title),t.priceRange&&(e.priceRange=t.priceRange),t.compareAtPriceRange&&(e.compareAtPriceRange=t.compareAtPriceRange),t.options&&(e.options=t.options.map(wj)),t.images&&(e.images=t.images.nodes.map(dh)),t.featuredImage&&(e.featuredImage=t.featuredImage),t.metafields&&(e.metafields=t.metafields.map(Zy)),t.variants&&(e.variants=t.variants.nodes.map(fP)),t.collections&&(e.collections=t.collections.nodes.map(Lj)),t.tags&&(e.tags=t.tags),e}function Oj(t){if(!t)return console.warn("Cannot parse empty json inside parseProductVariant"),{};const e={};return t.id&&(e.id=t.id),t.price&&(e.price=t.price),t.product&&(e.product=_l(t.product)),t.image&&(e.image=dh(t.image)),t.selectedOptions&&(e.selectedOptions=t.selectedOptions.map(cP)),t.sku&&(e.sku=t.sku),e}function Ij(t){if(!t)return console.warn("Cannot parse empty json inside parseLine"),{};const e={};return t.id&&(e.id=t.id),t.attributes&&(e.attributes=t.attributes),t.quantity!==void 0&&(e.quantity=t.quantity),t.merchandise&&(e.merchandise=Oj(t.merchandise)),e}function Jg(t){if(!t)return console.warn("Cannot parse empty json inside parseCollection"),{};const e={};return t.id&&(e.id=t.id),t.description&&(e.description=t.description),t.title&&(e.title=t.title),t.image&&(e.image=dh(t.image)),t.metafields&&(e.metafields=t.metafields.map(Zy)),t.products&&(e.products=t.products.nodes.map(_l)),e}function Ko(t){var n,i;if(!t)return console.warn("Cannot parse empty json inside parseCart"),{};const e={};return t.id&&(e.id=t.id),t.checkoutUrl&&(e.checkoutUrl=t.checkoutUrl),((n=t.cost)==null?void 0:n.subtotalAmount)!==void 0&&(e.subtotal=(i=t.cost)==null?void 0:i.subtotalAmount),t.totalQuantity!==void 0&&(e.totalQuantity=t.totalQuantity),t.lines&&(e.lines=t.lines.nodes.map(Ij)),e}class Nj{constructor(e,n){be(this,"locale");be(this,"makeRequest");be(this,"checkoutUrl");be(this,"lines",[]);be(this,"currency","USD");be(this,"subtotal");be(this,"totalQuantity",0);be(this,"sharedGetCartProperties",`
        checkoutUrl
        id
        totalQuantity
        cost {
            subtotalAmount {
                amount
                currencyCode
            }
        }
        lines(first: 100) {
            nodes {
                id
                quantity
                merchandise {
                    ... on ProductVariant {
                        id
                        sku
                        price {
                            amount
                            currencyCode
                        }
                        selectedOptions {
                            name
                            value
                        }
                        product {
                            id
                            title
                            tags
                            handle
                            collections(first: 100) {
                                nodes {
                                    id
                                    title
                                }
                            }
                        }
                        image {
                            url
                        }
                    }
                }
                attributes {
                    key
                    value
                }
            }
        }`);this.locale=n,this.makeRequest=e}get localeDirective(){return`@inContext(language: ${this.locale})`}getCartId(){const e=localStorage.getItem("cartId");return e||(this.resetCart(),null)}resetCart(){delete this.checkoutUrl,this.lines=[],delete this.subtotal,this.totalQuantity=0,localStorage.removeItem("cartId")}setCartValues(e){var n,i;e.checkoutUrl&&(this.checkoutUrl=e.checkoutUrl),e.lines&&(this.lines=e.lines),e.subtotal&&(this.subtotal=e.subtotal),((n=e.subtotal)==null?void 0:n.currencyCode)!=="XXX"&&(this.currency=((i=e.subtotal)==null?void 0:i.currencyCode)??"USD"),e.totalQuantity&&(this.totalQuantity=e.totalQuantity)}async createCart(){const e=`mutation {
            cartCreate(input: {}) {
                cart {
                    ${this.sharedGetCartProperties}
                }
            }
        }`,n=await this.makeRequest(e),i=Ko(n.data.cartCreate.cart);return localStorage.setItem("cartId",i.id),this.setCartValues(i),i}async refresh(){const e=this.getCartId();if(!e)return null;const n=`query getCart($cartId: ID!) @inContext(language: EN) {
            cart(id: $cartId) {
                ${this.sharedGetCartProperties}
            }
        }`,i=await this.makeRequest(n,{cartId:e});if(!i.data.cart)return this.resetCart(),null;const s=Ko(i.data.cart);return this.setCartValues(s),s}async addItems(e){let n=this.getCartId();n||(await this.createCart(),n=this.getCartId());const i=`mutation add($cartId: ID!, $lines: [CartLineInput!]!) {
            cartLinesAdd(cartId: $cartId, lines: $lines) {
                cart {
                    ${this.sharedGetCartProperties}
                }
            }
        }`,s=await this.makeRequest(i,{cartId:n,lines:e}),a=Ko(s.data.cartLinesAdd.cart);return this.setCartValues(a),a}async removeItem(e){const n=this.getCartId();if(!n)throw new Error("No cart is available");const i=`mutation remove($cartId: ID!, $lineIds: [ID!]!) {
            cartLinesRemove(cartId: $cartId, lineIds: $lineIds) {
                cart {
                    ${this.sharedGetCartProperties}
                }
            }
        }`,s=await this.makeRequest(i,{cartId:n,lineIds:e}),a=Ko(s.data.cartLinesRemove.cart);return this.setCartValues(a),a}async updateItems(e){const n=this.getCartId();if(!n)throw new Error("No cart is available");const i=`mutation cartLinesUpdate($cartId: ID!, $lines: [CartLineUpdateInput!]!) {
            cartLinesUpdate(cartId: $cartId, lines: $lines) {
                cart {
                    ${this.sharedGetCartProperties}
                }
            }
        }`,s=await this.makeRequest(i,{cartId:n,lines:e}),a=Ko(s.data.cartLinesUpdate.cart);return this.setCartValues(a),a}async setCountryCode(e){let n=this.getCartId();n||(await this.createCart(),n=this.getCartId());const i=`mutation cartBuyerIdentityUpdate($buyerIdentity: CartBuyerIdentityInput!, $cartId: ID!) {
            cartBuyerIdentityUpdate(buyerIdentity: $buyerIdentity, cartId: $cartId)  {
                cart {
                  ${this.sharedGetCartProperties}
                }
                userErrors {
                      field
                      message
                    }
                }
            }`,s={countryCode:e},a=await this.makeRequest(i,{cartId:n,buyerIdentity:s}),r=Ko(a.data.cartBuyerIdentityUpdate.cart);return this.setCartValues(r),r}}class Pj{constructor(e,n="EN",i="US"){be(this,"locale");be(this,"countryCode");be(this,"makeRequest");this.locale=n,this.countryCode=i,this.makeRequest=e}get localeDirective(){return`@inContext(language: ${this.locale}, country: ${this.countryCode})`}async getStorefrontPricing(e){const n=`query getProductBy($id: ID!) ${this.localeDirective} {
            product(id: $id) {
                title
                variants(first: 1) {
                    nodes {
                        id
                        title
                        price {
                            amount
                        }
                    }
                }
                metafields(
                    identifiers: [{ namespace: "custom", key: "storefront_pricing" }]
                ) {
                    key
                        reference {
                        ... on Metaobject {
                            fields {
                                key
                                value
                            }
                        }
                    }
                }
                priceRange {
                    minVariantPrice {
                        amount
                        currencyCode
                    }
                }
                compareAtPriceRange {
                    maxVariantPrice {
                        amount
                        currencyCode
                    }
                }
            }
        }`,i=await this.makeRequest(n,{id:`gid://shopify/Product/${e}`});return _l(i.data.product)}async getCollectionProducts(e){const n=`query ${this.localeDirective} {
            collection(id: "gid://shopify/Collection/${e}") {
                products(first: 100) {
                    nodes {
                        handle
                        title
                        options {
                            id
                            name
                            values
                        }
                        priceRange {
                            minVariantPrice {
                                amount
                                currencyCode
                            }
                            maxVariantPrice {
                                amount
                                currencyCode
                            }
                        }
                        compareAtPriceRange {
                            minVariantPrice {
                                amount
                                currencyCode
                            }
                            maxVariantPrice {
                                amount
                                currencyCode
                            }
                        }
                        featuredImage {
                            url
                            width
                            height
                        }
                        variants(first: 100) {
                            nodes {
                                id
                                title
                                image {
                                    url
                                    height
                                    width
                                }
                                selectedOptions {
                                    name
                                    value
                                }
                                price {
                                    amount
                                    currencyCode
                                }
                                compareAtPrice {
                                    amount
                                    currencyCode
                                }
                            }
                        }
                    }
                }
            }
        }`,i=await this.makeRequest(n);return Jg(i.data.collection)}async getProduct(e,n){let i="";n&&(i=`metafields(identifiers: [
                ${n.map(u=>`{ namespace: "${u.namespace}", key: "${u.key}"}`).join(",")}
            ]) {
                    key
                        reference {
                        ... on Metaobject {
                            fields {
                                key
                                value
                            }
                        }
                    }
                }
            `);const s=`query ${this.localeDirective} {
            product(handle: "${e}") {
                id
                handle
                title
                descriptionHtml
                description
                images(first: 20) {
                    nodes {
                        id
                        url
                        width
                        height
                        altText
                    }
                }
                options {
                    id
                    name
                    values
                }
                ${i}
                priceRange {
                    minVariantPrice {
                        amount
                        currencyCode
                    }
                    maxVariantPrice {
                        amount
                        currencyCode
                    }
                }
                compareAtPriceRange {
                    minVariantPrice {
                        amount
                        currencyCode
                    }
                    maxVariantPrice {
                        amount
                        currencyCode
                    }
                }
                featuredImage {
                    url
                    width
                    height
                }                    
                variants(first: 100) {
                    nodes {
                        id
                        title
                        selectedOptions {
                            name
                            value
                        }
                        image {
                            url
                            height
                            width
                        }
                        price {
                            amount
                            currencyCode
                        }
                        compareAtPrice {
                            amount
                            currencyCode
                        }
                    }
                }
            }
        }`,a=await this.makeRequest(s);return _l(a.data.product)}async getTeeKO2Products(){const e=`query ${this.localeDirective} {
            collection(id: "gid://shopify/Collection/269996851334") {
                products(first: 100) {
                    nodes {
                        handle
                        metafields(identifiers: [
                            { namespace: "custom", key: "teeko2_metadata" },
                            { namespace: "custom", key: "product_type" }
                        ]) {
                            key
                            value
                            reference {
                                ... on Metaobject {
                                    fields {
                                        key
                                        value
                                    }
                                }
                            }
                        }
                        variants(first: 100) {
                            nodes {
                                id
                                title
                                price {
                                    amount
                                    currencyCode
                                }
                                metafields(
                                    identifiers: [
                                        { namespace: "gooten", key: "layout_image" }
                                    ]
                                ) {
                                    key
                                    value
                                }
                            }
                        }
                    }
                }
            }
        }`,n=await this.makeRequest(e);return Jg(n.data.collection)}async getTeeKO1Products(){const e=`query ${this.localeDirective} {
            collection(id: "gid://shopify/Collection/279592632454") {
                products(first: 100) {
                    nodes {
                        handle
                        metafields(identifiers: [
                            { namespace: "custom", key: "teeko2_metadata" },
                            { namespace: "custom", key: "product_type" }
                        ]) {
                            key
                            value
                            reference {
                                ... on Metaobject {
                                    fields {
                                        key
                                        value
                                    }
                                }
                            }
                        }
                        variants(first: 100) {
                            nodes {
                                id
                                title
                                price {
                                    amount
                                    currencyCode
                                }
                                metafields(
                                    identifiers: [
                                        { namespace: "gooten", key: "layout_image" }
                                    ]
                                ) {
                                    key
                                    value
                                }
                            }
                        }
                    }
                }
            }
        }`,n=await this.makeRequest(e);return Jg(n.data.collection)}async getProductWithMetafields(e,n){const i=`query productWithMetafields($id: ID!, $metafields: [HasMetafieldsIdentifier!]!) ${this.localeDirective} {
            node(id: $id) {
                ... on Product {
                    metafields(identifiers: $metafields) {
                        key
                        value
                        reference {
                        ... on Metaobject {
                                fields {
                                    key
                                    value
                                }
                            }
                        }
                    }
                }
            }
        }`,s=await this.makeRequest(i,{id:`gid://shopify/Product/${e}`,metafields:n});return _l(s.data.node)}async getVariantWithMetafields(e,n){const i=`query variantWithMetafields($id: ID!, $metafields: [HasMetafieldsIdentifier!]!) ${this.localeDirective} {
            node(id: $id) {
                ... on ProductVariant {
                    product {
                        id
                    }
                    metafields(identifiers: $metafields) {
                        key
                        value
                        reference {
                        ... on Metaobject {
                                fields {
                                    key
                                    value
                                }
                            }
                        }
                    }
                }
            }
        }`,s=await this.makeRequest(i,{id:`gid://shopify/ProductVariant/${e}`,metafields:n});return fP(s.data.node)}}class kj{constructor(e){be(this,"shopUrl");be(this,"apiToken");be(this,"isDebug");be(this,"locale");be(this,"countryCode");be(this,"query");be(this,"cart");this.shopUrl=`https://${e.shopName}.myshopify.com/api/2025-04/graphql.json`,this.apiToken=e.apiToken,this.locale=this.parseLocale(e.locale),this.countryCode=e.countryCode||"US",this.isDebug=e.debug??!1,this.query=new Pj(this.makeRequest.bind(this),this.locale,this.countryCode),e.enableCart&&(this.cart=new Nj(this.makeRequest.bind(this),this.locale))}setLocale(e){this.locale=this.parseLocale(e)}parseLocale(e){return e?{"es-XL":"ES","pt-BR":"PT_BR","pt-br":"PT_BR"}[e]||e.toLocaleUpperCase():"EN"}async makeRequest(e,n={}){const i={method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json","X-Shopify-Storefront-Access-Token":this.apiToken}),body:JSON.stringify({query:e,variables:n})},s=await fetch(this.shopUrl,i);if(!s.ok)throw console.error(s),new Error("Shopify response is not okay");let a;try{a=await s.json()}catch(r){throw new Error("Failed to parse Shopify response as JSON",{cause:r})}if(this.isDebug&&console.log(a),a.errors)throw console.error(a.errors),new Error("Errors returned in Shopify response");return a}static getMetaValue(e,n){const i=n.split(".");if(i.length>2){console.warn("getMetaValue only supports 1 level of reference fields");return}const s=e.find(r=>r.key===i[0]);if(!s){console.warn(`getMetaValue could find a field with key ${i[0]}`);return}if(i.length===1){if(!s.value){console.warn(`getMetaValue could find a value for key ${i[0]}`);return}return s.value}if(!s.reference){console.warn(`getMetaValue could find reference for key ${i[0]}`);return}if(!s.reference.fields){console.warn(`getMetaValue could find a fields for key ${i[0]}`);return}const a=s.reference.fields.find(r=>r.key===i[1]);if(!a){console.warn(`getMetaValue could find a field for key ${i[1]}`);return}if(!a.value){console.warn(`getMetaValue could find a value for key ${i[1]}`);return}return a.value}}const Dj={},Bj={viewBox:"0 0 100 100"};function Uj(t,e){return Y(),te("svg",Bj,e[0]||(e[0]=[V("path",{d:"m71.43,100.05c-3.1,3-45.42-43.71-47.91-44.95-2.79-2.79-2.79-7.31,0-10.1L66.38,2.15c6.45-6.63,16.76,3.63,10.1,10.1,0,0-37.81,37.81-37.81,37.81l37.81,37.81c4.55,4.24,1.06,12.41-5.06,12.19Z"},null,-1)]))}const Mj=rt(Dj,[["render",Uj],["__scopeId","data-v-8a441c8b"]]),Kj={},$j={viewBox:"0 0 450 170"};function Vj(t,e){return Y(),te("svg",$j,e[0]||(e[0]=[ba('<path d="m125.22,148.61c-3.8,10.71,14.07,8.66,14.51-4.66,0,0,.76-6.07.76-6.07h-.65c-11.11,10.26-31.98,7.94-32.16-14.19-1.85-27.91,29.59-42.89,41.49-24.04h.65l3.79-7.15h13.97l-9.1,51.44c-2.6,14.84-10.62,24.37-29.57,24.37-20.48-.04-26.86-8.42-21.24-20.04,0,0,17.55.33,17.55.33Zm17.22-21.78l3.35-17.22c-6.25-12.46-19.63.91-18.3,12.56.14,11.01,9.67,11.01,14.94,4.66h0Z" data-v-16eba653></path><path d="m165.94,125c-1.72-26.97,26.98-45.33,40.73-25.45h.65l3.79-7.04h14.3l-6.29,35.96c-1.35,4.75,1.4,6.23,5.63,4.22l-1.74,12.24c-6.89,2.04-22.54,4.11-22.64-5.85h-.54c-9.93,11.62-34.55,11.48-33.9-14.08h0Zm37.47-16.03c-6.44-10.75-17.57.3-17,15.17-.36,11.33,8.81,11.4,13.43,5.3,0,0,3.57-20.47,3.57-20.47Z" data-v-16eba653></path><path d="m252.28,101.6c4.42-12.87,28.7-14.17,31.63.22h.65c5.51-14.74,32.91-14.34,31.84,5.09.15,4.28-2.71,17.11-3.35,21.56-1.3,4.58,1.77,6.12,5.74,4.11l-1.74,12.34c-34.19,8.67-21.76-14.97-19.93-35.42,0-3.14-1.3-4.76-4.55-4.76-3.68,0-7.69,3.35-9.64,14.4l-4.55,26.43h-19.06l5.74-32.27c.78-3.85.99-8.78-4.12-8.55-10.61-1.45-12.12,32.87-14.41,40.83h-19.17l6.39-36.18c1.21-4.47-2.17-5.66-5.74-3.9l1.52-12.56c8.04-2.59,24.49-2.8,22.09,8.66.02,0,.65-.02.67,0Z" data-v-16eba653></path><path d="m353.55,91.43c20.8-.36,28.06,14.61,21.01,29.46h-33.57c-4.34,16.32,14.4,16.73,15.16,6.08l17.43.11c0,13.64-11.81,19.6-26.65,19.6-40.37,1.13-28.87-58.07,6.61-55.24h.01Zm5.74,20.47c3.92-12.52-15.1-12.22-16.68,0h16.68Z" data-v-16eba653></path><path d="m394.5,128.03c-4.38,9.29,14.81,10.75,15.06,2.92.44-4.29-8.84-5.01-12.14-6.07-11.27-2.7-16.14-6.83-16.14-14.3-3.22-24.42,57.55-26.61,49.5-.98l-16.68.11c4.14-9.01-13.94-9.7-14.09-2.38,0,2.92,2.81,3.79,6.07,4.55,10.57,1.76,23.87,5.95,22.96,15.6,3.86,24.26-59.53,26.83-51.67.65l17.12-.11h0Z" data-v-16eba653></path><path d="m37.75,86.06c-2.29,20.58-21.35,26.17-37.37,20.78l4.06-13.69c6.65,2.32,11.4,2.88,13-7.77,0,0,10.1-57.91,10.1-57.91h20.54l-10.33,58.61h0ZM31.84,3.65h20.43l-2.78,15.55h-20.43l2.78-15.55Z" data-v-16eba653></path><path d="m47.04,62.26c-1.84-28.91,28.89-48.57,43.64-27.27h.7l4.06-7.54h15.32l-6.74,38.53c-1.46,5.09,1.5,6.68,6.03,4.53l-1.86,13.11c-7.38,2.18-24.15,4.39-24.26-6.27h-.58c-10.63,12.44-37.02,12.3-36.33-15.09h0Zm40.16-17.17c-6.89-11.53-18.82.31-18.21,16.25-.39,12.15,9.42,12.22,14.39,5.69,0,0,3.83-21.94,3.83-21.94h0Z" data-v-16eba653></path><path d="m146.26,26.28c23.79,1.01,27.73,12.42,23.68,24.02l-20.08.23c4.26-17.57-17.81-11.55-16.49,11.48-.73,13.3,15.25,11.41,14.74-.7l19.96.12c5.09,29.5-56.87,34.36-55.71,1.16,0-19.15,9.98-36.33,33.89-36.33v.02Z" data-v-16eba653></path><path d="m226.57,70.74c1.05,0,2.32-.23,3.36-.58l-2.44,13.69c-24.48,7.36-21.86-8.84-28.31-22.98h-5.46l-4.06,23.44h-20.54L183.86.75h20.55l-8.35,47.12,4.41-.46c2.44-2.33,12.3-17.99,14.62-19.96h21.59l-.47,2.33c-2.44,2.09-15.55,20.43-19.03,24.26,1.83,1.3,4.65,16.99,9.4,16.71h0Z" data-v-16eba653></path><path d="m246.3.75h20.43l-5.81,32.26h.58c10.83-12.1,33.79-8.54,33.54,15.43.8,34.11-30.04,47.15-43.87,29.13h-.58l-3.94,6.74h-15.32L246.3.75Zm8.59,66.61c7.66,10.18,19.51-.27,19.26-16.83,0-7.55-3.71-9.98-7.31-9.98-2.78,0-6.15,1.98-8.12,4.53l-3.83,22.28h0Z" data-v-16eba653></path><path d="m329.86,26.28c44.54-1.33,30.54,62.33-5.34,59.19-44.34,1.39-30.24-62.31,5.34-59.19Zm6.62,23.32c0-6.15-2.67-9.05-6.85-9.05-10.49-2.62-18.27,30.4-4.87,30.76,7.32,0,11.73-7.55,11.73-21.71h0Z" data-v-16eba653></path><path d="m387.77,37.2c1.05,3.36,1.98,6.5,2.55,9.28h.47c2.87-6.04,8.83-13.46,12.65-19.03h21.82l-.35,1.98-21.48,25.77,6.39,12.65c2.13,3.84,5.23,3.16,8.12,2.1l-2.44,13.93c-19.63,5.42-22.79-2.11-26.47-19.5h-.58c-2.84,6.34-9.23,14.26-13.11,19.96h-21.82l.35-1.86,21.94-26.82-5.81-11.72c-1.84-3.78-5.56-3.18-8.47-2.1l2.55-13.92c10.53-2.64,21.58-3.83,23.67,9.29v-.02Z" data-v-16eba653></path><path d="m441.34,94.3c3.47.57,3.38-3.01,0-2.21v2.21h0Zm-.04,4.31h-1.78v-7.68c1.08-.2,4.75-.53,5.58.37,1.33.88.9,3.14-.79,3.46v.09c1.29.08,1.53,3.22,1.92,3.75h-1.88c-.72-1.38-.33-3.52-3.04-3.04v3.04h0Zm-4.73-3.98c-.21,7.89,12.05,8.05,11.85.04.23-7.99-12.01-8.04-11.85-.04m13.81,0c.21,10.07-15.96,10.03-15.79,0-.23-9.93,15.98-10.06,15.78,0" data-v-16eba653></path>',13)]))}const Fj=rt(Kj,[["render",Vj],["__scopeId","data-v-16eba653"]]),qj=dt({components:{BackSVG:Mj,CartSVG:lP,LogoSVG:Fj},props:{artifactId:{type:String,required:!1},categoryId:{type:String,required:!1},itemId:{type:String,required:!1},context:{type:String,required:!0},view:{type:Object,required:!0}},themeColor:"#000000",data(){return{isError:!1,isLoading:!0,artifact:null,shopify:new kj({shopName:"jackbox-games",apiToken:"272f9467112ef071c8d5622704def9a9",enableCart:!0})}},computed:{propsToPass(){const t={};return this.view.props.artifactId&&(t.artifactId=this.artifactId),this.view.props.itemId&&(t.itemId=this.itemId),this.view.props.artifact&&(t.artifact=this.artifact),this.view.props.context&&(t.context=this.context),this.view.props.shopify&&(t.shopify=this.shopify),t},cart(){return this.shopify.cart}},watch:{"shopify.cart.totalQuantity":{handler(t,e){e!==void 0&&t>e&&this.onCartClick()}}},mounted(){this.fetchArtifact(),this.fetchCart();const t=_a(this.categoryId??"");t&&(this.$setMeta({title:`Jackbox.TV | ${t.name} Past Game`,"og:title":`Jackbox.TV | ${t.name} Past Game`,description:`See what happened in this crazy game of ${t.name}. Jackbox Games are available on a wide variety of digital platforms. We make irreverent party games including Quiplash, Fibbage, and Drawful.`,"og:description":`See what happened in this crazy game of ${t.name}. Jackbox Games are available on a wide variety of digital platforms. We make irreverent party games including Quiplash, Fibbage, and Drawful.`}),this.itemId&&setTimeout(()=>{var e;(e=document.getElementById(`${this.itemId}`))==null||e.scrollIntoView({behavior:"smooth"})},250))},beforeUnmount(){this.$resetMeta()},methods:{async fetchArtifact(){try{const t=new URLSearchParams(window.location.search);let e="jbg-blobcast-artifacts.s3.amazonaws.com";t.get("b")&&(e=`jbg-blobcast-${t.get("b")}-artifacts.s3.amazonaws.com`),t.get("bucket")&&(e=`jbg-blobcast-${t.get("bucket")}-artifacts.s3.amazonaws.com`);const n=`https://${e}/${this.categoryId}/${this.artifactId}/data.json.gz`;this.artifact=await v2.hydrateFromUrl(n)}catch(t){this.isError=!0,console.error(t)}finally{this.isLoading=!1}},async fetchCart(){try{await this.cart.refresh()}catch(t){console.error(t)}},onCartClick(){this.$showModal(Qo(Tj),{artifactId:this.artifactId,categoryId:this.categoryId,shopify:this.shopify},{classes:["gallery-modal","is-tab"]})}}}),Gj={class:"gallery-root"},jj={class:"topbar"},Wj={class:"back"},Xj={key:0,href:"/past-games","aria-label":"back"},Hj={class:"logo"},Yj={key:0,href:"/","aria-label":"Jackbox Games"},zj={class:"cart"},Jj={class:"content"},Zj={key:0,class:"empty"},Qj={key:1,class:"loading"},eW={key:2,class:"error"},tW={class:"post-game"};function rW(t,e,n,i,s,a){var h;const r=ct("BackSVG"),u=ct("LogoSVG"),c=ct("CartSVG"),f=Kr("t");return Y(),te("div",Gj,[V("nav",jj,[V("div",Wj,[t.context==="standalone"?(Y(),te("a",Xj,[ft(r)])):Ke("",!0)]),V("div",Hj,[t.context==="standalone"?(Y(),te("a",Yj,[ft(u)])):Ke("",!0)]),V("div",zj,[V("button",{onClick:e[0]||(e[0]=(...d)=>t.onCartClick&&t.onCartClick(...d))},[ft(c,{count:(h=t.shopify.cart)==null?void 0:h.totalQuantity},null,8,["count"])])])]),V("div",Jj,[cl(t.$slots,"pre",{},void 0,!0),t.artifactId?t.isLoading?St((Y(),te("div",Qj,null,512)),[[f,"LOADING"]]):t.isError?St((Y(),te("div",eW,null,512)),[[f,"ERROR.TITLE"]]):(Y(),Ht(Dl(t.view),O8(Ul({key:3},t.propsToPass)),null,16)):St((Y(),te("div",Zj,null,512)),[[f,"POST_GAME.THANKS_FOR_PLAYING"]]),cl(t.$slots,"post",{},void 0,!0)]),V("div",tW,[cl(t.$slots,"default",{},void 0,!0)])])}const hP=rt(qj,[["render",rW],["__scopeId","data-v-16a01916"]]);var Zg={},Yu={},Qg={},zu={},eE={},ow;function pP(){return ow||(ow=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var e=function(){function n(i,s,a,r){this.type=i,this.content=s,this.attributes=a,this.text=r}return n.prototype.toString=function(){return this.content+" ("+this.type+")"},n.prototype.equals=function(i){return this.type===i.type&&this.content===i.content},n.prototype.convertToTextToken=function(){var i;this.type===n.Type.startTag?(this.content=(i=this.text)!==null&&i!==void 0?i:"",this.type=n.Type.text):this.type===n.Type.endTag&&(this.content="[/"+this.content+"]",this.type=n.Type.text)},n}();t.Token=e,function(n){(function(i){i[i.text=0]="text",i[i.startTag=1]="startTag",i[i.endTag=2]="endTag"})(n.Type||(n.Type={}))}(e=t.Token||(t.Token={})),t.Token=e}(eE)),eE}var uw;function nW(){if(uw)return zu;uw=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.Tokenizer=void 0;var t=pP(),e=function(){function n(i){this.tags=i}return n.prototype.tokenizeString=function(i){var s=this,a=this.getTokens(i),r=[],u=!1,c="",f="";return a.forEach(function(h){var d=s.tags[h.content],g=!0;!d&&!u?h.convertToTextToken():u?h.type===t.Token.Type.endTag&&h.content===c?(u=!1,r.push(n.createTextToken(f))):(h.convertToTextToken(),f+=h.content,g=!1):d.noNesting&&h.type===t.Token.Type.startTag&&(u=!0,c=h.content,f=""),g&&r.push(h)}),r},n.prototype.getTokens=function(i){for(var s='\\[(/\\w*)\\]|\\[(\\w*)+(=(["])'+n.valueChars+"*\\4)?( ("+n.nameChars+'+)?=(["])('+n.valueChars+"+)\\7)*\\]",a=new RegExp(s,"g"),r=[],u=a.exec(i),c=0;u;){var f=u.index-c;f>0&&r.push(n.createTextToken(i.substr(c,f))),r.push(n.createTagToken(u)),c=a.lastIndex,u=a.exec(i)}var h=i.length-c;return h>0&&r.push(n.createTextToken(i.substr(c,h))),r},n.createTextToken=function(i){return new t.Token(t.Token.Type.text,i)},n.createTagToken=function(i){if(!i[1]){for(var s=i[2],a={},r=new RegExp("("+n.nameChars+'+)?=(["])('+n.valueChars+"+)\\2","g"),u=i[0].substr(1+s.length,i[0].length-2-s.length),c=r.exec(u);c;)c[1]?a[c[1]]=c[3]:a[s]=c[3],c=r.exec(u);return new t.Token(t.Token.Type.startTag,s,a,i[0])}return new t.Token(t.Token.Type.endTag,i[1].substr(1,i[1].length-1))},n.nameChars="[a-zA-Z0-9\\.\\-_:;/]",n.valueChars="[a-zA-Z0-9\\.\\-_:;#/\\s]",n}();return zu.Tokenizer=e,zu}var lw;function iW(){return lw||(lw=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ParseTree=void 0;var e=nW(),n=pP(),i=function(){function s(a){this.subTrees=[],this.type=a.type,this.content=a.content,a.attributes&&(this.attributes=a.attributes),a.subTrees&&(this.subTrees=a.subTrees)}return Object.defineProperty(s.prototype,"isValid",{get:function(){return this.subTrees.length?this.subTrees.every(function(a){return a.isValid}):!0},enumerable:!1,configurable:!0}),s.prototype.toString=function(){return this.type+" - "+this.content},s.buildTree=function(a,r){var u=new e.Tokenizer(r),c=u.tokenizeString(a),f=new s({type:s.Type.root,content:a});return this.buildTreeFromTokens(f,c.reverse())},s.buildTreeFromTokens=function(a,r,u){if(u===void 0&&(u=""),!a)return null;if(!r.length)return a;var c=r.pop();if(!c)return null;if(c.type===n.Token.Type.text){var f=new s({type:s.Type.text,content:c.content});a.subTrees.push(f)}if(c.type===n.Token.Type.startTag){var h=c.content,f=new s({type:s.Type.tag,content:h,attributes:c.attributes}),d=s.buildTreeFromTokens(f,r,h);if(!d)return null;a.subTrees.push(d)}if(c.type===n.Token.Type.endTag){var h=c.content;return h===u?a:null}return!r.length&&u!==""?null:this.buildTreeFromTokens(a,r,u)},s}();t.ParseTree=i,function(s){(function(a){a[a.root=0]="root",a[a.text=1]="text",a[a.tag=2]="tag"})(s.Type||(s.Type={}))}(i=t.ParseTree||(t.ParseTree={})),t.ParseTree=i}(Qg)),Qg}var Ju={},cw;function dP(){if(cw)return Ju;cw=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.Tag=void 0;var t=function(){function e(n){var i;this.tagName=n.tagName,this.insertLineBreaks=n.insertLineBreaks,this.suppressLineBreaks=n.suppressLineBreaks,this.noNesting=n.noNesting,this.markupGenerator=(i=n.markupGenerator)!==null&&i!==void 0?i:function(s,a){return"<"+s.tagName+">"+a+"</"+s.tagName+">"}}return e.create=function(n,i,s){var a,r,u;return s===void 0&&(s={}),new e({tagName:n,insertLineBreaks:(a=s.insertLineBreaks)!==null&&a!==void 0?a:!0,suppressLineBreaks:(r=s.suppressLineBreaks)!==null&&r!==void 0?r:!1,noNesting:(u=s.noNesting)!==null&&u!==void 0?u:!1,markupGenerator:i})},e}();return Ju.Tag=t,Ju}var fw;function sW(){if(fw)return Yu;fw=1,Object.defineProperty(Yu,"__esModule",{value:!0}),Yu.BBCodeParser=void 0;var t=iW(),e=dP(),n=function(){function i(s,a){this.options=a,this.escapeHTML=!1,this.tags=s,a&&(this.escapeHTML=a.escapeHTML)}return Object.defineProperty(i,"defaultTags",{get:function(){return{b:e.Tag.create("b"),i:e.Tag.create("i")}},enumerable:!1,configurable:!0}),i.prototype.parse=function(s,a,r,u){a===void 0&&(a=!1),r===void 0&&(r=!0),u===void 0&&(u=!0);var c=t.ParseTree.buildTree(s,this.tags);return!c||!c.isValid?s:this.treeToHtml(c.subTrees,r,u,a)},i.prototype.addTag=function(s,a){this.tags[s]=a},i.prototype.treeToHtml=function(s,a,r,u){var c=this;u===void 0&&(u=!1);var f="",h=!1;return s.forEach(function(d){var g;if(d.type===t.ParseTree.Type.text){var E=d.content;r&&(E=c.escapeHTML?i.escapeHTML(E):E),a&&!h&&(E=E.replace(/(\r\n|\n|\r)/gm,"<br>"),h=!1),f+=E}else{var v=c.tags[d.content],S=c.treeToHtml(d.subTrees,v.insertLineBreaks,r,u);u?f+=S:f+=v.markupGenerator(v,S,(g=d.attributes)!==null&&g!==void 0?g:{}),h=v.suppressLineBreaks}}),f},i.escapeHTML=function(s){return s.replace(/[&<>]/g,function(a){return i.tagsToReplace[a]||a})},i.tagsToReplace={"&":"&amp;","<":"&lt;",">":"&gt;"},i}();return Yu.BBCodeParser=n,Yu}var hw;function aW(){return hw||(hw=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Tag=t.BBCodeParser=void 0;var e=sW();Object.defineProperty(t,"BBCodeParser",{enumerable:!0,get:function(){return e.BBCodeParser}});var n=dP();Object.defineProperty(t,"Tag",{enumerable:!0,get:function(){return n.Tag}})}(Zg)),Zg}var ia=aW();const oW={install:t=>{const e={section:ia.Tag.create("section",(a,r,{section:u})=>`<div ${u?`class="section ${u}"`:'class="section"'}>${r}</div>`)};["b","bold","B"].forEach(a=>{e[a]=ia.Tag.create(a,(r,u)=>`<strong>${u}</strong>`)}),["i","italic","I"].forEach(a=>{e[a]=ia.Tag.create(a,(r,u)=>`<em>${u}</em>`)}),e.tos=ia.Tag.create("tos",(a,r)=>`<a class="tosLink" href="https://jackboxgames.com/terms-of-service/" target="_blank">${r}</a>`),e.pp=ia.Tag.create("pp",(a,r)=>`<a class="ppLink" href="https://jackboxgames.com/privacy-policy/" target="_blank">${r}</a>`);const s=new ia.BBCodeParser(e);t.directive("bb",{mounted(a,r){const u=document.createElement("div");u.textContent=r.value,a.innerHTML=s.parse(u.innerHTML)},updated(a,r){const u=document.createElement("div");u.textContent=r.value,a.innerHTML=s.parse(u.innerHTML)}}),t.mixin({beforeCreate(){this.$options.bb&&Object.keys(this.$options.bb).forEach(a=>{const r=this.$options.bb[a];if(r instanceof Function){s.addTag(a,ia.Tag.create(a,r));return}s.addTag(a,ia.Tag.create(a,r.generator,r.options))})}}),t.config.globalProperties.$bb=a=>(typeof a!="string"&&console.warn(`[BBCodePlugin] Received unexpected ${typeof a} with value ${a};converting to string before parsing.`),s.parse(String(a)))}},uW=dt({data(){return{showPowerNav:!1}},computed:{debugNav(){return this.$refs.debugNav},replayer(){return this.$debugReplayer}},mounted(){window.addEventListener("keydown",t=>{var e,n,i,s;return t.key===","?(e=this.replayer)==null?void 0:e.toPreviousEntity():t.key==="."?(n=this.replayer)==null?void 0:n.toNextEntity():t.key==="q"?(i=this.replayer)==null?void 0:i.toPreviousMarker():t.key==="w"?(s=this.replayer)==null?void 0:s.toNextMarker():null})},methods:{onPreviousClick(){var t;(t=this.replayer)==null||t.toPreviousMarker()},onNextClick(){var t;(t=this.replayer)==null||t.toNextMarker()},onOpenPowerNavClick(){this.showPowerNav=!0,this.debugNav.focus()},onClosePowerNavClick(){this.showPowerNav=!1,this.debugNav.focus()},onMarkerClick(t){var e;(e=this.replayer)==null||e.toMarkerIndex(t)},onKillClick(){var t;(t=this.replayer)==null||t.kill()},onDisconnectClick(){var t;(t=this.replayer)==null||t.disconnect()}}}),lW={key:0,ref:"debugNav",class:"debug-nav",tabindex:"0"},cW={key:0,class:"power-nav"},fW=["onClick"],hW={key:1,class:"title focused"},pW={key:2,class:"title focused"};function dW(t,e,n,i,s,a){return t.replayer?(Y(),te("div",lW,[t.showPowerNav?(Y(),te("div",cW,[V("button",{class:"close",onClick:e[0]||(e[0]=(...r)=>t.onClosePowerNavClick&&t.onClosePowerNavClick(...r))},"X"),e[7]||(e[7]=V("p",null,"MARKERS",-1)),V("ul",null,[(Y(!0),te(ht,null,Qt(t.replayer.markerMap,(r,u)=>(Y(),te("li",{key:u,class:et({active:u===t.replayer.currentMarkerItemIndex}),onClick:c=>t.onMarkerClick(u)},nt(r[1].marker),11,fW))),128))]),V("button",{class:"option",onClick:e[1]||(e[1]=(...r)=>t.onKillClick&&t.onKillClick(...r))},e[6]||(e[6]=[Tr("KILL"),V("br",null,null,-1),Tr("ROOM")])),V("button",{class:"option",onClick:e[2]||(e[2]=(...r)=>t.onDisconnectClick&&t.onDisconnectClick(...r))},"DISCONNECT")])):Ke("",!0),e[11]||(e[11]=V("p",{class:"title blurred"},"DEBUG",-1)),t.replayer.markerMap.length?(Y(),te("p",pW,nt(t.replayer.currentMarkerItemIndex)+" : "+nt(t.replayer.currentMarkerItem[1].marker)+" ("+nt(t.replayer.currentEntityItemIndex)+") ",1)):(Y(),te("p",hW,"Item #"+nt(t.replayer.currentEntityItemIndex),1)),t.showPowerNav?Ke("",!0):(Y(),te("button",{key:3,class:"open-power-nav",onClick:e[3]||(e[3]=(...r)=>t.onOpenPowerNavClick&&t.onOpenPowerNavClick(...r))},e[8]||(e[8]=[V("svg",{viewBox:"0 0 20 10"},[V("polygon",{points:"0,10 10,0 20,10"})],-1),V("div",{class:"visually-hidden"},"Open debug menu",-1)]))),V("button",{class:"direction previous",onClick:e[4]||(e[4]=(...r)=>t.onPreviousClick&&t.onPreviousClick(...r))},e[9]||(e[9]=[V("svg",{viewBox:"0 0 60 50"},[V("polygon",{class:"outline",points:"40,35.6 20,25 40,14.4"}),V("polygon",{points:"40,35.6 20,25 40,14.4"})],-1),V("div",{class:"visually-hidden"},"Previous",-1)])),V("button",{class:"direction next",onClick:e[5]||(e[5]=(...r)=>t.onNextClick&&t.onNextClick(...r))},e[10]||(e[10]=[V("svg",{viewBox:"0 0 60 50"},[V("polygon",{class:"outline",points:"40,35.6 20,25 40,14.4"}),V("polygon",{points:"40,35.6 20,25 40,14.4"})],-1),V("div",{class:"visually-hidden"},"Next",-1)]))],512)):Ke("",!0)}const _W=rt(uW,[["render",dW],["__scopeId","data-v-220ec4c0"]]);var tE,pw;function mW(){if(pw)return tE;pw=1;function t(e,n){for(var i=-1,s=e==null?0:e.length;++i<s&&n(e[i],i,e)!==!1;);return e}return tE=t,tE}var rE,dw;function gW(){if(dw)return rE;dw=1;var t=c2(),e=t(Object.keys,Object);return rE=e,rE}var nE,_w;function EW(){if(_w)return nE;_w=1;var t=by(),e=gW(),n=Object.prototype,i=n.hasOwnProperty;function s(a){if(!t(a))return e(a);var r=[];for(var u in Object(a))i.call(a,u)&&u!="constructor"&&r.push(u);return r}return nE=s,nE}var iE,mw;function _h(){if(mw)return iE;mw=1;var t=m2(),e=EW(),n=sh();function i(s){return n(s)?t(s):e(s)}return iE=i,iE}var sE,gw;function vW(){if(gw)return sE;gw=1;var t=Kl(),e=_h();function n(i,s){return i&&t(s,e(s),i)}return sE=n,sE}var aE,Ew;function yW(){if(Ew)return aE;Ew=1;var t=Kl(),e=$l();function n(i,s){return i&&t(s,e(s),i)}return aE=n,aE}var oE,vw;function TW(){if(vw)return oE;vw=1;function t(e,n){for(var i=-1,s=e==null?0:e.length,a=0,r=[];++i<s;){var u=e[i];n(u,i,e)&&(r[a++]=u)}return r}return oE=t,oE}var uE,yw;function _P(){if(yw)return uE;yw=1;function t(){return[]}return uE=t,uE}var lE,Tw;function Qy(){if(Tw)return lE;Tw=1;var t=TW(),e=_P(),n=Object.prototype,i=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(r){return r==null?[]:(r=Object(r),t(s(r),function(u){return i.call(r,u)}))}:e;return lE=a,lE}var cE,bw;function bW(){if(bw)return cE;bw=1;var t=Kl(),e=Qy();function n(i,s){return t(i,e(i),s)}return cE=n,cE}var fE,Rw;function mP(){if(Rw)return fE;Rw=1;function t(e,n){for(var i=-1,s=n.length,a=e.length;++i<s;)e[a+i]=n[i];return e}return fE=t,fE}var hE,xw;function gP(){if(xw)return hE;xw=1;var t=mP(),e=Ty(),n=Qy(),i=_P(),s=Object.getOwnPropertySymbols,a=s?function(r){for(var u=[];r;)t(u,n(r)),r=e(r);return u}:i;return hE=a,hE}var pE,Sw;function RW(){if(Sw)return pE;Sw=1;var t=Kl(),e=gP();function n(i,s){return t(i,e(i),s)}return pE=n,pE}var dE,Cw;function EP(){if(Cw)return dE;Cw=1;var t=mP(),e=xa();function n(i,s,a){var r=s(i);return e(i)?r:t(r,a(i))}return dE=n,dE}var _E,Aw;function xW(){if(Aw)return _E;Aw=1;var t=EP(),e=Qy(),n=_h();function i(s){return t(s,n,e)}return _E=i,_E}var mE,Lw;function SW(){if(Lw)return mE;Lw=1;var t=EP(),e=gP(),n=$l();function i(s){return t(s,n,e)}return mE=i,mE}var gE,ww;function CW(){if(ww)return gE;ww=1;var t=lo(),e=Mi(),n=t(e,"DataView");return gE=n,gE}var EE,Ow;function AW(){if(Ow)return EE;Ow=1;var t=lo(),e=Mi(),n=t(e,"Promise");return EE=n,EE}var vE,Iw;function LW(){if(Iw)return vE;Iw=1;var t=lo(),e=Mi(),n=t(e,"Set");return vE=n,vE}var yE,Nw;function wW(){if(Nw)return yE;Nw=1;var t=lo(),e=Mi(),n=t(e,"WeakMap");return yE=n,yE}var TE,Pw;function e1(){if(Pw)return TE;Pw=1;var t=CW(),e=Ey(),n=AW(),i=LW(),s=wW(),a=yu(),r=r2(),u="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",d="[object WeakMap]",g="[object DataView]",E=r(t),v=r(e),S=r(n),x=r(i),A=r(s),w=a;return(t&&w(new t(new ArrayBuffer(1)))!=g||e&&w(new e)!=u||n&&w(n.resolve())!=f||i&&w(new i)!=h||s&&w(new s)!=d)&&(w=function(I){var C=a(I),R=C==c?I.constructor:void 0,_=R?r(R):"";if(_)switch(_){case E:return g;case v:return u;case S:return f;case x:return h;case A:return d}return C}),TE=w,TE}var bE,kw;function OW(){if(kw)return bE;kw=1;var t=Object.prototype,e=t.hasOwnProperty;function n(i){var s=i.length,a=new i.constructor(s);return s&&typeof i[0]=="string"&&e.call(i,"index")&&(a.index=i.index,a.input=i.input),a}return bE=n,bE}var RE,Dw;function IW(){if(Dw)return RE;Dw=1;var t=yy();function e(n,i){var s=i?t(n.buffer):n.buffer;return new n.constructor(s,n.byteOffset,n.byteLength)}return RE=e,RE}var xE,Bw;function NW(){if(Bw)return xE;Bw=1;var t=/\w*$/;function e(n){var i=new n.constructor(n.source,t.exec(n));return i.lastIndex=n.lastIndex,i}return xE=e,xE}var SE,Uw;function PW(){if(Uw)return SE;Uw=1;var t=rh(),e=t?t.prototype:void 0,n=e?e.valueOf:void 0;function i(s){return n?Object(n.call(s)):{}}return SE=i,SE}var CE,Mw;function kW(){if(Mw)return CE;Mw=1;var t=yy(),e=IW(),n=NW(),i=PW(),s=u2(),a="[object Boolean]",r="[object Date]",u="[object Map]",c="[object Number]",f="[object RegExp]",h="[object Set]",d="[object String]",g="[object Symbol]",E="[object ArrayBuffer]",v="[object DataView]",S="[object Float32Array]",x="[object Float64Array]",A="[object Int8Array]",w="[object Int16Array]",I="[object Int32Array]",C="[object Uint8Array]",R="[object Uint8ClampedArray]",_="[object Uint16Array]",L="[object Uint32Array]";function b(O,k,j){var B=O.constructor;switch(k){case E:return t(O);case a:case r:return new B(+O);case v:return e(O,j);case S:case x:case A:case w:case I:case C:case R:case _:case L:return s(O,j);case u:return new B;case c:case d:return new B(O);case f:return n(O);case h:return new B;case g:return i(O)}}return CE=b,CE}var AE,Kw;function DW(){if(Kw)return AE;Kw=1;var t=e1(),e=Ra(),n="[object Map]";function i(s){return e(s)&&t(s)==n}return AE=i,AE}var LE,$w;function BW(){if($w)return LE;$w=1;var t=DW(),e=xy(),n=Sy(),i=n&&n.isMap,s=i?e(i):t;return LE=s,LE}var wE,Vw;function UW(){if(Vw)return wE;Vw=1;var t=e1(),e=Ra(),n="[object Set]";function i(s){return e(s)&&t(s)==n}return wE=i,wE}var OE,Fw;function MW(){if(Fw)return OE;Fw=1;var t=UW(),e=xy(),n=Sy(),i=n&&n.isSet,s=i?e(i):t;return OE=s,OE}var IE,qw;function KW(){if(qw)return IE;qw=1;var t=i2(),e=mW(),n=Cy(),i=vW(),s=yW(),a=o2(),r=l2(),u=bW(),c=RW(),f=xW(),h=SW(),d=e1(),g=OW(),E=kW(),v=f2(),S=xa(),x=Ry(),A=BW(),w=mi(),I=MW(),C=_h(),R=$l(),_=1,L=2,b=4,O="[object Arguments]",k="[object Array]",j="[object Boolean]",B="[object Date]",ae="[object Error]",fe="[object Function]",G="[object GeneratorFunction]",re="[object Map]",ce="[object Number]",he="[object Object]",we="[object RegExp]",Ae="[object Set]",ye="[object String]",W="[object Symbol]",pe="[object WeakMap]",He="[object ArrayBuffer]",je="[object DataView]",ot="[object Float32Array]",xt="[object Float64Array]",Me="[object Int8Array]",pt="[object Int16Array]",Ze="[object Int32Array]",_t="[object Uint8Array]",H="[object Uint8ClampedArray]",Q="[object Uint16Array]",z="[object Uint32Array]",J={};J[O]=J[k]=J[He]=J[je]=J[j]=J[B]=J[ot]=J[xt]=J[Me]=J[pt]=J[Ze]=J[re]=J[ce]=J[he]=J[we]=J[Ae]=J[ye]=J[W]=J[_t]=J[H]=J[Q]=J[z]=!0,J[ae]=J[fe]=J[pe]=!1;function _e(ge,Ie,Re,D,M,de){var Te,Ge=Ie&_,Ue=Ie&L,ve=Ie&b;if(Re&&(Te=M?Re(ge,D,M,de):Re(ge)),Te!==void 0)return Te;if(!w(ge))return ge;var Le=S(ge);if(Le){if(Te=g(ge),!Ge)return r(ge,Te)}else{var Je=d(ge),X=Je==fe||Je==G;if(x(ge))return a(ge,Ge);if(Je==he||Je==O||X&&!M){if(Te=Ue||X?{}:v(ge),!Ge)return Ue?c(ge,s(Te,ge)):u(ge,i(Te,ge))}else{if(!J[Je])return M?ge:{};Te=E(ge,Je,Ge)}}de||(de=new t);var q=de.get(ge);if(q)return q;de.set(ge,Te),I(ge)?ge.forEach(function(ie){Te.add(_e(ie,Ie,Re,ie,ge,de))}):A(ge)&&ge.forEach(function(ie,xe){Te.set(xe,_e(ie,Ie,Re,xe,ge,de))});var se=ve?Ue?h:f:Ue?R:C,F=Le?void 0:se(ge);return e(F||ge,function(ie,xe){F&&(xe=ie,ie=ge[xe]),n(Te,xe,_e(ie,Ie,Re,xe,ge,de))}),Te}return IE=_e,IE}var NE,Gw;function $W(){if(Gw)return NE;Gw=1;var t=KW(),e=1,n=4;function i(s){return t(s,e|n)}return NE=i,NE}var VW=$W();const vP=is(VW),FW=dt({emits:{resolve:()=>!0},data(){return{screen:"options",vibe:null,message:"",content:null,isContent:!0,values:{}}},mounted(){var e,n;const t=(n=(e=this.$debugRecorder)==null?void 0:e.room)==null?void 0:n.appTag;t&&(this.values=vP(this.$ecastValues),this.content=dA.getPromptGuess(this.values,t)??null)},methods:{onFeedbackClick(){this.screen="feedback"},onDebugClick(){this.screen="debug"},onVibeClick(t){this.vibe=t},async onSubmitClick(){this.$debugRecorder&&(this.screen==="debug"&&(await this.$debugRecorder.send(this.message),this.$emit("resolve")),this.screen==="feedback"&&(await dA.send({room:this.$debugRecorder.room,name:this.$ecast.name,role:this.$ecast.role,content:this.isContent?this.content:null,message:this.message??"",vibe:this.vibe??"none",values:this.values}),this.$emit("resolve")))}}}),jw="/main/pp11/sfx/assets/DLGomgNm.png",Ww="/main/pp11/sfx/assets/B8C13_5i.png",qW="/main/pp11/sfx/assets/DaAsZ-1o.png",GW="/main/pp11/sfx/assets/C0nA0hrp.png",jW="/main/pp11/sfx/assets/_LZDgMYc.png",WW={class:"jbg"},XW={key:0,class:"options"},HW={key:1,class:"feedback"},YW={class:"buttons"},zW={class:"actions"},JW={key:0,class:"content-guess"},ZW={key:2,class:"debug"},QW={class:"actions"};function eX(t,e,n,i,s,a){return Y(),te("div",WW,[t.screen==="options"?(Y(),te("div",XW,[V("button",{class:"feedback-button",onClick:e[0]||(e[0]=(...r)=>t.onFeedbackClick&&t.onFeedbackClick(...r))},e[10]||(e[10]=[V("img",{src:jw,alt:"Leave Feedback"},null,-1),V("span",null,[Tr("LEAVE"),V("br"),Tr("FEEDBACK")],-1)])),V("button",{onClick:e[1]||(e[1]=(...r)=>t.onDebugClick&&t.onDebugClick(...r))},e[11]||(e[11]=[V("img",{src:Ww,alt:"Send Debug"},null,-1),V("span",null,[Tr("SEND A"),V("br"),Tr("DEBUG")],-1)]))])):t.screen==="feedback"?(Y(),te("div",HW,[e[17]||(e[17]=V("img",{class:"image",src:jw,alt:"Feedback"},null,-1)),e[18]||(e[18]=V("h3",{class:"text"},"Send Feedback",-1)),V("div",{class:et(["vibes",{"has-selected":t.vibe}])},[e[15]||(e[15]=V("p",{class:"cta"},"CHOOSE A VIBE",-1)),V("div",YW,[V("button",{class:et({selected:t.vibe==="good"}),onClick:e[2]||(e[2]=r=>t.onVibeClick("good"))},e[12]||(e[12]=[V("img",{src:qW,alt:"good"},null,-1)]),2),V("button",{class:et({selected:t.vibe==="meh"}),onClick:e[3]||(e[3]=r=>t.onVibeClick("meh"))},e[13]||(e[13]=[V("img",{src:GW,alt:"good"},null,-1)]),2),V("button",{class:et({selected:t.vibe==="bad"}),onClick:e[4]||(e[4]=r=>t.onVibeClick("bad"))},e[14]||(e[14]=[V("img",{src:jW,alt:"bad"},null,-1)]),2)])],2),V("div",zW,[t.content?(Y(),te("div",JW,[St(V("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>t.isContent=r),type:"checkbox"},null,512),[[K$,t.isContent]]),V("span",null,[e[16]||(e[16]=Tr("Feedback is about: ")),V("em",null,nt(t.content),1)])])):Ke("",!0),St(V("textarea",{"onUpdate:modelValue":e[6]||(e[6]=r=>t.message=r),rows:"3",placeholder:"(optional) more details","aria-label":"Details"},null,512),[[YR,t.message]]),V("button",{onClick:e[7]||(e[7]=Ir((...r)=>t.onSubmitClick&&t.onSubmitClick(...r),["prevent"]))},nt(t.$t("ACTION.SUBMIT")),1)])])):t.screen==="debug"?(Y(),te("div",ZW,[e[19]||(e[19]=V("img",{class:"image",src:Ww,alt:"Debug"},null,-1)),e[20]||(e[20]=V("h3",{class:"text"},"What is Happening?",-1)),V("div",QW,[St(V("textarea",{"onUpdate:modelValue":e[8]||(e[8]=r=>t.message=r),rows:"3",placeholder:"Enter details","aria-label":"Details"},null,512),[[YR,t.message]]),V("button",{onClick:e[9]||(e[9]=Ir((...r)=>t.onSubmitClick&&t.onSubmitClick(...r),["prevent"]))},nt(t.$t("ACTION.OK")),1)])])):Ke("",!0)])}const tX=rt(FW,[["render",eX],["__scopeId","data-v-2c53389f"]]),rX=dt({methods:{onFeedbackClick(){this.$showModal(tX)}}});function nX(t,e,n,i,s,a){return Y(),te("div",{class:"feedback-button",onClick:e[0]||(e[0]=(...r)=>t.onFeedbackClick&&t.onFeedbackClick(...r))},"SEND FEEDBACK")}const iX=rt(rX,[["render",nX],["__scopeId","data-v-6f2f1788"]]),sX={install:(t,e)=>{if(!t.config.globalProperties.$debugRecorder&&!t.config.globalProperties.$debugReplayer){if(e.replayer){t.config.globalProperties.$debugReplayer=e.replayer,t.component("Debug",_W);return}if(t.config.globalProperties.$debugRecorder=new i9(e.client,e.room),!t.config.globalProperties.$showModal){console.warn("[debugPlugin] Sending debug and feedback messages is disabled because the modalPlugin is missing.");return}(!Zi.isProduction()||Zi.getQueryParam("feedback"))&&t.component("Debug",iX)}}};var PE,Xw;function aX(){if(Xw)return PE;Xw=1;var t=Mi(),e=function(){return t.Date.now()};return PE=e,PE}var kE,Hw;function oX(){if(Hw)return kE;Hw=1;var t=/\s/;function e(n){for(var i=n.length;i--&&t.test(n.charAt(i)););return i}return kE=e,kE}var DE,Yw;function uX(){if(Yw)return DE;Yw=1;var t=oX(),e=/^\s+/;function n(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return DE=n,DE}var BE,zw;function mh(){if(zw)return BE;zw=1;var t=yu(),e=Ra(),n="[object Symbol]";function i(s){return typeof s=="symbol"||e(s)&&t(s)==n}return BE=i,BE}var UE,Jw;function yP(){if(Jw)return UE;Jw=1;var t=uX(),e=mi(),n=mh(),i=NaN,s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,r=/^0o[0-7]+$/i,u=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return i;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var d=a.test(f);return d||r.test(f)?u(f.slice(2),d?2:8):s.test(f)?i:+f}return UE=c,UE}var ME,Zw;function TP(){if(Zw)return ME;Zw=1;var t=mi(),e=aX(),n=yP(),i="Expected a function",s=Math.max,a=Math.min;function r(u,c,f){var h,d,g,E,v,S,x=0,A=!1,w=!1,I=!0;if(typeof u!="function")throw new TypeError(i);c=n(c)||0,t(f)&&(A=!!f.leading,w="maxWait"in f,g=w?s(n(f.maxWait)||0,c):g,I="trailing"in f?!!f.trailing:I);function C(ae){var fe=h,G=d;return h=d=void 0,x=ae,E=u.apply(G,fe),E}function R(ae){return x=ae,v=setTimeout(b,c),A?C(ae):E}function _(ae){var fe=ae-S,G=ae-x,re=c-fe;return w?a(re,g-G):re}function L(ae){var fe=ae-S,G=ae-x;return S===void 0||fe>=c||fe<0||w&&G>=g}function b(){var ae=e();if(L(ae))return O(ae);v=setTimeout(b,_(ae))}function O(ae){return v=void 0,I&&h?C(ae):(h=d=void 0,E)}function k(){v!==void 0&&clearTimeout(v),x=0,h=S=d=v=void 0}function j(){return v===void 0?E:O(e())}function B(){var ae=e(),fe=L(ae);if(h=arguments,d=this,S=ae,fe){if(v===void 0)return R(S);if(w)return clearTimeout(v),v=setTimeout(b,c),C(S)}return v===void 0&&(v=setTimeout(b,c)),E}return B.cancel=k,B.flush=j,B}return ME=r,ME}var lX=TP();const cX=is(lX);var KE,Qw;function fX(){if(Qw)return KE;Qw=1;var t=xa(),e=mh(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function s(a,r){if(t(a))return!1;var u=typeof a;return u=="number"||u=="symbol"||u=="boolean"||a==null||e(a)?!0:i.test(a)||!n.test(a)||r!=null&&a in Object(r)}return KE=s,KE}var $E,eO;function hX(){if(eO)return $E;eO=1;var t=n2(),e="Expected a function";function n(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var a=function(){var r=arguments,u=s?s.apply(this,r):r[0],c=a.cache;if(c.has(u))return c.get(u);var f=i.apply(this,r);return a.cache=c.set(u,f)||c,f};return a.cache=new(n.Cache||t),a}return n.Cache=t,$E=n,$E}var VE,tO;function pX(){if(tO)return VE;tO=1;var t=hX(),e=500;function n(i){var s=t(i,function(r){return a.size===e&&a.clear(),r}),a=s.cache;return s}return VE=n,VE}var FE,rO;function dX(){if(rO)return FE;rO=1;var t=pX(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=t(function(s){var a=[];return s.charCodeAt(0)===46&&a.push(""),s.replace(e,function(r,u,c,f){a.push(c?f.replace(n,"$1"):u||r)}),a});return FE=i,FE}var qE,nO;function bP(){if(nO)return qE;nO=1;function t(e,n){for(var i=-1,s=e==null?0:e.length,a=Array(s);++i<s;)a[i]=n(e[i],i,e);return a}return qE=t,qE}var GE,iO;function _X(){if(iO)return GE;iO=1;var t=rh(),e=bP(),n=xa(),i=mh(),s=t?t.prototype:void 0,a=s?s.toString:void 0;function r(u){if(typeof u=="string")return u;if(n(u))return e(u,r)+"";if(i(u))return a?a.call(u):"";var c=u+"";return c=="0"&&1/u==-1/0?"-0":c}return GE=r,GE}var jE,sO;function mX(){if(sO)return jE;sO=1;var t=_X();function e(n){return n==null?"":t(n)}return jE=e,jE}var WE,aO;function RP(){if(aO)return WE;aO=1;var t=xa(),e=fX(),n=dX(),i=mX();function s(a,r){return t(a)?a:e(a,r)?[a]:n(i(a))}return WE=s,WE}var XE,oO;function xP(){if(oO)return XE;oO=1;var t=mh();function e(n){if(typeof n=="string"||t(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return XE=e,XE}var HE,uO;function gX(){if(uO)return HE;uO=1;var t=Cy(),e=RP(),n=Ay(),i=mi(),s=xP();function a(r,u,c,f){if(!i(r))return r;u=e(u,r);for(var h=-1,d=u.length,g=d-1,E=r;E!=null&&++h<d;){var v=s(u[h]),S=c;if(v==="__proto__"||v==="constructor"||v==="prototype")return r;if(h!=g){var x=E[v];S=f?f(x,v,E):void 0,S===void 0&&(S=i(x)?x:n(u[h+1])?[]:{})}t(E,v,S),E=E[v]}return r}return HE=a,HE}var YE,lO;function EX(){if(lO)return YE;lO=1;var t=gX();function e(n,i,s){return n==null?n:t(n,i,s)}return YE=e,YE}var vX=EX();const yX=is(vX);class TX{constructor(){be(this,"wsClient");be(this,"isKicked",!1);be(this,"isHostPaused",!1);be(this,"watchStopHandler");be(this,"keyMap");be(this,"providerMap");be(this,"mappedValues",bn({}));be(this,"shouldParseBlobcast",!1);be(this,"callbackMap",new Map);be(this,"pausedKeys",null);be(this,"pausedEvents",null);be(this,"keyMapKeys");be(this,"providerMapKeys");be(this,"hotValues");be(this,"newValues");be(this,"pause",(e=[],n=null)=>{if(e){const i=this.pausedKeys??[];i.push(...e),this.pausedKeys=i}if(n){const i=this.pausedEvents??[];i.push(...n),this.pausedEvents=i}});be(this,"resume",()=>{this.pausedKeys=null,this.pausedEvents=null,this.rawSync()});be(this,"flush",()=>{const e=this.pausedKeys,n=this.pausedEvents;this.resume(),this.pausedKeys=e,this.pausedEvents=n});be(this,"sync",cX(this.rawSync.bind(this),50))}setWSClient(e){this.wsClient=e,this.setupWatcher(),e.on("connection",this.onConnection.bind(this)),e.on("room/exit",this.onRoomExit.bind(this)),e.on("room/lock",this.onRoomLock.bind(this)),e.on("room/migrate",this.onRoomMigrate.bind(this)),e.on("client/connected",this.onClientConnected.bind(this)),e.on("client/disconnected",this.onClientDisconnected.bind(this)),e.on("client/kicked",this.onClientKicked.bind(this)),e.on("socketClose",this.onSocketClose.bind(this))}setupWatcher(){this.wsClient.entities=bn(this.wsClient.entities),this.watchStopHandler=io(this.wsClient.entities,this.sync)}rawSync(){if(this.wsClient&&!(!this.keyMap&&!this.providerMap)){if(this.pausedKeys&&!this.pausedKeys.length){this.emit("didReceivePausedEntities",this.wsClient.entities);return}this.hotValues={},this.newValues={},this.normalize().mapKeysToValues().mapProvidersToValues().deleteDropped().hydrateRefs().syncExisting(),delete this.hotValues,delete this.newValues,this.checkHostIsPausedChange()}}valueForEntity(e){return e instanceof wr.ArtifactEntity||e instanceof wr.DoodleEntity||e instanceof wr.TextMapEntity||e instanceof wr.NumberEntity?e:e instanceof wr.ObjectEntity?vP(e.val):e instanceof wr.TextEntity?e.text:null}normalize(){var n;const e=Object.keys(this.wsClient.entities);for(let i=0;i<e.length;i++){let s=e[i];if((n=this.pausedKeys)!=null&&n.includes(s)){this.emit("didReceivePausedEntities",{[s]:this.wsClient.entities[s]});continue}const a=this.valueForEntity(this.wsClient.entities[s]);if(a!=null){if(this.shouldParseBlobcast){const r=s.split(":");if(r[0]==="bc")if(r[1]==="customer"){if(r[2]!==`${this.wsClient.id}`)continue;s="player"}else r[1]==="room"&&(s="room")}this.hotValues[s]=a}}return this}hydrateRefs(){const e=(n,i,s=!1,a=!1)=>{const r=n.$ref??n.ref;if(r){const u=this.hotValues[r];if(u===void 0)if(a)console.warn(`[ecastPlugin] entity "${i}" referenced nonexistent optional entity "${r}"`);else throw new Error(`[ecastPlugin] entity "${i}" referenced entity "${r}" but it does not exist`);yX(this.newValues,i,u)}else s&&Object.entries(n).forEach(([u,c])=>{c!==null&&typeof c=="object"&&e(c,`${i}.${u}`,s,a)})};return Object.entries(this.newValues).forEach(([n,i])=>{i&&Object.entries(i).forEach(([s,a])=>{a!==null&&typeof a=="object"&&e(a,`${n}.${s}`,this.keyHasDeepRefs(n),this.keyHasOptionalRefs(n))})}),this}keyHasDeepRefs(e){var n,i,s,a;return!!((i=(n=this.keyMap)==null?void 0:n[e])!=null&&i.hasDeepRefs||(a=(s=this.providerMap)==null?void 0:s[e])!=null&&a.hasDeepRefs)}keyHasOptionalRefs(e){var n,i,s,a;return!!((i=(n=this.keyMap)==null?void 0:n[e])!=null&&i.hasOptionalRefs||(a=(s=this.providerMap)==null?void 0:s[e])!=null&&a.hasOptionalRefs)}mapKeysToValues(){if(!this.keyMap)return this;for(let e=0;e<this.keyMapKeys.length;e++)this.newValues[this.keyMapKeys[e]]=this.hotValues[this.keyMap[this.keyMapKeys[e]].key];return this}mapProvidersToValues(){if(!this.providerMap)return this;for(let e=0;e<this.providerMapKeys.length;e++)this.newValues[this.providerMapKeys[e]]=this.providerMap[this.providerMapKeys[e]].fn(this.hotValues,this.wsClient);return this}deleteDropped(){const e=Object.keys(this.mappedValues);for(let n=0;n<e.length;n++)this.newValues[e[n]]||delete this.mappedValues[e[n]];return this}syncExisting(){const e=Object.keys(this.newValues);for(let n=0;n<e.length;n++)this.mappedValues[e[n]]=this.newValues[e[n]];return this.mappedValues}checkHostIsPausedChange(){const e=this.mappedValues.hostIsPaused;e&&!this.isHostPaused?(this.isHostPaused=!0,this.emit("hostDidPause")):!e&&this.isHostPaused&&(this.isHostPaused=!1,this.emit("hostDidUnpause"))}addKeys(e){this.keyMap||(this.keyMap={}),Object.keys(e).forEach(n=>{if(typeof e[n]=="function"){const i=e[n];this.keyMap[n]={key:i(this.wsClient),hasDeepRefs:!1,hasOptionalRefs:!1};return}if(typeof e[n]=="object"){const i=e[n];this.keyMap[n]={key:i.fn?i.fn(this.wsClient):i.key,hasDeepRefs:i.hasDeepRefs??!1,hasOptionalRefs:i.hasOptionalRefs??!1};return}this.keyMap[n]={key:e[n]}}),this.keyMapKeys=Object.keys(this.keyMap),this.sync()}purgeKeys(e){this.keyMap&&(Object.keys(e).forEach(n=>{this.keyMap[n]&&delete this.keyMap[n]}),this.keyMapKeys=Object.keys(this.keyMap),this.sync())}addProviders(e){this.providerMap||(this.providerMap={}),Object.keys(e).forEach(n=>{if(typeof e[n]=="object"){const i=e[n];this.providerMap[n]={fn:i.fn,hasDeepRefs:i.hasDeepRefs??!1};return}this.providerMap[n]={fn:e[n]}}),this.providerMapKeys=Object.keys(this.providerMap),this.sync()}purgeProviders(e){this.providerMap&&(Object.keys(e).forEach(n=>{this.providerMap[n]&&delete this.providerMap[n]}),this.providerMapKeys=Object.keys(this.providerMap),this.sync())}meta(e){var n,i;return((i=(n=this.wsClient)==null?void 0:n.entities[e])==null?void 0:i.meta)??null}restrictions(e){var i;const n=(i=this.wsClient)==null?void 0:i.entities[e];return!n||!(n instanceof wr.NumberEntity)?null:n.restrictions??null}keyForRef(...e){var a,r,u,c;const n=(r=(a=this.keyMap)==null?void 0:a[e[0]])==null?void 0:r.key;if(!n)return null;const i=(u=this.wsClient)==null?void 0:u.entities[n];if(!i||!(i instanceof wr.ObjectEntity))return null;const s=(c=i==null?void 0:i.val)==null?void 0:c[e[1]];return(s==null?void 0:s.ref)??(s==null?void 0:s.$ref)??null}on(e,n){const i=this.callbackMap.get(e)??new Set;i.size||this.callbackMap.set(e,i),i.add(n)}off(e,n){const i=this.callbackMap.get(e);i&&i.delete(n)}emit(e,n){var i,s;if(this.pausedEvents&&this.pausedEvents.includes(e)){(i=this.callbackMap.get("didEmitPausedEvent"))==null||i.forEach(a=>a(e));return}(s=this.callbackMap.get(e))==null||s.forEach(a=>a(n))}onConnection(e){if(e.status==="connected"){this.emit("didReconnect");return}this.emit("isReconnecting",e.attempt??0)}onClientConnected(e){e.role==="host"&&e.reconnect&&this.emit("hostDidReconnect")}onClientDisconnected(e){e.role==="host"&&this.emit("hostDidDisconnect")}onRoomExit(){this.emit("roomDidExit")}onRoomLock(){this.emit("roomDidLock")}onRoomMigrate(e){this.emit("roomDidMigrate",e)}onClientKicked(){var e;this.isKicked=!0,(e=this.watchStopHandler)==null||e.call(this),this.emit("wasKicked")}onSocketClose(){this.isKicked||this.emit("didDisconnect")}}const qn=new TX,bX={install:(t,e)=>{t.config.globalProperties.$setupEcast=n=>{qn.setWSClient(n.wsClient),n.wsClient.on("artifact",i=>pl.add(i)),n.wsClient.on("connection",i=>{i.status==="connected"&&qn.setupWatcher()}),qn.sync(),t.config.globalProperties.$ecast=qn.wsClient,t.config.globalProperties.$ecastManager=qn,t.config.globalProperties.$ecastValues=qn.mappedValues,t.config.globalProperties.$ecastRoom=n.room,t.config.globalProperties.$ecastWelcome=n.welcome,t.config.globalProperties.$syncEcast=qn.sync,t.config.globalProperties.$pauseEcastUpdates=qn.pause,t.config.globalProperties.$resumeEcastUpdates=qn.resume,t.mixin({beforeCreate(){this.$options.ecastKeys&&qn.addKeys(this.$options.ecastKeys),this.$options.ecastProviders&&qn.addProviders(this.$options.ecastProviders)},beforeDestroy(){this.$options.ecastKeys&&qn.purgeKeys(this.$options.ecastKeys),this.$options.ecastProviders&&qn.purgeProviders(this.$options.ecastProviders)}})},e!=null&&e.wsClient&&t.config.globalProperties.$setupEcast(e)}};var zE=Iy();const Ru={fatal:{error:Symbol("fatal.error")},textDescriptions:{announcement:Symbol("textDescriptions.announcement")}},RX=Object.prototype.toString;function xX(t,e){return RX.call(t)===`[object ${e}]`}function SX(t){return xX(t,"Object")}function CX(t){return!!(t&&t.then&&typeof t.then=="function")}const ml="8.38.0",rs=globalThis;function t1(t,e,n){const i=n||rs,s=i.__SENTRY__=i.__SENTRY__||{},a=s[ml]=s[ml]||{};return a[t]||(a[t]=e())}const r1=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,AX="Sentry Logger ",cO=["debug","info","warn","error","log","assert","trace"],fO={};function SP(t){if(!("console"in rs))return t();const e=rs.console,n={},i=Object.keys(fO);i.forEach(s=>{const a=fO[s];n[s]=e[s],e[s]=a});try{return t()}finally{i.forEach(s=>{e[s]=n[s]})}}function LX(){let t=!1;const e={enable:()=>{t=!0},disable:()=>{t=!1},isEnabled:()=>t};return r1?cO.forEach(n=>{e[n]=(...i)=>{t&&SP(()=>{rs.console[n](`${AX}[${n}]:`,...i)})}}):cO.forEach(n=>{e[n]=()=>{}}),e}const Ai=t1("logger",LX),wX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function OX(t){return t==="http"||t==="https"}function IX(t,e=!1){const{host:n,path:i,pass:s,port:a,projectId:r,protocol:u,publicKey:c}=t;return`${u}://${c}${e&&s?`:${s}`:""}@${n}${a?`:${a}`:""}/${i&&`${i}/`}${r}`}function NX(t){const e=wX.exec(t);if(!e){SP(()=>{console.error(`Invalid Sentry Dsn: ${t}`)});return}const[n,i,s="",a="",r="",u=""]=e.slice(1);let c="",f=u;const h=f.split("/");if(h.length>1&&(c=h.slice(0,-1).join("/"),f=h.pop()),f){const d=f.match(/^\d+/);d&&(f=d[0])}return CP({host:a,pass:s,path:c,projectId:f,port:r,protocol:n,publicKey:i})}function CP(t){return{protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function PX(t){if(!r1)return!0;const{port:e,projectId:n,protocol:i}=t;return["protocol","publicKey","host","projectId"].find(r=>t[r]?!1:(Ai.error(`Invalid Sentry Dsn: ${r} missing`),!0))?!1:n.match(/^\d+$/)?OX(i)?e&&isNaN(parseInt(e,10))?(Ai.error(`Invalid Sentry Dsn: Invalid port ${e}`),!1):!0:(Ai.error(`Invalid Sentry Dsn: Invalid protocol ${i}`),!1):(Ai.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function kX(t){const e=typeof t=="string"?NX(t):CP(t);if(!(!e||!PX(e)))return e}function DX(t,e,n){try{Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}catch{r1&&Ai.log(`Failed to add non-enumerable property "${e}" to object`,t)}}const AP=1e3;function LP(){return Date.now()/AP}function BX(){const{performance:t}=rs;if(!t||!t.now)return LP;const e=Date.now()-t.now(),n=t.timeOrigin==null?e:t.timeOrigin;return()=>(n+t.now())/AP}const UX=BX();(()=>{const{performance:t}=rs;if(!t||!t.now)return;const e=3600*1e3,n=t.now(),i=Date.now(),s=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,a=s<e,r=t.timing&&t.timing.navigationStart,c=typeof r=="number"?Math.abs(r+n-i):e,f=c<e;return a||f?s<=c?t.timeOrigin:r:i})();function su(){const t=rs,e=t.crypto||t.msCrypto;let n=()=>Math.random()*16;try{if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e&&e.getRandomValues&&(n=()=>{const i=new Uint8Array(1);return e.getRandomValues(i),i[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,i=>(i^(n()&15)>>i/4).toString(16))}function hO(){return{traceId:su(),spanId:su().substring(16)}}function n1(){return i1(rs),rs}function i1(t){const e=t.__SENTRY__=t.__SENTRY__||{};return e.version=e.version||ml,e[ml]=e[ml]||{}}function MX(t,e={}){if(e.user&&(!t.ipAddress&&e.user.ip_address&&(t.ipAddress=e.user.ip_address),!t.did&&!e.did&&(t.did=e.user.id||e.user.email||e.user.username)),t.timestamp=e.timestamp||UX(),e.abnormal_mechanism&&(t.abnormal_mechanism=e.abnormal_mechanism),e.ignoreDuration&&(t.ignoreDuration=e.ignoreDuration),e.sid&&(t.sid=e.sid.length===32?e.sid:su()),e.init!==void 0&&(t.init=e.init),!t.did&&e.did&&(t.did=`${e.did}`),typeof e.started=="number"&&(t.started=e.started),t.ignoreDuration)t.duration=void 0;else if(typeof e.duration=="number")t.duration=e.duration;else{const n=t.timestamp-t.started;t.duration=n>=0?n:0}e.release&&(t.release=e.release),e.environment&&(t.environment=e.environment),!t.ipAddress&&e.ipAddress&&(t.ipAddress=e.ipAddress),!t.userAgent&&e.userAgent&&(t.userAgent=e.userAgent),typeof e.errors=="number"&&(t.errors=e.errors),e.status&&(t.status=e.status)}const Iv="_sentrySpan";function pO(t,e){e?DX(t,Iv,e):delete t[Iv]}function dO(t){return t[Iv]}const KX=100;class s1{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=hO()}clone(){const e=new s1;return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,pO(e,dO(this)),e}setClient(e){this._client=e}setLastEventId(e){this._lastEventId=e}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&MX(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,n){return this._tags={...this._tags,[e]:n},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,n){return this._extra={...this._extra,[e]:n},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,n){return n===null?delete this._contexts[e]:this._contexts[e]=n,this._notifyScopeListeners(),this}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;const n=typeof e=="function"?e(this):e,[i,s]=n instanceof Al?[n.getScopeData(),n.getRequestSession()]:SX(n)?[e,e.requestSession]:[],{tags:a,extra:r,user:u,contexts:c,level:f,fingerprint:h=[],propagationContext:d}=i||{};return this._tags={...this._tags,...a},this._extra={...this._extra,...r},this._contexts={...this._contexts,...c},u&&Object.keys(u).length&&(this._user=u),f&&(this._level=f),h.length&&(this._fingerprint=h),d&&(this._propagationContext=d),s&&(this._requestSession=s),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,pO(this,void 0),this._attachments=[],this._propagationContext=hO(),this._notifyScopeListeners(),this}addBreadcrumb(e,n){const i=typeof n=="number"?n:KX;if(i<=0)return this;const s={timestamp:LP(),...e},a=this._breadcrumbs;return a.push(s),this._breadcrumbs=a.length>i?a.slice(-i):a,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:dO(this)}}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}setPropagationContext(e){return this._propagationContext=e,this}getPropagationContext(){return this._propagationContext}captureException(e,n){const i=n&&n.event_id?n.event_id:su();if(!this._client)return Ai.warn("No client configured on scope - will not capture exception!"),i;const s=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:s,...n,event_id:i},this),i}captureMessage(e,n,i){const s=i&&i.event_id?i.event_id:su();if(!this._client)return Ai.warn("No client configured on scope - will not capture message!"),s;const a=new Error(e);return this._client.captureMessage(e,n,{originalException:e,syntheticException:a,...i,event_id:s},this),s}captureEvent(e,n){const i=n&&n.event_id?n.event_id:su();return this._client?(this._client.captureEvent(e,{...n,event_id:i},this),i):(Ai.warn("No client configured on scope - will not capture event!"),i)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}}const Al=s1;function $X(){return t1("defaultCurrentScope",()=>new Al)}function VX(){return t1("defaultIsolationScope",()=>new Al)}class FX{constructor(e,n){let i;e?i=e:i=new Al;let s;n?s=n:s=new Al,this._stack=[{scope:i}],this._isolationScope=s}withScope(e){const n=this._pushScope();let i;try{i=e(n)}catch(s){throw this._popScope(),s}return CX(i)?i.then(s=>(this._popScope(),s),s=>{throw this._popScope(),s}):(this._popScope(),i)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function lu(){const t=n1(),e=i1(t);return e.stack=e.stack||new FX($X(),VX())}function qX(t){return lu().withScope(t)}function GX(t,e){const n=lu();return n.withScope(()=>(n.getStackTop().scope=t,e(t)))}function _O(t){return lu().withScope(()=>t(lu().getIsolationScope()))}function jX(){return{withIsolationScope:_O,withScope:qX,withSetScope:GX,withSetIsolationScope:(t,e)=>_O(e),getCurrentScope:()=>lu().getScope(),getIsolationScope:()=>lu().getIsolationScope()}}function wP(t){const e=i1(t);return e.acs?e.acs:jX()}function WX(){const t=n1();return wP(t).getCurrentScope()}function XX(){const t=n1();return wP(t).getIsolationScope()}function HX(){return XX().lastEventId()}function YX(t){const e=t.protocol?`${t.protocol}:`:"",n=t.port?`:${t.port}`:"";return`${e}//${t.host}${n}${t.path?`/${t.path}`:""}/api/`}function zX(t,e){const n=kX(t);if(!n)return"";const i=`${YX(n)}embed/error-page/`;let s=`dsn=${IX(n)}`;for(const a in e)if(a!=="dsn"&&a!=="onClose")if(a==="user"){const r=e.user;if(!r)continue;r.name&&(s+=`&name=${encodeURIComponent(r.name)}`),r.email&&(s+=`&email=${encodeURIComponent(r.email)}`)}else s+=`&${encodeURIComponent(a)}=${encodeURIComponent(e[a])}`;return`${i}?${s}`}const $o=rs,JE=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function JX(t={}){if(!$o.document){JE&&Ai.error("Global document not defined in showReportDialog call");return}const e=WX(),n=e.getClient(),i=n&&n.getDsn();if(!i){JE&&Ai.error("DSN not configured for showReportDialog call");return}if(e&&(t.user={...e.getUser(),...t.user}),!t.eventId){const u=HX();u&&(t.eventId=u)}const s=$o.document.createElement("script");s.async=!0,s.crossOrigin="anonymous",s.src=zX(i,t),t.onLoad&&(s.onload=t.onLoad);const{onClose:a}=t;if(a){const u=c=>{if(c.data==="__sentry_reportdialog_closed__")try{a()}finally{$o.removeEventListener("message",u)}};$o.addEventListener("message",u)}const r=$o.document.head||$o.document.body;r?r.appendChild(s):JE&&Ai.error("Not injecting report dialog. No injection point found in HTML")}const ZX=dt({setup(){return{fatalError:Ns(Ru.fatal.error)}},computed:{message(){var i,s,a,r;const t=((s=(i=this.fatalError)==null?void 0:i.event)==null?void 0:s.event_id)??"Unknown";let e="";const n=(r=(a=this.fatalError)==null?void 0:a.hint)==null?void 0:r.originalException;return n?typeof n=="string"?e=n:e=n.message:e="An unknown error occured",`Version:
${window.tv.manifest.loader.version}

Event ID:
${t}

${e}`}},methods:{onFeedbackClick(){var t,e;JX({id:((e=(t=this.fatalError)==null?void 0:t.event)==null?void 0:e.event_id)??"Unknown"})}}}),QX={class:"jbg fatal"},eH={class:"constrain"},tH={class:"content"},rH={class:"error"};function nH(t,e,n,i,s,a){return Y(),te("div",QX,[V("div",eH,[e[5]||(e[5]=V("a",{class:"logo",href:"/","aria-label":"Jackbox Games Logo"},null,-1)),V("div",tH,[e[1]||(e[1]=V("h1",null,"You have encountered an error",-1)),e[2]||(e[2]=V("p",null,"Something went wrong! But don't worry, you can try a few things to get going.",-1)),e[3]||(e[3]=V("ul",null,[V("li",null,"Refresh the page"),V("li",null,"Turn off adblockers or other browser extensions."),V("li",null,"Check your connection to the Internet."),V("li",null,"Make sure you're using an up-to-date browser."),V("li",null,"If that doesn't work, let us know.")],-1)),V("button",{onClick:e[0]||(e[0]=(...r)=>t.onFeedbackClick&&t.onFeedbackClick(...r))},"Tell us what happened"),e[4]||(e[4]=V("hr",null,null,-1)),V("pre",rH,nt(t.message),1)])])])}const iH=rt(ZX,[["render",nH],["__scopeId","data-v-a7272d53"]]),Zc=bn({hasCrashed:!1}),sH={install:t=>{if(t.config.globalProperties.$handleEcastError)return;t.provide(Ru.fatal.error,Hn(()=>Zc));const e=(n,i)=>{var s,a;if(n instanceof zE.EcastEntityNotFound||n instanceof zE.EcastFilterError||n instanceof zE.EcastRateLimitExceeded||n instanceof Error&&((s=n.message)!=null&&s.includes("Socket not ready to send"))||n instanceof Error&&((a=n.message)!=null&&a.includes("No connection available")))return console.warn(n);throw i?console.error(i,n):console.error(n),n};window.tv.onError=async(n,i)=>{if(n.level==="error"&&(Zc.hasCrashed=!0,Zc.event=n,Zc.hint=i),t.config.globalProperties.$debugRecorder)return await t.config.globalProperties.$debugRecorder.sendToEcast()},t.component("Fatal",iH),t.config.globalProperties.$handleEcastError=e}};var ZE,mO;function aH(){if(mO)return ZE;mO=1;var t=RP(),e=xP();function n(i,s){s=t(s,i);for(var a=0,r=s.length;i!=null&&a<r;)i=i[e(s[a++])];return a&&a==r?i:void 0}return ZE=n,ZE}var QE,gO;function oH(){if(gO)return QE;gO=1;var t=aH();function e(n,i,s){var a=n==null?void 0:t(n,i);return a===void 0?s:a}return QE=e,QE}var uH=oH();const lH=is(uH);var ev,EO;function OP(){if(EO)return ev;EO=1;var t=Math.floor,e=Math.random;function n(i,s){return i+t(e()*(s-i+1))}return ev=n,ev}var tv,vO;function IP(){if(vO)return tv;vO=1;var t=OP();function e(n){var i=n.length;return i?n[t(0,i-1)]:void 0}return tv=e,tv}var rv,yO;function cH(){if(yO)return rv;yO=1;var t=bP();function e(n,i){return t(i,function(s){return n[s]})}return rv=e,rv}var nv,TO;function fH(){if(TO)return nv;TO=1;var t=cH(),e=_h();function n(i){return i==null?[]:t(i,e(i))}return nv=n,nv}var iv,bO;function hH(){if(bO)return iv;bO=1;var t=IP(),e=fH();function n(i){return t(e(i))}return iv=n,iv}var sv,RO;function pH(){if(RO)return sv;RO=1;var t=IP(),e=hH(),n=xa();function i(s){var a=n(s)?t:e;return a(s)}return sv=i,sv}var dH=pH();const _H=is(dH);function xO(t,e){const n=t.global.locale,i=t.global.messages[n],s=lH(i,e);return Array.isArray(s)||console.warn(`[i18nPlugin] Translation with key ${e} is not an array`),_H(s)}const mH={install:(t,e)=>{t.directive("ts",(n,i)=>{const s=xO(e.i18n,i.value);n.textContent=s||""}),t.config.globalProperties.$ts=function(i){return xO(e.i18n,i)||""},t.config.globalProperties.$messages=e.i18n.global.messages,t.config.globalProperties.$t=e.i18n.global.t,t.config.globalProperties.$tc=e.i18n.global.tc,t.config.globalProperties.$te=e.i18n.global.te,t.config.globalProperties.$tm=e.i18n.global.tm}},gH=dt({props:{image:String,text:String,subtext:String,classes:{type:[Array,String],default:()=>"jbg"},dismissText:String}}),EH="/main/pp11/sfx/assets/Bwlnl62i.png",vH="/main/pp11/sfx/assets/DN8YV_ih.png",yH="/main/pp11/sfx/assets/Dv-2T4fF.png",TH={key:0,class:"image",src:EH,alt:"Kicked"},bH={key:1,class:"image",src:vH,alt:"Thank You"},RH={key:2,class:"image",src:yH,alt:"Error"},xH={class:"text"},SH={key:3,class:"subtext"},CH={class:"actions"};function AH(t,e,n,i,s,a){const r=Kr("bb");return Y(),te("div",{class:et(["error-model",t.classes])},[t.image==="tear"?(Y(),te("img",TH)):t.image==="moon"?(Y(),te("img",bH)):(Y(),te("img",RH)),St(V("h3",xH,null,512),[[r,t.text]]),t.subtext?St((Y(),te("h3",SH,null,512)),[[r,t.subtext]]):Ke("",!0),V("div",CH,[St(V("button",{onClick:e[0]||(e[0]=Ir(u=>t.$emit("resolve"),["prevent"]))},null,512),[[r,t.dismissText]])])],2)}const LH=rt(gH,[["render",AH],["__scopeId","data-v-39debcb6"]]),wH=dt({props:{text:String,subtext:String,classes:{type:[Array,String],default:()=>"jbg"},options:Array},emits:["resolve"]}),OH={class:"text"},IH={key:0,class:"subtext"},NH={class:"actions"},PH=["onClick"];function kH(t,e,n,i,s,a){const r=Kr("bb");return Y(),te("div",{class:et(["options-modal",t.classes])},[St(V("h3",OH,null,512),[[r,t.text]]),t.subtext?St((Y(),te("h3",IH,null,512)),[[r,t.subtext]]):Ke("",!0),V("div",NH,[(Y(!0),te(ht,null,Qt(t.options,(u,c)=>St((Y(),te("button",{key:c,class:et(u.classes),onClick:Ir(f=>t.$emit("resolve",u.value),["prevent"])},null,10,PH)),[[r,u.text]])),128))])],2)}const DH=rt(wH,[["render",kH],["__scopeId","data-v-adb60058"]]),BH=dt({data(){return{classes:"jbg",props:null,resolve:null,content:null}},beforeMount(){this.$registerModal(this)},methods:{show(t,e={},n={}){return this.props=e,this.classes=n.classes||"jbg",t==="Error"?this.content=Qo(LH):t==="Options"?this.content=Qo(DH):this.content=Qo(t),new Promise(i=>{this.resolve=i})},hide(){this.props=null,this.resolve&&this.resolve()},onResolve(...t){this.props=null,this.resolve(...t)},onBackgroundClick(){this.props=null,this.resolve()}}}),UH={class:"sandbox"};function MH(t,e,n,i,s,a){return Y(),Ht(zN,{name:"modal-transition"},{default:Ds(()=>[t.props?(Y(),te("div",{key:0,class:et(["modal",t.classes]),onKeyup:e[0]||(e[0]=Bi((...r)=>t.onBackgroundClick&&t.onBackgroundClick(...r),["esc"])),onClick:e[1]||(e[1]=Ir((...r)=>t.onBackgroundClick&&t.onBackgroundClick(...r),["self"]))},[V("div",UH,[t.content?(Y(),Ht(Dl(t.content),Ul({key:0,class:"content"},t.props,{onResolve:t.onResolve}),null,16,["onResolve"])):Ke("",!0)])],34)):Ke("",!0)]),_:1})}const KH=rt(BH,[["render",MH],["__scopeId","data-v-8b66321b"]]),$H={install:t=>{let e;const n=()=>{if(!e)throw new Error("No ModalComponent is registered");return e.hide()},i=(a,r,u)=>{if(!e)throw new Error("No ModalComponent is registered");return e.show(a,r,u)},s=a=>{e=a};t.component("Modal",KH),t.config.globalProperties.$hideModal=n,t.config.globalProperties.$showModal=i,t.config.globalProperties.$registerModal=s}},VH=dt({setup(){return{announcement:Ns(Ru.textDescriptions.announcement)}},ecastKeys:{textDescriptions:"textDescriptions"},data(){return{lines:[]}},computed:{textDescriptions(){return!this.$ecastValues||!this.$ecastValues.textDescriptions?null:this.$ecastValues.textDescriptions}},watch:{announcement:function(e){this.lines.push({id:Math.random(),category:"announce",text:e})},"textDescriptions.latestDescriptions":function(e){!e||!e.length||e.forEach(n=>{n.id!==void 0&&this.lines.find(i=>i.id===n.id)||this.lines.push(n)})}}}),FH={class:"text-descriptions",role:"log","aria-atomic":"false","aria-relevant":"additions","aria-live":"polite"};function qH(t,e,n,i,s,a){return Y(),te("div",FH,[(Y(!0),te(ht,null,Qt(t.lines,r=>(Y(),te("p",{key:r.id},nt(r.text),1))),128))])}const GH=rt(VH,[["render",qH]]),SO=Ja(""),jH={install:t=>{if(t.config.globalProperties.$announce)return;t.provide(Ru.textDescriptions.announcement,Hn(()=>SO.value));const e=n=>{SO.value=n};t.component("TextDescriptions",GH),t.config.globalProperties.$announce=e}},WH={install:t=>{let e="",n="";const i=a=>a instanceof Function?a():a,s=a=>{const r=document.querySelector('meta[name="theme-color"]');r&&(document.body&&(document.body.style.background=a),r.setAttribute("content",a),n=a)};t.config.globalProperties.$setThemeColor=function(r){this.$options.themeColor=r,s(r)},t.mixin({mounted(){if(!this.$options.themeColor)return;const a=i(this.$options.themeColor);s(a),this.$attrs.name==="game"&&(e=a)},beforeDestroy(){!this.$options.themeColor||i(this.$options.themeColor)!==n||s(e)}})}},XH={install:t=>{t.config.globalProperties.$vibrate=(e=[100,100])=>{var n;if(!((n=window.navigator)!=null&&n.vibrate))return!1;try{return window.navigator.vibrate(e),!0}catch{return!1}}}};/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function HH(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const Rf=typeof window<"u",Aa=(t,e=!1)=>e?Symbol.for(t):Symbol(t),YH=(t,e,n)=>zH({l:t,k:e,s:n}),zH=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),Or=t=>typeof t=="number"&&isFinite(t),JH=t=>PP(t)==="[object Date]",ma=t=>PP(t)==="[object RegExp]",gh=t=>wt(t)&&Object.keys(t).length===0,ln=Object.assign,ZH=Object.create,Zt=(t=null)=>ZH(t);let CO;const xf=()=>CO||(CO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:Zt());function AO(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function LO(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function QH(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(i,s,a)=>`${s}="${LO(a)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(i,s,a)=>`${s}='${LO(a)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(i=>{t=t.replace(i,"$1javascript&#58;")}),t}const eY=Object.prototype.hasOwnProperty;function Li(t,e){return eY.call(t,e)}const hr=Array.isArray,ur=t=>typeof t=="function",tt=t=>typeof t=="string",Mt=t=>typeof t=="boolean",qt=t=>t!==null&&typeof t=="object",tY=t=>qt(t)&&ur(t.then)&&ur(t.catch),NP=Object.prototype.toString,PP=t=>NP.call(t),wt=t=>{if(!qt(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},rY=t=>t==null?"":hr(t)||wt(t)&&t.toString===NP?JSON.stringify(t,null,2):String(t);function nY(t,e=""){return t.reduce((n,i,s)=>s===0?n+i:n+e+i,"")}function Eh(t){let e=t;return()=>++e}const Qc=t=>!qt(t)||hr(t);function hf(t,e){if(Qc(t)||Qc(e))throw new Error("Invalid value");const n=[{src:t,des:e}];for(;n.length;){const{src:i,des:s}=n.pop();Object.keys(i).forEach(a=>{a!=="__proto__"&&(qt(i[a])&&!qt(s[a])&&(s[a]=Array.isArray(i[a])?[]:Zt()),Qc(s[a])||Qc(i[a])?s[a]=i[a]:n.push({src:i[a],des:s[a]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function iY(t,e,n){return{line:t,column:e,offset:n}}function Sf(t,e,n){return{start:t,end:e}}const sY=/\{([0-9a-zA-Z]+)\}/g;function kP(t,...e){return e.length===1&&aY(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(sY,(n,i)=>e.hasOwnProperty(i)?e[i]:"")}const DP=Object.assign,wO=t=>typeof t=="string",aY=t=>t!==null&&typeof t=="object";function BP(t,e=""){return t.reduce((n,i,s)=>s===0?n+i:n+e+i,"")}const a1={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},oY={[a1.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function uY(t,e,...n){const i=kP(oY[t],...n||[]),s={message:String(i),code:t};return e&&(s.location=e),s}const Tt={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},lY={[Tt.EXPECTED_TOKEN]:"Expected token: '{0}'",[Tt.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[Tt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[Tt.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[Tt.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[Tt.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[Tt.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[Tt.EMPTY_PLACEHOLDER]:"Empty placeholder",[Tt.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[Tt.INVALID_LINKED_FORMAT]:"Invalid linked format",[Tt.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[Tt.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[Tt.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[Tt.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[Tt.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[Tt.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function xu(t,e,n={}){const{domain:i,messages:s,args:a}=n,r=kP((s||lY)[t]||"",...a||[]),u=new SyntaxError(String(r));return u.code=t,e&&(u.location=e),u.domain=i,u}function cY(t){throw t}const xs=" ",fY="\r",mn=`
`,hY="\u2028",pY="\u2029";function dY(t){const e=t;let n=0,i=1,s=1,a=0;const r=L=>e[L]===fY&&e[L+1]===mn,u=L=>e[L]===mn,c=L=>e[L]===pY,f=L=>e[L]===hY,h=L=>r(L)||u(L)||c(L)||f(L),d=()=>n,g=()=>i,E=()=>s,v=()=>a,S=L=>r(L)||c(L)||f(L)?mn:e[L],x=()=>S(n),A=()=>S(n+a);function w(){return a=0,h(n)&&(i++,s=0),r(n)&&n++,n++,s++,e[n]}function I(){return r(n+a)&&a++,a++,e[n+a]}function C(){n=0,i=1,s=1,a=0}function R(L=0){a=L}function _(){const L=n+a;for(;L!==n;)w();a=0}return{index:d,line:g,column:E,peekOffset:v,charAt:S,currentChar:x,currentPeek:A,next:w,peek:I,reset:C,resetPeek:R,skipToPeek:_}}const sa=void 0,_Y=".",OO="'",mY="tokenizer";function gY(t,e={}){const n=e.location!==!1,i=dY(t),s=()=>i.index(),a=()=>iY(i.line(),i.column(),i.index()),r=a(),u=s(),c={currentType:14,offset:u,startLoc:r,endLoc:r,lastType:14,lastOffset:u,lastStartLoc:r,lastEndLoc:r,braceNest:0,inLinked:!1,text:""},f=()=>c,{onError:h}=e;function d(D,M,de,...Te){const Ge=f();if(M.column+=de,M.offset+=de,h){const Ue=n?Sf(Ge.startLoc,M):null,ve=xu(D,Ue,{domain:mY,args:Te});h(ve)}}function g(D,M,de){D.endLoc=a(),D.currentType=M;const Te={type:M};return n&&(Te.loc=Sf(D.startLoc,D.endLoc)),de!=null&&(Te.value=de),Te}const E=D=>g(D,14);function v(D,M){return D.currentChar()===M?(D.next(),M):(d(Tt.EXPECTED_TOKEN,a(),0,M),"")}function S(D){let M="";for(;D.currentPeek()===xs||D.currentPeek()===mn;)M+=D.currentPeek(),D.peek();return M}function x(D){const M=S(D);return D.skipToPeek(),M}function A(D){if(D===sa)return!1;const M=D.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M===95}function w(D){if(D===sa)return!1;const M=D.charCodeAt(0);return M>=48&&M<=57}function I(D,M){const{currentType:de}=M;if(de!==2)return!1;S(D);const Te=A(D.currentPeek());return D.resetPeek(),Te}function C(D,M){const{currentType:de}=M;if(de!==2)return!1;S(D);const Te=D.currentPeek()==="-"?D.peek():D.currentPeek(),Ge=w(Te);return D.resetPeek(),Ge}function R(D,M){const{currentType:de}=M;if(de!==2)return!1;S(D);const Te=D.currentPeek()===OO;return D.resetPeek(),Te}function _(D,M){const{currentType:de}=M;if(de!==8)return!1;S(D);const Te=D.currentPeek()===".";return D.resetPeek(),Te}function L(D,M){const{currentType:de}=M;if(de!==9)return!1;S(D);const Te=A(D.currentPeek());return D.resetPeek(),Te}function b(D,M){const{currentType:de}=M;if(!(de===8||de===12))return!1;S(D);const Te=D.currentPeek()===":";return D.resetPeek(),Te}function O(D,M){const{currentType:de}=M;if(de!==10)return!1;const Te=()=>{const Ue=D.currentPeek();return Ue==="{"?A(D.peek()):Ue==="@"||Ue==="%"||Ue==="|"||Ue===":"||Ue==="."||Ue===xs||!Ue?!1:Ue===mn?(D.peek(),Te()):B(D,!1)},Ge=Te();return D.resetPeek(),Ge}function k(D){S(D);const M=D.currentPeek()==="|";return D.resetPeek(),M}function j(D){const M=S(D),de=D.currentPeek()==="%"&&D.peek()==="{";return D.resetPeek(),{isModulo:de,hasSpace:M.length>0}}function B(D,M=!0){const de=(Ge=!1,Ue="",ve=!1)=>{const Le=D.currentPeek();return Le==="{"?Ue==="%"?!1:Ge:Le==="@"||!Le?Ue==="%"?!0:Ge:Le==="%"?(D.peek(),de(Ge,"%",!0)):Le==="|"?Ue==="%"||ve?!0:!(Ue===xs||Ue===mn):Le===xs?(D.peek(),de(!0,xs,ve)):Le===mn?(D.peek(),de(!0,mn,ve)):!0},Te=de();return M&&D.resetPeek(),Te}function ae(D,M){const de=D.currentChar();return de===sa?sa:M(de)?(D.next(),de):null}function fe(D){const M=D.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===95||M===36}function G(D){return ae(D,fe)}function re(D){const M=D.charCodeAt(0);return M>=97&&M<=122||M>=65&&M<=90||M>=48&&M<=57||M===95||M===36||M===45}function ce(D){return ae(D,re)}function he(D){const M=D.charCodeAt(0);return M>=48&&M<=57}function we(D){return ae(D,he)}function Ae(D){const M=D.charCodeAt(0);return M>=48&&M<=57||M>=65&&M<=70||M>=97&&M<=102}function ye(D){return ae(D,Ae)}function W(D){let M="",de="";for(;M=we(D);)de+=M;return de}function pe(D){x(D);const M=D.currentChar();return M!=="%"&&d(Tt.EXPECTED_TOKEN,a(),0,M),D.next(),"%"}function He(D){let M="";for(;;){const de=D.currentChar();if(de==="{"||de==="}"||de==="@"||de==="|"||!de)break;if(de==="%")if(B(D))M+=de,D.next();else break;else if(de===xs||de===mn)if(B(D))M+=de,D.next();else{if(k(D))break;M+=de,D.next()}else M+=de,D.next()}return M}function je(D){x(D);let M="",de="";for(;M=ce(D);)de+=M;return D.currentChar()===sa&&d(Tt.UNTERMINATED_CLOSING_BRACE,a(),0),de}function ot(D){x(D);let M="";return D.currentChar()==="-"?(D.next(),M+=`-${W(D)}`):M+=W(D),D.currentChar()===sa&&d(Tt.UNTERMINATED_CLOSING_BRACE,a(),0),M}function xt(D){return D!==OO&&D!==mn}function Me(D){x(D),v(D,"'");let M="",de="";for(;M=ae(D,xt);)M==="\\"?de+=pt(D):de+=M;const Te=D.currentChar();return Te===mn||Te===sa?(d(Tt.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),Te===mn&&(D.next(),v(D,"'")),de):(v(D,"'"),de)}function pt(D){const M=D.currentChar();switch(M){case"\\":case"'":return D.next(),`\\${M}`;case"u":return Ze(D,M,4);case"U":return Ze(D,M,6);default:return d(Tt.UNKNOWN_ESCAPE_SEQUENCE,a(),0,M),""}}function Ze(D,M,de){v(D,M);let Te="";for(let Ge=0;Ge<de;Ge++){const Ue=ye(D);if(!Ue){d(Tt.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,`\\${M}${Te}${D.currentChar()}`);break}Te+=Ue}return`\\${M}${Te}`}function _t(D){return D!=="{"&&D!=="}"&&D!==xs&&D!==mn}function H(D){x(D);let M="",de="";for(;M=ae(D,_t);)de+=M;return de}function Q(D){let M="",de="";for(;M=G(D);)de+=M;return de}function z(D){const M=de=>{const Te=D.currentChar();return Te==="{"||Te==="%"||Te==="@"||Te==="|"||Te==="("||Te===")"||!Te||Te===xs?de:(de+=Te,D.next(),M(de))};return M("")}function J(D){x(D);const M=v(D,"|");return x(D),M}function _e(D,M){let de=null;switch(D.currentChar()){case"{":return M.braceNest>=1&&d(Tt.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),D.next(),de=g(M,2,"{"),x(D),M.braceNest++,de;case"}":return M.braceNest>0&&M.currentType===2&&d(Tt.EMPTY_PLACEHOLDER,a(),0),D.next(),de=g(M,3,"}"),M.braceNest--,M.braceNest>0&&x(D),M.inLinked&&M.braceNest===0&&(M.inLinked=!1),de;case"@":return M.braceNest>0&&d(Tt.UNTERMINATED_CLOSING_BRACE,a(),0),de=ge(D,M)||E(M),M.braceNest=0,de;default:{let Ge=!0,Ue=!0,ve=!0;if(k(D))return M.braceNest>0&&d(Tt.UNTERMINATED_CLOSING_BRACE,a(),0),de=g(M,1,J(D)),M.braceNest=0,M.inLinked=!1,de;if(M.braceNest>0&&(M.currentType===5||M.currentType===6||M.currentType===7))return d(Tt.UNTERMINATED_CLOSING_BRACE,a(),0),M.braceNest=0,Ie(D,M);if(Ge=I(D,M))return de=g(M,5,je(D)),x(D),de;if(Ue=C(D,M))return de=g(M,6,ot(D)),x(D),de;if(ve=R(D,M))return de=g(M,7,Me(D)),x(D),de;if(!Ge&&!Ue&&!ve)return de=g(M,13,H(D)),d(Tt.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,de.value),x(D),de;break}}return de}function ge(D,M){const{currentType:de}=M;let Te=null;const Ge=D.currentChar();switch((de===8||de===9||de===12||de===10)&&(Ge===mn||Ge===xs)&&d(Tt.INVALID_LINKED_FORMAT,a(),0),Ge){case"@":return D.next(),Te=g(M,8,"@"),M.inLinked=!0,Te;case".":return x(D),D.next(),g(M,9,".");case":":return x(D),D.next(),g(M,10,":");default:return k(D)?(Te=g(M,1,J(D)),M.braceNest=0,M.inLinked=!1,Te):_(D,M)||b(D,M)?(x(D),ge(D,M)):L(D,M)?(x(D),g(M,12,Q(D))):O(D,M)?(x(D),Ge==="{"?_e(D,M)||Te:g(M,11,z(D))):(de===8&&d(Tt.INVALID_LINKED_FORMAT,a(),0),M.braceNest=0,M.inLinked=!1,Ie(D,M))}}function Ie(D,M){let de={type:14};if(M.braceNest>0)return _e(D,M)||E(M);if(M.inLinked)return ge(D,M)||E(M);switch(D.currentChar()){case"{":return _e(D,M)||E(M);case"}":return d(Tt.UNBALANCED_CLOSING_BRACE,a(),0),D.next(),g(M,3,"}");case"@":return ge(D,M)||E(M);default:{if(k(D))return de=g(M,1,J(D)),M.braceNest=0,M.inLinked=!1,de;const{isModulo:Ge,hasSpace:Ue}=j(D);if(Ge)return Ue?g(M,0,He(D)):g(M,4,pe(D));if(B(D))return g(M,0,He(D));break}}return de}function Re(){const{currentType:D,offset:M,startLoc:de,endLoc:Te}=c;return c.lastType=D,c.lastOffset=M,c.lastStartLoc=de,c.lastEndLoc=Te,c.offset=s(),c.startLoc=a(),i.currentChar()===sa?g(c,14):Ie(i,c)}return{nextToken:Re,currentOffset:s,currentPosition:a,context:f}}const EY="parser",vY=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function yY(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const i=parseInt(e||n,16);return i<=55295||i>=57344?String.fromCodePoint(i):""}}}function TY(t={}){const e=t.location!==!1,{onError:n,onWarn:i}=t;function s(I,C,R,_,...L){const b=I.currentPosition();if(b.offset+=_,b.column+=_,n){const O=e?Sf(R,b):null,k=xu(C,O,{domain:EY,args:L});n(k)}}function a(I,C,R,_,...L){const b=I.currentPosition();if(b.offset+=_,b.column+=_,i){const O=e?Sf(R,b):null;i(uY(C,O,L))}}function r(I,C,R){const _={type:I};return e&&(_.start=C,_.end=C,_.loc={start:R,end:R}),_}function u(I,C,R,_){e&&(I.end=C,I.loc&&(I.loc.end=R))}function c(I,C){const R=I.context(),_=r(3,R.offset,R.startLoc);return _.value=C,u(_,I.currentOffset(),I.currentPosition()),_}function f(I,C){const R=I.context(),{lastOffset:_,lastStartLoc:L}=R,b=r(5,_,L);return b.index=parseInt(C,10),I.nextToken(),u(b,I.currentOffset(),I.currentPosition()),b}function h(I,C,R){const _=I.context(),{lastOffset:L,lastStartLoc:b}=_,O=r(4,L,b);return O.key=C,R===!0&&(O.modulo=!0),I.nextToken(),u(O,I.currentOffset(),I.currentPosition()),O}function d(I,C){const R=I.context(),{lastOffset:_,lastStartLoc:L}=R,b=r(9,_,L);return b.value=C.replace(vY,yY),I.nextToken(),u(b,I.currentOffset(),I.currentPosition()),b}function g(I){const C=I.nextToken(),R=I.context(),{lastOffset:_,lastStartLoc:L}=R,b=r(8,_,L);return C.type!==12?(s(I,Tt.UNEXPECTED_EMPTY_LINKED_MODIFIER,R.lastStartLoc,0),b.value="",u(b,_,L),{nextConsumeToken:C,node:b}):(C.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,Si(C)),b.value=C.value||"",u(b,I.currentOffset(),I.currentPosition()),{node:b})}function E(I,C){const R=I.context(),_=r(7,R.offset,R.startLoc);return _.value=C,u(_,I.currentOffset(),I.currentPosition()),_}function v(I){const C=I.context(),R=r(6,C.offset,C.startLoc);let _=I.nextToken();if(_.type===9){const L=g(I);R.modifier=L.node,_=L.nextConsumeToken||I.nextToken()}switch(_.type!==10&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(_)),_=I.nextToken(),_.type===2&&(_=I.nextToken()),_.type){case 11:_.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(_)),R.key=E(I,_.value||"");break;case 5:_.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(_)),R.key=h(I,_.value||"");break;case 6:_.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(_)),R.key=f(I,_.value||"");break;case 7:_.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(_)),R.key=d(I,_.value||"");break;default:{s(I,Tt.UNEXPECTED_EMPTY_LINKED_KEY,C.lastStartLoc,0);const L=I.context(),b=r(7,L.offset,L.startLoc);return b.value="",u(b,L.offset,L.startLoc),R.key=b,u(R,L.offset,L.startLoc),{nextConsumeToken:_,node:R}}}return u(R,I.currentOffset(),I.currentPosition()),{node:R}}function S(I){const C=I.context(),R=C.currentType===1?I.currentOffset():C.offset,_=C.currentType===1?C.endLoc:C.startLoc,L=r(2,R,_);L.items=[];let b=null,O=null;do{const B=b||I.nextToken();switch(b=null,B.type){case 0:B.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(B)),L.items.push(c(I,B.value||""));break;case 6:B.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(B)),L.items.push(f(I,B.value||""));break;case 4:O=!0;break;case 5:B.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(B)),L.items.push(h(I,B.value||"",!!O)),O&&(a(I,a1.USE_MODULO_SYNTAX,C.lastStartLoc,0,Si(B)),O=null);break;case 7:B.value==null&&s(I,Tt.UNEXPECTED_LEXICAL_ANALYSIS,C.lastStartLoc,0,Si(B)),L.items.push(d(I,B.value||""));break;case 8:{const ae=v(I);L.items.push(ae.node),b=ae.nextConsumeToken||null;break}}}while(C.currentType!==14&&C.currentType!==1);const k=C.currentType===1?C.lastOffset:I.currentOffset(),j=C.currentType===1?C.lastEndLoc:I.currentPosition();return u(L,k,j),L}function x(I,C,R,_){const L=I.context();let b=_.items.length===0;const O=r(1,C,R);O.cases=[],O.cases.push(_);do{const k=S(I);b||(b=k.items.length===0),O.cases.push(k)}while(L.currentType!==14);return b&&s(I,Tt.MUST_HAVE_MESSAGES_IN_PLURAL,R,0),u(O,I.currentOffset(),I.currentPosition()),O}function A(I){const C=I.context(),{offset:R,startLoc:_}=C,L=S(I);return C.currentType===14?L:x(I,R,_,L)}function w(I){const C=gY(I,DP({},t)),R=C.context(),_=r(0,R.offset,R.startLoc);return e&&_.loc&&(_.loc.source=I),_.body=A(C),t.onCacheKey&&(_.cacheKey=t.onCacheKey(I)),R.currentType!==14&&s(C,Tt.UNEXPECTED_LEXICAL_ANALYSIS,R.lastStartLoc,0,I[R.offset]||""),u(_,C.currentOffset(),C.currentPosition()),_}return{parse:w}}function Si(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function bY(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:a=>(n.helpers.add(a),a)}}function IO(t,e){for(let n=0;n<t.length;n++)o1(t[n],e)}function o1(t,e){switch(t.type){case 1:IO(t.cases,e),e.helper("plural");break;case 2:IO(t.items,e);break;case 6:{o1(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function RY(t,e={}){const n=bY(t);n.helper("normalize"),t.body&&o1(t.body,n);const i=n.context();t.helpers=Array.from(i.helpers)}function xY(t){const e=t.body;return e.type===2?NO(e):e.cases.forEach(n=>NO(n)),t}function NO(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const i=t.items[n];if(!(i.type===3||i.type===9)||i.value==null)break;e.push(i.value)}if(e.length===t.items.length){t.static=BP(e);for(let n=0;n<t.items.length;n++){const i=t.items[n];(i.type===3||i.type===9)&&delete i.value}}}}const SY="minifier";function qo(t){switch(t.t=t.type,t.type){case 0:{const e=t;qo(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,n=e.cases;for(let i=0;i<n.length;i++)qo(n[i]);e.c=n,delete e.cases;break}case 2:{const e=t,n=e.items;for(let i=0;i<n.length;i++)qo(n[i]);e.i=n,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;qo(e.key),e.k=e.key,delete e.key,e.modifier&&(qo(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw xu(Tt.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:SY,args:[t.type]})}delete t.type}const CY="parser";function AY(t,e){const{filename:n,breakLineCode:i,needIndent:s}=e,a=e.location!==!1,r={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:i,needIndent:s,indentLevel:0};a&&t.loc&&(r.source=t.loc.source);const u=()=>r;function c(S,x){r.code+=S}function f(S,x=!0){const A=x?i:"";c(s?A+"  ".repeat(S):A)}function h(S=!0){const x=++r.indentLevel;S&&f(x)}function d(S=!0){const x=--r.indentLevel;S&&f(x)}function g(){f(r.indentLevel)}return{context:u,push:c,indent:h,deindent:d,newline:g,helper:S=>`_${S}`,needIndent:()=>r.needIndent}}function LY(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),cu(t,e.key),e.modifier?(t.push(", "),cu(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function wY(t,e){const{helper:n,needIndent:i}=t;t.push(`${n("normalize")}([`),t.indent(i());const s=e.items.length;for(let a=0;a<s&&(cu(t,e.items[a]),a!==s-1);a++)t.push(", ");t.deindent(i()),t.push("])")}function OY(t,e){const{helper:n,needIndent:i}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(i());const s=e.cases.length;for(let a=0;a<s&&(cu(t,e.cases[a]),a!==s-1);a++)t.push(", ");t.deindent(i()),t.push("])")}}function IY(t,e){e.body?cu(t,e.body):t.push("null")}function cu(t,e){const{helper:n}=t;switch(e.type){case 0:IY(t,e);break;case 1:OY(t,e);break;case 2:wY(t,e);break;case 6:LY(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw xu(Tt.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:CY,args:[e.type]})}}const NY=(t,e={})=>{const n=wO(e.mode)?e.mode:"normal",i=wO(e.filename)?e.filename:"message.intl";e.sourceMap;const s=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,a=e.needIndent?e.needIndent:n!=="arrow",r=t.helpers||[],u=AY(t,{filename:i,breakLineCode:s,needIndent:a});u.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(a),r.length>0&&(u.push(`const { ${BP(r.map(h=>`${h}: _${h}`),", ")} } = ctx`),u.newline()),u.push("return "),cu(u,t),u.deindent(a),u.push("}"),delete t.helpers;const{code:c,map:f}=u.context();return{ast:t,code:c,map:f?f.toJSON():void 0}};function PY(t,e={}){const n=DP({},e),i=!!n.jit,s=!!n.minify,a=n.optimize==null?!0:n.optimize,u=TY(n).parse(t);return i?(a&&xY(u),s&&qo(u),{ast:u,code:""}):(RY(u,n),NY(u,n))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function kY(){typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(xf().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(xf().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function ts(t){return qt(t)&&u1(t)===0&&(Li(t,"b")||Li(t,"body"))}const UP=["b","body"];function DY(t){return La(t,UP)}const MP=["c","cases"];function BY(t){return La(t,MP,[])}const KP=["s","static"];function UY(t){return La(t,KP)}const $P=["i","items"];function MY(t){return La(t,$P,[])}const VP=["t","type"];function u1(t){return La(t,VP)}const FP=["v","value"];function ef(t,e){const n=La(t,FP);if(n!=null)return n;throw Ll(e)}const qP=["m","modifier"];function KY(t){return La(t,qP)}const GP=["k","key"];function $Y(t){const e=La(t,GP);if(e)return e;throw Ll(6)}function La(t,e,n){for(let i=0;i<e.length;i++){const s=e[i];if(Li(t,s)&&t[s]!=null)return t[s]}return n}const jP=[...UP,...MP,...KP,...$P,...GP,...qP,...FP,...VP];function Ll(t){return new Error(`unhandled node type: ${t}`)}const wa=[];wa[0]={w:[0],i:[3,0],"[":[4],o:[7]};wa[1]={w:[1],".":[2],"[":[4],o:[7]};wa[2]={w:[2],i:[3,0],0:[3,0]};wa[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};wa[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};wa[5]={"'":[4,0],o:8,l:[5,0]};wa[6]={'"':[4,0],o:8,l:[6,0]};const VY=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function FY(t){return VY.test(t)}function qY(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function GY(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function jY(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:FY(e)?qY(e):"*"+e}function WY(t){const e=[];let n=-1,i=0,s=0,a,r,u,c,f,h,d;const g=[];g[0]=()=>{r===void 0?r=u:r+=u},g[1]=()=>{r!==void 0&&(e.push(r),r=void 0)},g[2]=()=>{g[0](),s++},g[3]=()=>{if(s>0)s--,i=4,g[0]();else{if(s=0,r===void 0||(r=jY(r),r===!1))return!1;g[1]()}};function E(){const v=t[n+1];if(i===5&&v==="'"||i===6&&v==='"')return n++,u="\\"+v,g[0](),!0}for(;i!==null;)if(n++,a=t[n],!(a==="\\"&&E())){if(c=GY(a),d=wa[i],f=d[c]||d.l||8,f===8||(i=f[0],f[1]!==void 0&&(h=g[f[1]],h&&(u=a,h()===!1))))return;if(i===7)return e}}const PO=new Map;function XY(t,e){return qt(t)?t[e]:null}function HY(t,e){if(!qt(t))return null;let n=PO.get(e);if(n||(n=WY(e),n&&PO.set(e,n)),!n)return null;const i=n.length;let s=t,a=0;for(;a<i;){const r=n[a];if(jP.includes(r)&&ts(s))return null;const u=s[r];if(u===void 0||ur(s))return null;s=u,a++}return s}const YY=t=>t,zY=t=>"",JY="text",ZY=t=>t.length===0?"":nY(t),QY=rY;function kO(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function ez(t){const e=Or(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(Or(t.named.count)||Or(t.named.n))?Or(t.named.count)?t.named.count:Or(t.named.n)?t.named.n:e:e}function tz(t,e){e.count||(e.count=t),e.n||(e.n=t)}function rz(t={}){const e=t.locale,n=ez(t),i=qt(t.pluralRules)&&tt(e)&&ur(t.pluralRules[e])?t.pluralRules[e]:kO,s=qt(t.pluralRules)&&tt(e)&&ur(t.pluralRules[e])?kO:void 0,a=A=>A[i(n,A.length,s)],r=t.list||[],u=A=>r[A],c=t.named||Zt();Or(t.pluralIndex)&&tz(n,c);const f=A=>c[A];function h(A){const w=ur(t.messages)?t.messages(A):qt(t.messages)?t.messages[A]:!1;return w||(t.parent?t.parent.message(A):zY)}const d=A=>t.modifiers?t.modifiers[A]:YY,g=wt(t.processor)&&ur(t.processor.normalize)?t.processor.normalize:ZY,E=wt(t.processor)&&ur(t.processor.interpolate)?t.processor.interpolate:QY,v=wt(t.processor)&&tt(t.processor.type)?t.processor.type:JY,x={list:u,named:f,plural:a,linked:(A,...w)=>{const[I,C]=w;let R="text",_="";w.length===1?qt(I)?(_=I.modifier||_,R=I.type||R):tt(I)&&(_=I||_):w.length===2&&(tt(I)&&(_=I||_),tt(C)&&(R=C||R));const L=h(A)(x),b=R==="vnode"&&hr(L)&&_?L[0]:L;return _?d(_)(b,R):b},message:h,type:v,interpolate:E,normalize:g,values:ln(Zt(),r,c)};return x}const nz=a1.__EXTEND_POINT__,Ha=Eh(nz),iz={FALLBACK_TO_TRANSLATE:Ha(),CANNOT_FORMAT_NUMBER:Ha(),FALLBACK_TO_NUMBER_FORMAT:Ha(),CANNOT_FORMAT_DATE:Ha(),FALLBACK_TO_DATE_FORMAT:Ha(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:Ha(),__EXTEND_POINT__:Ha()},WP=Tt.__EXTEND_POINT__,Ya=Eh(WP),wi={INVALID_ARGUMENT:WP,INVALID_DATE_ARGUMENT:Ya(),INVALID_ISO_DATE_ARGUMENT:Ya(),NOT_SUPPORT_NON_STRING_MESSAGE:Ya(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Ya(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Ya(),NOT_SUPPORT_LOCALE_TYPE:Ya(),__EXTEND_POINT__:Ya()};function Qi(t){return xu(t,null,void 0)}function l1(t,e){return e.locale!=null?DO(e.locale):DO(t.locale)}let av;function DO(t){if(tt(t))return t;if(ur(t)){if(t.resolvedOnce&&av!=null)return av;if(t.constructor.name==="Function"){const e=t();if(tY(e))throw Qi(wi.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return av=e}else throw Qi(wi.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw Qi(wi.NOT_SUPPORT_LOCALE_TYPE)}function sz(t,e,n){return[...new Set([n,...hr(e)?e:qt(e)?Object.keys(e):tt(e)?[e]:[n]])]}function XP(t,e,n){const i=tt(n)?n:fu,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let a=s.__localeChainCache.get(i);if(!a){a=[];let r=[n];for(;hr(r);)r=BO(a,r,e);const u=hr(e)||!wt(e)?e:e.default?e.default:null;r=tt(u)?[u]:u,hr(r)&&BO(a,r,!1),s.__localeChainCache.set(i,a)}return a}function BO(t,e,n){let i=!0;for(let s=0;s<e.length&&Mt(i);s++){const a=e[s];tt(a)&&(i=az(t,e[s],n))}return i}function az(t,e,n){let i;const s=e.split("-");do{const a=s.join("-");i=oz(t,a,n),s.splice(-1,1)}while(s.length&&i===!0);return i}function oz(t,e,n){let i=!1;if(!t.includes(e)&&(i=!0,e)){i=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(hr(n)||wt(n))&&n[s]&&(i=n[s])}return i}const uz="9.14.5",vh=-1,fu="en-US",UO="",MO=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function lz(){return{upper:(t,e)=>e==="text"&&tt(t)?t.toUpperCase():e==="vnode"&&qt(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&tt(t)?t.toLowerCase():e==="vnode"&&qt(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&tt(t)?MO(t):e==="vnode"&&qt(t)&&"__v_isVNode"in t?MO(t.children):t}}let HP;function KO(t){HP=t}let YP;function cz(t){YP=t}let zP;function fz(t){zP=t}let JP=null;const $O=t=>{JP=t},hz=()=>JP;let VO=0;function pz(t={}){const e=ur(t.onWarn)?t.onWarn:HH,n=tt(t.version)?t.version:uz,i=tt(t.locale)||ur(t.locale)?t.locale:fu,s=ur(i)?fu:i,a=hr(t.fallbackLocale)||wt(t.fallbackLocale)||tt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:s,r=wt(t.messages)?t.messages:ov(s),u=wt(t.datetimeFormats)?t.datetimeFormats:ov(s),c=wt(t.numberFormats)?t.numberFormats:ov(s),f=ln(Zt(),t.modifiers,lz()),h=t.pluralRules||Zt(),d=ur(t.missing)?t.missing:null,g=Mt(t.missingWarn)||ma(t.missingWarn)?t.missingWarn:!0,E=Mt(t.fallbackWarn)||ma(t.fallbackWarn)?t.fallbackWarn:!0,v=!!t.fallbackFormat,S=!!t.unresolving,x=ur(t.postTranslation)?t.postTranslation:null,A=wt(t.processor)?t.processor:null,w=Mt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,I=!!t.escapeParameter,C=ur(t.messageCompiler)?t.messageCompiler:HP,R=ur(t.messageResolver)?t.messageResolver:YP||XY,_=ur(t.localeFallbacker)?t.localeFallbacker:zP||sz,L=qt(t.fallbackContext)?t.fallbackContext:void 0,b=t,O=qt(b.__datetimeFormatters)?b.__datetimeFormatters:new Map,k=qt(b.__numberFormatters)?b.__numberFormatters:new Map,j=qt(b.__meta)?b.__meta:{};VO++;const B={version:n,cid:VO,locale:i,fallbackLocale:a,messages:r,modifiers:f,pluralRules:h,missing:d,missingWarn:g,fallbackWarn:E,fallbackFormat:v,unresolving:S,postTranslation:x,processor:A,warnHtmlMessage:w,escapeParameter:I,messageCompiler:C,messageResolver:R,localeFallbacker:_,fallbackContext:L,onWarn:e,__meta:j};return B.datetimeFormats=u,B.numberFormats=c,B.__datetimeFormatters=O,B.__numberFormatters=k,B}const ov=t=>({[t]:Zt()});function c1(t,e,n,i,s){const{missing:a,onWarn:r}=t;if(a!==null){const u=a(t,n,e,s);return tt(u)?u:e}else return e}function Zu(t,e,n){const i=t;i.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function dz(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function _z(t,e){const n=e.indexOf(t);if(n===-1)return!1;for(let i=n+1;i<e.length;i++)if(dz(t,e[i]))return!0;return!1}function uv(t){return n=>mz(n,t)}function mz(t,e){const n=DY(e);if(n==null)throw Ll(0);if(u1(n)===1){const a=BY(n);return t.plural(a.reduce((r,u)=>[...r,FO(t,u)],[]))}else return FO(t,n)}function FO(t,e){const n=UY(e);if(n!=null)return t.type==="text"?n:t.normalize([n]);{const i=MY(e).reduce((s,a)=>[...s,Nv(t,a)],[]);return t.normalize(i)}}function Nv(t,e){const n=u1(e);switch(n){case 3:return ef(e,n);case 9:return ef(e,n);case 4:{const i=e;if(Li(i,"k")&&i.k)return t.interpolate(t.named(i.k));if(Li(i,"key")&&i.key)return t.interpolate(t.named(i.key));throw Ll(n)}case 5:{const i=e;if(Li(i,"i")&&Or(i.i))return t.interpolate(t.list(i.i));if(Li(i,"index")&&Or(i.index))return t.interpolate(t.list(i.index));throw Ll(n)}case 6:{const i=e,s=KY(i),a=$Y(i);return t.linked(Nv(t,a),s?Nv(t,s):void 0,t.type)}case 7:return ef(e,n);case 8:return ef(e,n);default:throw new Error(`unhandled node on format message part: ${n}`)}}const ZP=t=>t;let jo=Zt();function QP(t,e={}){let n=!1;const i=e.onError||cY;return e.onError=s=>{n=!0,i(s)},{...PY(t,e),detectError:n}}const gz=(t,e)=>{if(!tt(t))throw Qi(wi.NOT_SUPPORT_NON_STRING_MESSAGE);{Mt(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||ZP)(t),s=jo[i];if(s)return s;const{code:a,detectError:r}=QP(t,e),u=new Function(`return ${a}`)();return r?u:jo[i]=u}};function Ez(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&tt(t)){Mt(e.warnHtmlMessage)&&e.warnHtmlMessage;const i=(e.onCacheKey||ZP)(t),s=jo[i];if(s)return s;const{ast:a,detectError:r}=QP(t,{...e,location:!1,jit:!0}),u=uv(a);return r?u:jo[i]=u}else{const n=t.cacheKey;if(n){const i=jo[n];return i||(jo[n]=uv(t))}else return uv(t)}}const qO=()=>"",Ps=t=>ur(t);function GO(t,...e){const{fallbackFormat:n,postTranslation:i,unresolving:s,messageCompiler:a,fallbackLocale:r,messages:u}=t,[c,f]=Pv(...e),h=Mt(f.missingWarn)?f.missingWarn:t.missingWarn,d=Mt(f.fallbackWarn)?f.fallbackWarn:t.fallbackWarn,g=Mt(f.escapeParameter)?f.escapeParameter:t.escapeParameter,E=!!f.resolvedMessage,v=tt(f.default)||Mt(f.default)?Mt(f.default)?a?c:()=>c:f.default:n?a?c:()=>c:"",S=n||v!=="",x=l1(t,f);g&&vz(f);let[A,w,I]=E?[c,x,u[x]||Zt()]:ek(t,c,x,r,d,h),C=A,R=c;if(!E&&!(tt(C)||ts(C)||Ps(C))&&S&&(C=v,R=C),!E&&(!(tt(C)||ts(C)||Ps(C))||!tt(w)))return s?vh:c;let _=!1;const L=()=>{_=!0},b=Ps(C)?C:tk(t,c,w,C,R,L);if(_)return C;const O=bz(t,w,I,f),k=rz(O),j=yz(t,b,k);let B=i?i(j,c):j;return g&&tt(B)&&(B=QH(B)),B}function vz(t){hr(t.list)?t.list=t.list.map(e=>tt(e)?AO(e):e):qt(t.named)&&Object.keys(t.named).forEach(e=>{tt(t.named[e])&&(t.named[e]=AO(t.named[e]))})}function ek(t,e,n,i,s,a){const{messages:r,onWarn:u,messageResolver:c,localeFallbacker:f}=t,h=f(t,i,n);let d=Zt(),g,E=null;const v="translate";for(let S=0;S<h.length&&(g=h[S],d=r[g]||Zt(),(E=c(d,e))===null&&(E=d[e]),!(tt(E)||ts(E)||Ps(E)));S++)if(!_z(g,h)){const x=c1(t,e,g,a,v);x!==e&&(E=x)}return[E,g,d]}function tk(t,e,n,i,s,a){const{messageCompiler:r,warnHtmlMessage:u}=t;if(Ps(i)){const f=i;return f.locale=f.locale||n,f.key=f.key||e,f}if(r==null){const f=()=>i;return f.locale=n,f.key=e,f}const c=r(i,Tz(t,n,s,i,u,a));return c.locale=n,c.key=e,c.source=i,c}function yz(t,e,n){return e(n)}function Pv(...t){const[e,n,i]=t,s=Zt();if(!tt(e)&&!Or(e)&&!Ps(e)&&!ts(e))throw Qi(wi.INVALID_ARGUMENT);const a=Or(e)?String(e):(Ps(e),e);return Or(n)?s.plural=n:tt(n)?s.default=n:wt(n)&&!gh(n)?s.named=n:hr(n)&&(s.list=n),Or(i)?s.plural=i:tt(i)?s.default=i:wt(i)&&ln(s,i),[a,s]}function Tz(t,e,n,i,s,a){return{locale:e,key:n,warnHtmlMessage:s,onError:r=>{throw a&&a(r),r},onCacheKey:r=>YH(e,n,r)}}function bz(t,e,n,i){const{modifiers:s,pluralRules:a,messageResolver:r,fallbackLocale:u,fallbackWarn:c,missingWarn:f,fallbackContext:h}=t,g={locale:e,modifiers:s,pluralRules:a,messages:E=>{let v=r(n,E);if(v==null&&h){const[,,S]=ek(h,E,e,u,c,f);v=r(S,E)}if(tt(v)||ts(v)){let S=!1;const A=tk(t,E,e,v,E,()=>{S=!0});return S?qO:A}else return Ps(v)?v:qO}};return t.processor&&(g.processor=t.processor),i.list&&(g.list=i.list),i.named&&(g.named=i.named),Or(i.plural)&&(g.pluralIndex=i.plural),g}function jO(t,...e){const{datetimeFormats:n,unresolving:i,fallbackLocale:s,onWarn:a,localeFallbacker:r}=t,{__datetimeFormatters:u}=t,[c,f,h,d]=kv(...e),g=Mt(h.missingWarn)?h.missingWarn:t.missingWarn;Mt(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const E=!!h.part,v=l1(t,h),S=r(t,s,v);if(!tt(c)||c==="")return new Intl.DateTimeFormat(v,d).format(f);let x={},A,w=null;const I="datetime format";for(let _=0;_<S.length&&(A=S[_],x=n[A]||{},w=x[c],!wt(w));_++)c1(t,c,A,g,I);if(!wt(w)||!tt(A))return i?vh:c;let C=`${A}__${c}`;gh(d)||(C=`${C}__${JSON.stringify(d)}`);let R=u.get(C);return R||(R=new Intl.DateTimeFormat(A,ln({},w,d)),u.set(C,R)),E?R.formatToParts(f):R.format(f)}const rk=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function kv(...t){const[e,n,i,s]=t,a=Zt();let r=Zt(),u;if(tt(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Qi(wi.INVALID_ISO_DATE_ARGUMENT);const f=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();u=new Date(f);try{u.toISOString()}catch{throw Qi(wi.INVALID_ISO_DATE_ARGUMENT)}}else if(JH(e)){if(isNaN(e.getTime()))throw Qi(wi.INVALID_DATE_ARGUMENT);u=e}else if(Or(e))u=e;else throw Qi(wi.INVALID_ARGUMENT);return tt(n)?a.key=n:wt(n)&&Object.keys(n).forEach(c=>{rk.includes(c)?r[c]=n[c]:a[c]=n[c]}),tt(i)?a.locale=i:wt(i)&&(r=i),wt(s)&&(r=s),[a.key||"",u,a,r]}function WO(t,e,n){const i=t;for(const s in n){const a=`${e}__${s}`;i.__datetimeFormatters.has(a)&&i.__datetimeFormatters.delete(a)}}function XO(t,...e){const{numberFormats:n,unresolving:i,fallbackLocale:s,onWarn:a,localeFallbacker:r}=t,{__numberFormatters:u}=t,[c,f,h,d]=Dv(...e),g=Mt(h.missingWarn)?h.missingWarn:t.missingWarn;Mt(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const E=!!h.part,v=l1(t,h),S=r(t,s,v);if(!tt(c)||c==="")return new Intl.NumberFormat(v,d).format(f);let x={},A,w=null;const I="number format";for(let _=0;_<S.length&&(A=S[_],x=n[A]||{},w=x[c],!wt(w));_++)c1(t,c,A,g,I);if(!wt(w)||!tt(A))return i?vh:c;let C=`${A}__${c}`;gh(d)||(C=`${C}__${JSON.stringify(d)}`);let R=u.get(C);return R||(R=new Intl.NumberFormat(A,ln({},w,d)),u.set(C,R)),E?R.formatToParts(f):R.format(f)}const nk=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Dv(...t){const[e,n,i,s]=t,a=Zt();let r=Zt();if(!Or(e))throw Qi(wi.INVALID_ARGUMENT);const u=e;return tt(n)?a.key=n:wt(n)&&Object.keys(n).forEach(c=>{nk.includes(c)?r[c]=n[c]:a[c]=n[c]}),tt(i)?a.locale=i:wt(i)&&(r=i),wt(s)&&(r=s),[a.key||"",u,a,r]}function HO(t,e,n){const i=t;for(const s in n){const a=`${e}__${s}`;i.__numberFormatters.has(a)&&i.__numberFormatters.delete(a)}}kY();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const Rz="9.14.5";function xz(){typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(xf().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(xf().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const Sz=iz.__EXTEND_POINT__,Ss=Eh(Sz);Ss(),Ss(),Ss(),Ss(),Ss(),Ss(),Ss(),Ss(),Ss();const ik=wi.__EXTEND_POINT__,On=Eh(ik),$r={UNEXPECTED_RETURN_TYPE:ik,INVALID_ARGUMENT:On(),MUST_BE_CALL_SETUP_TOP:On(),NOT_INSTALLED:On(),NOT_AVAILABLE_IN_LEGACY_MODE:On(),REQUIRED_VALUE:On(),INVALID_VALUE:On(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:On(),NOT_INSTALLED_WITH_PROVIDE:On(),UNEXPECTED_ERROR:On(),NOT_COMPATIBLE_LEGACY_VUE_I18N:On(),BRIDGE_SUPPORT_VUE_2_ONLY:On(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:On(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:On(),__EXTEND_POINT__:On()};function Xr(t,...e){return xu(t,null,void 0)}const Bv=Aa("__translateVNode"),Uv=Aa("__datetimeParts"),Mv=Aa("__numberParts"),sk=Aa("__setPluralRules"),ak=Aa("__injectWithOption"),Kv=Aa("__dispose");function wl(t){if(!qt(t)||ts(t))return t;for(const e in t)if(Li(t,e))if(!e.includes("."))qt(t[e])&&wl(t[e]);else{const n=e.split("."),i=n.length-1;let s=t,a=!1;for(let r=0;r<i;r++){if(n[r]==="__proto__")throw new Error(`unsafe key: ${n[r]}`);if(n[r]in s||(s[n[r]]=Zt()),!qt(s[n[r]])){a=!0;break}s=s[n[r]]}if(a||(ts(s)?jP.includes(n[i])||delete t[e]:(s[n[i]]=t[e],delete t[e])),!ts(s)){const r=s[n[i]];qt(r)&&wl(r)}}return t}function yh(t,e){const{messages:n,__i18n:i,messageResolver:s,flatJson:a}=e,r=wt(n)?n:hr(i)?Zt():{[t]:Zt()};if(hr(i)&&i.forEach(u=>{if("locale"in u&&"resource"in u){const{locale:c,resource:f}=u;c?(r[c]=r[c]||Zt(),hf(f,r[c])):hf(f,r)}else tt(u)&&hf(JSON.parse(u),r)}),s==null&&a)for(const u in r)Li(r,u)&&wl(r[u]);return r}function Cz(t){return t.type}function ok(t,e,n){let i=qt(e.messages)?e.messages:Zt();"__i18nGlobal"in n&&(i=yh(t.locale.value,{messages:i,__i18n:n.__i18nGlobal}));const s=Object.keys(i);s.length&&s.forEach(a=>{t.mergeLocaleMessage(a,i[a])});{if(qt(e.datetimeFormats)){const a=Object.keys(e.datetimeFormats);a.length&&a.forEach(r=>{t.mergeDateTimeFormat(r,e.datetimeFormats[r])})}if(qt(e.numberFormats)){const a=Object.keys(e.numberFormats);a.length&&a.forEach(r=>{t.mergeNumberFormat(r,e.numberFormats[r])})}}}function YO(t){return ft(Bl,null,t,0)}const zO=()=>[],Az=()=>!1;let JO=0;function ZO(t){return(e,n,i,s)=>t(n,i,uu()||void 0,s)}function f1(t={},e){const{__root:n,__injectWithOption:i}=t,s=n===void 0,a=t.flatJson,r=Rf?Ja:aN,u=!!t.translateExistCompatible;let c=Mt(t.inheritLocale)?t.inheritLocale:!0;const f=r(n&&c?n.locale.value:tt(t.locale)?t.locale:fu),h=r(n&&c?n.fallbackLocale.value:tt(t.fallbackLocale)||hr(t.fallbackLocale)||wt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:f.value),d=r(yh(f.value,t)),g=r(wt(t.datetimeFormats)?t.datetimeFormats:{[f.value]:{}}),E=r(wt(t.numberFormats)?t.numberFormats:{[f.value]:{}});let v=n?n.missingWarn:Mt(t.missingWarn)||ma(t.missingWarn)?t.missingWarn:!0,S=n?n.fallbackWarn:Mt(t.fallbackWarn)||ma(t.fallbackWarn)?t.fallbackWarn:!0,x=n?n.fallbackRoot:Mt(t.fallbackRoot)?t.fallbackRoot:!0,A=!!t.fallbackFormat,w=ur(t.missing)?t.missing:null,I=ur(t.missing)?ZO(t.missing):null,C=ur(t.postTranslation)?t.postTranslation:null,R=n?n.warnHtmlMessage:Mt(t.warnHtmlMessage)?t.warnHtmlMessage:!0,_=!!t.escapeParameter;const L=n?n.modifiers:wt(t.modifiers)?t.modifiers:{};let b=t.pluralRules||n&&n.pluralRules,O;O=(()=>{s&&$O(null);const ve={version:Rz,locale:f.value,fallbackLocale:h.value,messages:d.value,modifiers:L,pluralRules:b,missing:I===null?void 0:I,missingWarn:v,fallbackWarn:S,fallbackFormat:A,unresolving:!0,postTranslation:C===null?void 0:C,warnHtmlMessage:R,escapeParameter:_,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ve.datetimeFormats=g.value,ve.numberFormats=E.value,ve.__datetimeFormatters=wt(O)?O.__datetimeFormatters:void 0,ve.__numberFormatters=wt(O)?O.__numberFormatters:void 0;const Le=pz(ve);return s&&$O(Le),Le})(),Zu(O,f.value,h.value);function j(){return[f.value,h.value,d.value,g.value,E.value]}const B=Hn({get:()=>f.value,set:ve=>{f.value=ve,O.locale=f.value}}),ae=Hn({get:()=>h.value,set:ve=>{h.value=ve,O.fallbackLocale=h.value,Zu(O,f.value,ve)}}),fe=Hn(()=>d.value),G=Hn(()=>g.value),re=Hn(()=>E.value);function ce(){return ur(C)?C:null}function he(ve){C=ve,O.postTranslation=ve}function we(){return w}function Ae(ve){ve!==null&&(I=ZO(ve)),w=ve,O.missing=I}const ye=(ve,Le,Je,X,q,se)=>{j();let F;try{s||(O.fallbackContext=n?hz():void 0),F=ve(O)}finally{s||(O.fallbackContext=void 0)}if(Je!=="translate exists"&&Or(F)&&F===vh||Je==="translate exists"&&!F){const[ie,xe]=Le();return n&&x?X(n):q(ie)}else{if(se(F))return F;throw Xr($r.UNEXPECTED_RETURN_TYPE)}};function W(...ve){return ye(Le=>Reflect.apply(GO,null,[Le,...ve]),()=>Pv(...ve),"translate",Le=>Reflect.apply(Le.t,Le,[...ve]),Le=>Le,Le=>tt(Le))}function pe(...ve){const[Le,Je,X]=ve;if(X&&!qt(X))throw Xr($r.INVALID_ARGUMENT);return W(Le,Je,ln({resolvedMessage:!0},X||{}))}function He(...ve){return ye(Le=>Reflect.apply(jO,null,[Le,...ve]),()=>kv(...ve),"datetime format",Le=>Reflect.apply(Le.d,Le,[...ve]),()=>UO,Le=>tt(Le))}function je(...ve){return ye(Le=>Reflect.apply(XO,null,[Le,...ve]),()=>Dv(...ve),"number format",Le=>Reflect.apply(Le.n,Le,[...ve]),()=>UO,Le=>tt(Le))}function ot(ve){return ve.map(Le=>tt(Le)||Or(Le)||Mt(Le)?YO(String(Le)):Le)}const Me={normalize:ot,interpolate:ve=>ve,type:"vnode"};function pt(...ve){return ye(Le=>{let Je;const X=Le;try{X.processor=Me,Je=Reflect.apply(GO,null,[X,...ve])}finally{X.processor=null}return Je},()=>Pv(...ve),"translate",Le=>Le[Bv](...ve),Le=>[YO(Le)],Le=>hr(Le))}function Ze(...ve){return ye(Le=>Reflect.apply(XO,null,[Le,...ve]),()=>Dv(...ve),"number format",Le=>Le[Mv](...ve),zO,Le=>tt(Le)||hr(Le))}function _t(...ve){return ye(Le=>Reflect.apply(jO,null,[Le,...ve]),()=>kv(...ve),"datetime format",Le=>Le[Uv](...ve),zO,Le=>tt(Le)||hr(Le))}function H(ve){b=ve,O.pluralRules=b}function Q(ve,Le){return ye(()=>{if(!ve)return!1;const Je=tt(Le)?Le:f.value,X=_e(Je),q=O.messageResolver(X,ve);return u?q!=null:ts(q)||Ps(q)||tt(q)},()=>[ve],"translate exists",Je=>Reflect.apply(Je.te,Je,[ve,Le]),Az,Je=>Mt(Je))}function z(ve){let Le=null;const Je=XP(O,h.value,f.value);for(let X=0;X<Je.length;X++){const q=d.value[Je[X]]||{},se=O.messageResolver(q,ve);if(se!=null){Le=se;break}}return Le}function J(ve){const Le=z(ve);return Le??(n?n.tm(ve)||{}:{})}function _e(ve){return d.value[ve]||{}}function ge(ve,Le){if(a){const Je={[ve]:Le};for(const X in Je)Li(Je,X)&&wl(Je[X]);Le=Je[ve]}d.value[ve]=Le,O.messages=d.value}function Ie(ve,Le){d.value[ve]=d.value[ve]||{};const Je={[ve]:Le};if(a)for(const X in Je)Li(Je,X)&&wl(Je[X]);Le=Je[ve],hf(Le,d.value[ve]),O.messages=d.value}function Re(ve){return g.value[ve]||{}}function D(ve,Le){g.value[ve]=Le,O.datetimeFormats=g.value,WO(O,ve,Le)}function M(ve,Le){g.value[ve]=ln(g.value[ve]||{},Le),O.datetimeFormats=g.value,WO(O,ve,Le)}function de(ve){return E.value[ve]||{}}function Te(ve,Le){E.value[ve]=Le,O.numberFormats=E.value,HO(O,ve,Le)}function Ge(ve,Le){E.value[ve]=ln(E.value[ve]||{},Le),O.numberFormats=E.value,HO(O,ve,Le)}JO++,n&&Rf&&(io(n.locale,ve=>{c&&(f.value=ve,O.locale=ve,Zu(O,f.value,h.value))}),io(n.fallbackLocale,ve=>{c&&(h.value=ve,O.fallbackLocale=ve,Zu(O,f.value,h.value))}));const Ue={id:JO,locale:B,fallbackLocale:ae,get inheritLocale(){return c},set inheritLocale(ve){c=ve,ve&&n&&(f.value=n.locale.value,h.value=n.fallbackLocale.value,Zu(O,f.value,h.value))},get availableLocales(){return Object.keys(d.value).sort()},messages:fe,get modifiers(){return L},get pluralRules(){return b||{}},get isGlobal(){return s},get missingWarn(){return v},set missingWarn(ve){v=ve,O.missingWarn=v},get fallbackWarn(){return S},set fallbackWarn(ve){S=ve,O.fallbackWarn=S},get fallbackRoot(){return x},set fallbackRoot(ve){x=ve},get fallbackFormat(){return A},set fallbackFormat(ve){A=ve,O.fallbackFormat=A},get warnHtmlMessage(){return R},set warnHtmlMessage(ve){R=ve,O.warnHtmlMessage=ve},get escapeParameter(){return _},set escapeParameter(ve){_=ve,O.escapeParameter=ve},t:W,getLocaleMessage:_e,setLocaleMessage:ge,mergeLocaleMessage:Ie,getPostTranslationHandler:ce,setPostTranslationHandler:he,getMissingHandler:we,setMissingHandler:Ae,[sk]:H};return Ue.datetimeFormats=G,Ue.numberFormats=re,Ue.rt=pe,Ue.te=Q,Ue.tm=J,Ue.d=He,Ue.n=je,Ue.getDateTimeFormat=Re,Ue.setDateTimeFormat=D,Ue.mergeDateTimeFormat=M,Ue.getNumberFormat=de,Ue.setNumberFormat=Te,Ue.mergeNumberFormat=Ge,Ue[ak]=i,Ue[Bv]=pt,Ue[Uv]=_t,Ue[Mv]=Ze,Ue}function Lz(t){const e=tt(t.locale)?t.locale:fu,n=tt(t.fallbackLocale)||hr(t.fallbackLocale)||wt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,i=ur(t.missing)?t.missing:void 0,s=Mt(t.silentTranslationWarn)||ma(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,a=Mt(t.silentFallbackWarn)||ma(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,r=Mt(t.fallbackRoot)?t.fallbackRoot:!0,u=!!t.formatFallbackMessages,c=wt(t.modifiers)?t.modifiers:{},f=t.pluralizationRules,h=ur(t.postTranslation)?t.postTranslation:void 0,d=tt(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,g=!!t.escapeParameterHtml,E=Mt(t.sync)?t.sync:!0;let v=t.messages;if(wt(t.sharedMessages)){const _=t.sharedMessages;v=Object.keys(_).reduce((b,O)=>{const k=b[O]||(b[O]={});return ln(k,_[O]),b},v||{})}const{__i18n:S,__root:x,__injectWithOption:A}=t,w=t.datetimeFormats,I=t.numberFormats,C=t.flatJson,R=t.translateExistCompatible;return{locale:e,fallbackLocale:n,messages:v,flatJson:C,datetimeFormats:w,numberFormats:I,missing:i,missingWarn:s,fallbackWarn:a,fallbackRoot:r,fallbackFormat:u,modifiers:c,pluralRules:f,postTranslation:h,warnHtmlMessage:d,escapeParameter:g,messageResolver:t.messageResolver,inheritLocale:E,translateExistCompatible:R,__i18n:S,__root:x,__injectWithOption:A}}function $v(t={},e){{const n=f1(Lz(t)),{__extender:i}=t,s={id:n.id,get locale(){return n.locale.value},set locale(a){n.locale.value=a},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(a){n.fallbackLocale.value=a},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(a){},get missing(){return n.getMissingHandler()},set missing(a){n.setMissingHandler(a)},get silentTranslationWarn(){return Mt(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(a){n.missingWarn=Mt(a)?!a:a},get silentFallbackWarn(){return Mt(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(a){n.fallbackWarn=Mt(a)?!a:a},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(a){n.fallbackFormat=a},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(a){n.setPostTranslationHandler(a)},get sync(){return n.inheritLocale},set sync(a){n.inheritLocale=a},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(a){n.warnHtmlMessage=a!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(a){n.escapeParameter=a},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(a){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...a){const[r,u,c]=a,f={};let h=null,d=null;if(!tt(r))throw Xr($r.INVALID_ARGUMENT);const g=r;return tt(u)?f.locale=u:hr(u)?h=u:wt(u)&&(d=u),hr(c)?h=c:wt(c)&&(d=c),Reflect.apply(n.t,n,[g,h||d||{},f])},rt(...a){return Reflect.apply(n.rt,n,[...a])},tc(...a){const[r,u,c]=a,f={plural:1};let h=null,d=null;if(!tt(r))throw Xr($r.INVALID_ARGUMENT);const g=r;return tt(u)?f.locale=u:Or(u)?f.plural=u:hr(u)?h=u:wt(u)&&(d=u),tt(c)?f.locale=c:hr(c)?h=c:wt(c)&&(d=c),Reflect.apply(n.t,n,[g,h||d||{},f])},te(a,r){return n.te(a,r)},tm(a){return n.tm(a)},getLocaleMessage(a){return n.getLocaleMessage(a)},setLocaleMessage(a,r){n.setLocaleMessage(a,r)},mergeLocaleMessage(a,r){n.mergeLocaleMessage(a,r)},d(...a){return Reflect.apply(n.d,n,[...a])},getDateTimeFormat(a){return n.getDateTimeFormat(a)},setDateTimeFormat(a,r){n.setDateTimeFormat(a,r)},mergeDateTimeFormat(a,r){n.mergeDateTimeFormat(a,r)},n(...a){return Reflect.apply(n.n,n,[...a])},getNumberFormat(a){return n.getNumberFormat(a)},setNumberFormat(a,r){n.setNumberFormat(a,r)},mergeNumberFormat(a,r){n.mergeNumberFormat(a,r)},getChoiceIndex(a,r){return-1}};return s.__extender=i,s}}const h1={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function wz({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((i,s)=>[...i,...s.type===ht?s.children:[s]],[]):e.reduce((n,i)=>{const s=t[i];return s&&(n[i]=s()),n},Zt())}function uk(t){return ht}const Oz=dt({name:"i18n-t",props:ln({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>Or(t)||!isNaN(t)}},h1),setup(t,e){const{slots:n,attrs:i}=e,s=t.i18n||p1({useScope:t.scope,__useComponent:!0});return()=>{const a=Object.keys(n).filter(d=>d!=="_"),r=Zt();t.locale&&(r.locale=t.locale),t.plural!==void 0&&(r.plural=tt(t.plural)?+t.plural:t.plural);const u=wz(e,a),c=s[Bv](t.keypath,u,r),f=ln(Zt(),i),h=tt(t.tag)||qt(t.tag)?t.tag:uk();return my(h,f,c)}}}),QO=Oz;function Iz(t){return hr(t)&&!tt(t[0])}function lk(t,e,n,i){const{slots:s,attrs:a}=e;return()=>{const r={part:!0};let u=Zt();t.locale&&(r.locale=t.locale),tt(t.format)?r.key=t.format:qt(t.format)&&(tt(t.format.key)&&(r.key=t.format.key),u=Object.keys(t.format).reduce((g,E)=>n.includes(E)?ln(Zt(),g,{[E]:t.format[E]}):g,Zt()));const c=i(t.value,r,u);let f=[r.key];hr(c)?f=c.map((g,E)=>{const v=s[g.type],S=v?v({[g.type]:g.value,index:E,parts:c}):[g.value];return Iz(S)&&(S[0].key=`${g.type}-${E}`),S}):tt(c)&&(f=[c]);const h=ln(Zt(),a),d=tt(t.tag)||qt(t.tag)?t.tag:uk();return my(d,h,f)}}const Nz=dt({name:"i18n-n",props:ln({value:{type:Number,required:!0},format:{type:[String,Object]}},h1),setup(t,e){const n=t.i18n||p1({useScope:t.scope,__useComponent:!0});return lk(t,e,nk,(...i)=>n[Mv](...i))}}),eI=Nz,Pz=dt({name:"i18n-d",props:ln({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},h1),setup(t,e){const n=t.i18n||p1({useScope:t.scope,__useComponent:!0});return lk(t,e,rk,(...i)=>n[Uv](...i))}}),tI=Pz;function kz(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const i=n.__getInstance(e);return i!=null?i.__composer:t.global.__composer}}function Dz(t){const e=r=>{const{instance:u,modifiers:c,value:f}=r;if(!u||!u.$)throw Xr($r.UNEXPECTED_ERROR);const h=kz(t,u.$),d=rI(f);return[Reflect.apply(h.t,h,[...nI(d)]),h]};return{created:(r,u)=>{const[c,f]=e(u);Rf&&t.global===f&&(r.__i18nWatcher=io(f.locale,()=>{u.instance&&u.instance.$forceUpdate()})),r.__composer=f,r.textContent=c},unmounted:r=>{Rf&&r.__i18nWatcher&&(r.__i18nWatcher(),r.__i18nWatcher=void 0,delete r.__i18nWatcher),r.__composer&&(r.__composer=void 0,delete r.__composer)},beforeUpdate:(r,{value:u})=>{if(r.__composer){const c=r.__composer,f=rI(u);r.textContent=Reflect.apply(c.t,c,[...nI(f)])}},getSSRProps:r=>{const[u]=e(r);return{textContent:u}}}}function rI(t){if(tt(t))return{path:t};if(wt(t)){if(!("path"in t))throw Xr($r.REQUIRED_VALUE,"path");return t}else throw Xr($r.INVALID_VALUE)}function nI(t){const{path:e,locale:n,args:i,choice:s,plural:a}=t,r={},u=i||{};return tt(n)&&(r.locale=n),Or(s)&&(r.plural=s),Or(a)&&(r.plural=a),[e,u,r]}function Bz(t,e,...n){const i=wt(n[0])?n[0]:{},s=!!i.useI18nComponentName;(Mt(i.globalInstall)?i.globalInstall:!0)&&([s?"i18n":QO.name,"I18nT"].forEach(r=>t.component(r,QO)),[eI.name,"I18nN"].forEach(r=>t.component(r,eI)),[tI.name,"I18nD"].forEach(r=>t.component(r,tI))),t.directive("t",Dz(e))}function Uz(t,e,n){return{beforeCreate(){const i=uu();if(!i)throw Xr($r.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const a=s.i18n;if(s.__i18n&&(a.__i18n=s.__i18n),a.__root=e,this===this.$root)this.$i18n=iI(t,a);else{a.__injectWithOption=!0,a.__extender=n.__vueI18nExtend,this.$i18n=$v(a);const r=this.$i18n;r.__extender&&(r.__disposer=r.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=iI(t,s);else{this.$i18n=$v({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const a=this.$i18n;a.__extender&&(a.__disposer=a.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&ok(e,s,s),this.$t=(...a)=>this.$i18n.t(...a),this.$rt=(...a)=>this.$i18n.rt(...a),this.$tc=(...a)=>this.$i18n.tc(...a),this.$te=(a,r)=>this.$i18n.te(a,r),this.$d=(...a)=>this.$i18n.d(...a),this.$n=(...a)=>this.$i18n.n(...a),this.$tm=a=>this.$i18n.tm(a),n.__setInstance(i,this.$i18n)},mounted(){},unmounted(){const i=uu();if(!i)throw Xr($r.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(i),delete this.$i18n}}}function iI(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[sk](e.pluralizationRules||t.pluralizationRules);const n=yh(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(i=>t.mergeLocaleMessage(i,n[i])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(i=>t.mergeDateTimeFormat(i,e.datetimeFormats[i])),e.numberFormats&&Object.keys(e.numberFormats).forEach(i=>t.mergeNumberFormat(i,e.numberFormats[i])),t}const Mz=Aa("global-vue-i18n");function Kz(t={},e){const n=Mt(t.legacy)?t.legacy:!0,i=Mt(t.globalInjection)?t.globalInjection:!0,s=n?!!t.allowComposition:!0,a=new Map,[r,u]=$z(t,n),c=Aa("");function f(g){return a.get(g)||null}function h(g,E){a.set(g,E)}function d(g){a.delete(g)}{const g={get mode(){return n?"legacy":"composition"},get allowComposition(){return s},async install(E,...v){if(E.__VUE_I18N_SYMBOL__=c,E.provide(E.__VUE_I18N_SYMBOL__,g),wt(v[0])){const A=v[0];g.__composerExtend=A.__composerExtend,g.__vueI18nExtend=A.__vueI18nExtend}let S=null;!n&&i&&(S=Yz(E,g.global)),Bz(E,g,...v),n&&E.mixin(Uz(u,u.__composer,g));const x=E.unmount;E.unmount=()=>{S&&S(),g.dispose(),x()}},get global(){return u},dispose(){r.stop()},__instances:a,__getInstance:f,__setInstance:h,__deleteInstance:d};return g}}function p1(t={}){const e=uu();if(e==null)throw Xr($r.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Xr($r.NOT_INSTALLED);const n=Vz(e),i=qz(n),s=Cz(e),a=Fz(t,s);if(n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw Xr($r.NOT_AVAILABLE_IN_LEGACY_MODE);return Xz(e,a,i,t)}if(a==="global")return ok(i,t,s),i;if(a==="parent"){let c=Gz(n,e,t.__useComponent);return c==null&&(c=i),c}const r=n;let u=r.__getInstance(e);if(u==null){const c=ln({},t);"__i18n"in s&&(c.__i18n=s.__i18n),i&&(c.__root=i),u=f1(c),r.__composerExtend&&(u[Kv]=r.__composerExtend(u)),Wz(r,e,u),r.__setInstance(e,u)}return u}function $z(t,e,n){const i=k8();{const s=e?i.run(()=>$v(t)):i.run(()=>f1(t));if(s==null)throw Xr($r.UNEXPECTED_ERROR);return[i,s]}}function Vz(t){{const e=Ns(t.isCE?Mz:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Xr(t.isCE?$r.NOT_INSTALLED_WITH_PROVIDE:$r.UNEXPECTED_ERROR);return e}}function Fz(t,e){return gh(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function qz(t){return t.mode==="composition"?t.global:t.global.__composer}function Gz(t,e,n=!1){let i=null;const s=e.root;let a=jz(e,n);for(;a!=null;){const r=t;if(t.mode==="composition")i=r.__getInstance(a);else{const u=r.__getInstance(a);u!=null&&(i=u.__composer,n&&i&&!i[ak]&&(i=null))}if(i!=null||s===a)break;a=a.parent}return i}function jz(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function Wz(t,e,n){cy(()=>{},e),fy(()=>{const i=n;t.__deleteInstance(e);const s=i[Kv];s&&(s(),delete i[Kv])},e)}function Xz(t,e,n,i={}){const s=e==="local",a=aN(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Xr($r.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const r=Mt(i.inheritLocale)?i.inheritLocale:!tt(i.locale),u=Ja(!s||r?n.locale.value:tt(i.locale)?i.locale:fu),c=Ja(!s||r?n.fallbackLocale.value:tt(i.fallbackLocale)||hr(i.fallbackLocale)||wt(i.fallbackLocale)||i.fallbackLocale===!1?i.fallbackLocale:u.value),f=Ja(yh(u.value,i)),h=Ja(wt(i.datetimeFormats)?i.datetimeFormats:{[u.value]:{}}),d=Ja(wt(i.numberFormats)?i.numberFormats:{[u.value]:{}}),g=s?n.missingWarn:Mt(i.missingWarn)||ma(i.missingWarn)?i.missingWarn:!0,E=s?n.fallbackWarn:Mt(i.fallbackWarn)||ma(i.fallbackWarn)?i.fallbackWarn:!0,v=s?n.fallbackRoot:Mt(i.fallbackRoot)?i.fallbackRoot:!0,S=!!i.fallbackFormat,x=ur(i.missing)?i.missing:null,A=ur(i.postTranslation)?i.postTranslation:null,w=s?n.warnHtmlMessage:Mt(i.warnHtmlMessage)?i.warnHtmlMessage:!0,I=!!i.escapeParameter,C=s?n.modifiers:wt(i.modifiers)?i.modifiers:{},R=i.pluralRules||s&&n.pluralRules;function _(){return[u.value,c.value,f.value,h.value,d.value]}const L=Hn({get:()=>a.value?a.value.locale.value:u.value,set:z=>{a.value&&(a.value.locale.value=z),u.value=z}}),b=Hn({get:()=>a.value?a.value.fallbackLocale.value:c.value,set:z=>{a.value&&(a.value.fallbackLocale.value=z),c.value=z}}),O=Hn(()=>a.value?a.value.messages.value:f.value),k=Hn(()=>h.value),j=Hn(()=>d.value);function B(){return a.value?a.value.getPostTranslationHandler():A}function ae(z){a.value&&a.value.setPostTranslationHandler(z)}function fe(){return a.value?a.value.getMissingHandler():x}function G(z){a.value&&a.value.setMissingHandler(z)}function re(z){return _(),z()}function ce(...z){return a.value?re(()=>Reflect.apply(a.value.t,null,[...z])):re(()=>"")}function he(...z){return a.value?Reflect.apply(a.value.rt,null,[...z]):""}function we(...z){return a.value?re(()=>Reflect.apply(a.value.d,null,[...z])):re(()=>"")}function Ae(...z){return a.value?re(()=>Reflect.apply(a.value.n,null,[...z])):re(()=>"")}function ye(z){return a.value?a.value.tm(z):{}}function W(z,J){return a.value?a.value.te(z,J):!1}function pe(z){return a.value?a.value.getLocaleMessage(z):{}}function He(z,J){a.value&&(a.value.setLocaleMessage(z,J),f.value[z]=J)}function je(z,J){a.value&&a.value.mergeLocaleMessage(z,J)}function ot(z){return a.value?a.value.getDateTimeFormat(z):{}}function xt(z,J){a.value&&(a.value.setDateTimeFormat(z,J),h.value[z]=J)}function Me(z,J){a.value&&a.value.mergeDateTimeFormat(z,J)}function pt(z){return a.value?a.value.getNumberFormat(z):{}}function Ze(z,J){a.value&&(a.value.setNumberFormat(z,J),d.value[z]=J)}function _t(z,J){a.value&&a.value.mergeNumberFormat(z,J)}const H={get id(){return a.value?a.value.id:-1},locale:L,fallbackLocale:b,messages:O,datetimeFormats:k,numberFormats:j,get inheritLocale(){return a.value?a.value.inheritLocale:r},set inheritLocale(z){a.value&&(a.value.inheritLocale=z)},get availableLocales(){return a.value?a.value.availableLocales:Object.keys(f.value)},get modifiers(){return a.value?a.value.modifiers:C},get pluralRules(){return a.value?a.value.pluralRules:R},get isGlobal(){return a.value?a.value.isGlobal:!1},get missingWarn(){return a.value?a.value.missingWarn:g},set missingWarn(z){a.value&&(a.value.missingWarn=z)},get fallbackWarn(){return a.value?a.value.fallbackWarn:E},set fallbackWarn(z){a.value&&(a.value.missingWarn=z)},get fallbackRoot(){return a.value?a.value.fallbackRoot:v},set fallbackRoot(z){a.value&&(a.value.fallbackRoot=z)},get fallbackFormat(){return a.value?a.value.fallbackFormat:S},set fallbackFormat(z){a.value&&(a.value.fallbackFormat=z)},get warnHtmlMessage(){return a.value?a.value.warnHtmlMessage:w},set warnHtmlMessage(z){a.value&&(a.value.warnHtmlMessage=z)},get escapeParameter(){return a.value?a.value.escapeParameter:I},set escapeParameter(z){a.value&&(a.value.escapeParameter=z)},t:ce,getPostTranslationHandler:B,setPostTranslationHandler:ae,getMissingHandler:fe,setMissingHandler:G,rt:he,d:we,n:Ae,tm:ye,te:W,getLocaleMessage:pe,setLocaleMessage:He,mergeLocaleMessage:je,getDateTimeFormat:ot,setDateTimeFormat:xt,mergeDateTimeFormat:Me,getNumberFormat:pt,setNumberFormat:Ze,mergeNumberFormat:_t};function Q(z){z.locale.value=u.value,z.fallbackLocale.value=c.value,Object.keys(f.value).forEach(J=>{z.mergeLocaleMessage(J,f.value[J])}),Object.keys(h.value).forEach(J=>{z.mergeDateTimeFormat(J,h.value[J])}),Object.keys(d.value).forEach(J=>{z.mergeNumberFormat(J,d.value[J])}),z.escapeParameter=I,z.fallbackFormat=S,z.fallbackRoot=v,z.fallbackWarn=E,z.missingWarn=g,z.warnHtmlMessage=w}return bN(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Xr($r.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const z=a.value=t.proxy.$i18n.__composer;e==="global"?(u.value=z.locale.value,c.value=z.fallbackLocale.value,f.value=z.messages.value,h.value=z.datetimeFormats.value,d.value=z.numberFormats.value):s&&Q(z)}),H}const Hz=["locale","fallbackLocale","availableLocales"],sI=["t","rt","d","n","tm","te"];function Yz(t,e){const n=Object.create(null);return Hz.forEach(s=>{const a=Object.getOwnPropertyDescriptor(e,s);if(!a)throw Xr($r.UNEXPECTED_ERROR);const r=rn(a.value)?{get(){return a.value.value},set(u){a.value.value=u}}:{get(){return a.get&&a.get()}};Object.defineProperty(n,s,r)}),t.config.globalProperties.$i18n=n,sI.forEach(s=>{const a=Object.getOwnPropertyDescriptor(e,s);if(!a||!a.value)throw Xr($r.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,a)}),()=>{delete t.config.globalProperties.$i18n,sI.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}xz();__INTLIFY_JIT_COMPILATION__?KO(Ez):KO(gz);cz(HY);fz(XP);function aI(t,e){if(t==="title"){const s=document.title;return document.title=e,s}const n=document.querySelector(`meta[name="${t}"]`);if(n){const s=n.content;return n.content=e,s}const i=document.createElement("meta");i.name=t,i.content=e,document.head.append(i)}const zz={install:t=>{const e={},n=s=>{Object.keys(s).forEach(a=>{const r=aI(a,s[a]);r&&!e[a]&&(e[a]=r)})},i=s=>{Object.keys(s||e).forEach(r=>{e[r]&&(aI(r,e[r]),delete e[r])})};t.config.globalProperties.$setMeta=n,t.config.globalProperties.$resetMeta=i}},Jz={install:(t,e={})=>{t.config.globalProperties.$renderers=e}},Zz=dt({data(){return{isVisible:!1,options:null,timeout:null}},beforeMount(){this.$registerToast(this)},methods:{show(t){this.isVisible=!0,this.options=t,this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null),t.duration&&(this.timeout=window.setTimeout(()=>{this.hide()},t.duration))},hide(){this.isVisible=!1,this.options=null,this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)}}}),Qz="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M20%202.00006L2%2020'%20stroke='%230C0C0C'%20stroke-width='3'%3e%3c/path%3e%3cpath%20d='M2%202.00001L20%2020'%20stroke='%230C0C0C'%20stroke-width='3'%20/%3e%3c/svg%3e",eJ={class:"constrain"},tJ={class:"text"},rJ={class:"subtext"},nJ={key:0,class:"warning"},iJ={key:1,class:"spinner"},sJ={key:2,class:"pause"};function aJ(t,e,n,i,s,a){return Y(),Ht(zN,{name:"toast-transition"},{default:Ds(()=>[t.isVisible&&t.options?(Y(),te("div",{key:0,class:et([t.options.type,"jbg toast"])},[V("div",eJ,[V("img",{class:"close",alt:"close",src:Qz,onClick:e[0]||(e[0]=(...r)=>t.hide&&t.hide(...r)),onKeydown:e[1]||(e[1]=Bi((...r)=>t.hide&&t.hide(...r),["esc"]))},null,32),V("p",tJ,nt(t.options.text),1),V("p",rJ,nt(t.options.subtext),1),t.options.warning?(Y(),te("p",nJ,nt(t.options.warning),1)):Ke("",!0),t.options.type==="reconnecting"||t.options.type==="paused"?(Y(),te("div",iJ)):Ke("",!0),t.options.type==="paused"?(Y(),te("div",sJ)):Ke("",!0)])],2)):Ke("",!0)]),_:1})}const oJ=rt(Zz,[["render",aJ],["__scopeId","data-v-6d2a2aa3"]]),uJ={install:t=>{if(t.config.globalProperties.$showToast)return;let e;const n=a=>{if(!e)throw new Error("No ToastComponent is registered to show");e.show(a)},i=()=>{if(!e)throw new Error("No ToastComponent is registered to hide");e.hide()},s=a=>{e=a};t.component("Toast",oJ),t.config.globalProperties.$showToast=n,t.config.globalProperties.$hideToast=i,t.config.globalProperties.$registerToast=s}};async function oI(t,e){const n=`https://s3.amazonaws.com/jbg-blobcast-artifacts/${t}/${e}/data.json.gz`;return v2.hydrateFromUrl(n)}function lJ(t){const e=atob(t);return JSON.parse(e)}async function cJ(){const t=Date.now(),e=5e3;return new Promise((n,i)=>{const s=()=>{if(window.incomingData){n(window.incomingData);return}if(Date.now()>t+e){i(new Error("Timed out waiting for incomingData to exist"));return}window.requestAnimationFrame(s)};s()})}function fJ(t){if(!(t!=null&&t.blob))return;const e=URL.createObjectURL(t.blob),n=document.createElement("a");n.href=e,n.download="image.png",document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(e)}function hJ(t){if(!(t!=null&&t.blob))return;const e=URL.createObjectURL(t.blob);window.open(e,"_blank")}const pJ=async(t,e,n)=>{if(!e)throw new Error(`No renderers are available for app ${t.data.gameId}`);const i=e[t.data.renderer];if(!i)throw new Error(`No renderer found with type ${t.data.renderer}`);const s=t.parts[1];let a;if(s==="incoming"?a=await cJ():s==="payload"?a=lJ(t.params.payload):s==="artifact"?a=await oI(t.data.gameId,t.data.artifactId):a=await oI(t.data.gameId,t.data.artifactId),!a)throw new Error("No data");const r=new i({data:a,params:t.params,messages:n});await r.run(),await r.ready(),window.tv.renderData=r.renderData,t.params.download&&fJ(r.renderData),t.params.open&&hJ(r.renderData),delete window.incomingData},dJ=dt({props:{options:{type:Object,required:!0},mainView:{type:Object,required:!0}},setup(){return{fatalError:Ns(Ru.fatal.error)}},data(){return{isKicked:!1}},computed:{ecast(){return this.$ecast},ecastValues(){return this.$ecastValues?this.$ecastValues:null},classes(){return[`locale-${this.$i18n.locale}`]},shouldShowFatal(){var t;return((t=this.fatalError)==null?void 0:t.hasCrashed)??!1}},beforeMount(){this.$ecastManager.on("didReconnect",this.onDidReconnect),this.$ecastManager.on("isReconnecting",this.onIsReconnecting),this.$ecastManager.on("roomDidExit",()=>{this.onRoomDidExit()}),this.$ecastManager.on("roomDidMigrate",t=>{this.onRoomDidMigrate(t)}),this.$ecastManager.on("didDisconnect",()=>{this.onDidDisconnect()}),this.$ecastManager.on("wasKicked",()=>{this.onWasKicked()}),this.$ecastManager.on("hostDidDisconnect",this.onHostDidDisconnect),this.$ecastManager.on("hostDidReconnect",this.onHostDidReconnect),this.$ecastManager.on("hostDidPause",this.onHostDidPause),this.$ecastManager.on("hostDidUnpause",this.onHostDidUnpause)},methods:{onDidReconnect(){this.$showToast({type:"generic",text:this.$t("TOAST.RECONNECTED.TEXT"),subtext:this.$t("TOAST.RECONNECTED.SUBTEXT"),duration:1500})},onIsReconnecting(t){this.$showToast({type:"reconnecting",text:this.$t("TOAST.RECONNECTING.CONTROLLER.TEXT"),subtext:this.$t("TOAST.RECONNECTING.CONTROLLER.SUBTEXT",{attempt:t})})},async onRoomDidExit(){this.$hideToast(),await this.$showModal("Error",{image:"moon",text:this.$t("ERROR.ROOM_DISCONNECTED"),subtext:this.$t("ERROR.ROOM_DESTROYED"),dismissText:this.$t("ACTION.OK")}),window.location.reload()},async onRoomDidMigrate(t){this.$hideToast();const n=await new wr.APIClient({host:t.host,scheme:"https"}).getRoom({code:t.code}),i={host:t.host,code:t.code,password:t.password,name:this.$ecast.name,role:this.$ecast.role,userId:this.$ecast.userId,debug:"false"};this.$ecast.twitchToken&&(i.twitchToken=this.$ecast.twitchToken);const s=new wr.WSClient(i);let a;try{a=await s.connect()}catch(u){console.error(`[room/migrate] Failed to migrate: ${u}`),await this.$showModal("Error",{image:"poop",text:"Failed to migrate room",subtext:"Try again later, I guess?",dismissText:this.$t("ACTION.OK")});return}this.$ecast.disconnect(),this.$setupEcast({wsClient:s,room:n,welcome:a}),Mr.set("name",this.$ecast.name),Mr.set("code",this.$ecast.code);const r=Mr.get("branch");Mr.set("reconnect",`${a.id}:${this.$ecast.role}:${a.secret}:${r}`)},async onDidDisconnect(){this.$hideToast(),await this.$showModal("Error",{image:"moon",text:this.$t("ERROR.ROOM_DISCONNECTED"),dismissText:this.$t("ACTION.OK")}),window.location.reload()},async onWasKicked(){this.$hideToast(),await this.$showModal("Error",{image:"tear",text:this.$t("ERROR.ROOM_DISCONNECTED"),subtext:this.$t("ERROR.PLAYER_KICKED"),dismissText:this.$t("ACTION.OK")}),window.location.reload()},onHostDidDisconnect(){this.$showToast({type:"reconnecting",text:this.$t("TOAST.RECONNECTING.GAME.TEXT"),subtext:this.$t("TOAST.RECONNECTING.GAME.SUBTEXT")})},onHostDidReconnect(){this.$showToast({type:"generic",text:this.$t("TOAST.RECONNECTED.TEXT"),subtext:this.$t("TOAST.RECONNECTED.SUBTEXT"),duration:1500})},onHostDidPause(){this.$showToast({type:"paused",text:this.$t("TOAST.PAUSED.TEXT"),subtext:this.$t("TOAST.PAUSED.SUBTEXT")})},onHostDidUnpause(){this.$hideToast()}}});function _J(t,e,n,i,s,a){const r=ct("Fatal"),u=ct("TextDescriptions"),c=ct("Debug"),f=ct("Modal"),h=ct("Toast");return t.shouldShowFatal?(Y(),Ht(r,{key:0})):(Y(),te(ht,{key:1},[ft(u),(Y(),Ht(Dl(t.mainView),Ul({id:"game",class:t.classes},t.ecastValues),null,16,["class"])),ft(c),ft(f),ft(h)],64))}const uI=rt(dJ,[["render",_J]]),mJ=dt({components:{Gallery:hP},props:{options:{type:Object,required:!0},galleryView:{type:Object,required:!0}},setup(){return{fatalError:Ns(Ru.fatal.error)}},computed:{classes(){return[`locale-${this.$i18n.locale}`]},shouldShowFatal(){var t;return((t=this.fatalError)==null?void 0:t.hasCrashed)??!1},categoryId(){var t,e;return((e=(t=this.options.match)==null?void 0:t.data)==null?void 0:e.categoryId)??""},artifactId(){var t,e;return((e=(t=this.options.match)==null?void 0:t.data)==null?void 0:e.artifactId)??""},itemId(){var t,e;return((e=(t=this.options.match)==null?void 0:t.data)==null?void 0:e.itemId)??""}}});function gJ(t,e,n,i,s,a){const r=ct("Fatal"),u=ct("Gallery"),c=ct("Modal"),f=ct("Toast");return t.shouldShowFatal?(Y(),Ht(r,{key:0})):(Y(),te(ht,{key:1},[ft(u,{view:t.galleryView,"artifact-id":t.artifactId,"category-id":t.categoryId,"item-id":t.itemId,context:"standalone"},null,8,["view","artifact-id","category-id","item-id"]),ft(c),ft(f)],64))}const lI=rt(mJ,[["render",gJ]]);function EJ(t,e,n){uI.name=e.app;const i=ZN(uI,{options:e,mainView:t.MainView});if(i.use(sX,{replayer:e.replayer,client:n,room:e.room}),i.use(bX,{wsClient:n,room:e.room,welcome:e.welcome}),i.use(jH),i.use(XH),t.plugins){const s=a=>a.plugin===void 0;t.plugins.forEach(a=>{if(s(a)){i.use(a);return}i.use(a.plugin,...a.options)})}return i}function vJ(t,e){return lI.name=e.app,ZN(lI,{options:e,galleryView:t.GalleryView})}function yJ(t){return t!=null&&t.parts?t.parts[0]==="gallery"?"gallery":t.parts[0]==="render"?"render":"game":"game"}const TJ=t=>{let e;window.tv.register({connect:(n,i)=>(e=i?i.setClient(wr.WSClient,n):new wr.WSClient(n),e.connect()),mount:n=>{var u,c;const i=yJ(n.match);if(i==="render"){pJ(n.match,t.renderers,t.messages);return}let s=i==="gallery"?vJ(t,n):EJ(t,n,e),a;(u=n.room)!=null&&u.locale&&(a=n.room.locale),(c=n.match)!=null&&c.params.locale&&(a=n.match.params.locale),iu.set(a);const r=Kz({fallbackLocale:"en",locale:iu.locale,messages:iu.mergeMessages(oF,t.messages??{})});return s.use(oW),s.use(Jz,t.renderers),s.use($H),s.use(sH),s.use(r),s.use(mH,{i18n:r}),s.use(WH),s.use(uJ),s.use(zz),s.mount("#app"),()=>{s.unmount(),s=null}},info:n=>({tag:n.app,version:n.version,type:n.type,wrapper:"vue",branch:n.branch})})},bJ={BLOOPER_REEL:"blooper reel",RECAP:"recap",LOGO:"logo",MOST_LIKES:"most likes",WINNER:"winner"},RJ={AVATAR_0:"A doofy looking duck",AVATAR_1:"A pair of eyes poking out from under a blanket",AVATAR_2:"Two eyes on top of two legs",AVATAR_3:"A geometric diamond with eye, legs and a long nose",AVATAR_4:"An ink blob void with tiny eyes",AVATAR_5:"A very friendly little worm",AVATAR_6:"A fluffy cloud with tiny eyes",AVATAR_7:"A blob of blue clay with one big eye"},xJ={ACKNOWLEDGE:"Got it",AUDIENCE:"Hear Say works best when you play with a microphone, but you can still participate without one. Continue microphone setup?",DENY:"Nah",NO_ACCESS:"Ruh-roh, it looks like your browser can't access a microphone.",NO_ACCESS_INFO:"Please go to the settings for your browser and enable microphone access. Then refresh.",NO_DEVICES:"We are not able to find any connected input devices. Please plug in a microphone and refresh.",WILL_ASK:"Hear Say needs access to your microphone to work properly. On the next screen your browser will ask you for permission."},SJ={GIVE_LIKES:"Give some likes",VOTE_FOR_ONE:"Vote for one!"},CJ={ICON:"We're no longer using your mic! On certain devices icons stay visible, they'll disappear once you refresh your browser. Thanks!",PRIVACY:"Here's a recap of your player scores. For privacy reasons we don't store your sounds and videos after you exit a game. Thanks for playing!"},AJ={ALT:bJ,AVATARS:RJ,PERMISSIONS:xJ,VOTING:SJ,POST_GAME:CJ},LJ={en:AJ};class wJ extends c9{constructor(){super();be(this,"PERMISSION_STORAGE_KEY","sfx-permission");be(this,"DEVICE_ID_STORAGE_KEY","sfx-device-id");be(this,"devices",[]);be(this,"currentDevice",null);be(this,"assumedPermission");be(this,"grantedPermission","unknown");be(this,"stream",null);be(this,"isDestroyed",!1);be(this,"hasBeenActive",!1);be(this,"isActive",!1);this.assumedPermission=this.getAssumedPermission(),navigator.mediaDevices.addEventListener("devicechange",this.onDeviceChange.bind(this))}get shouldPromptForPermission(){return this.assumedPermission==="unknown"||this.assumedPermission==="denied"}get canReactivate(){return this.grantedPermission==="granted"&&!this.isActive}async initialize(){if(this.isDestroyed)throw new Error("DeviceManager has been destroyed");try{await this.requestPermissions(),await this.syncDevices()}catch(n){throw console.error("Failed to initialize DeviceManager:",n),n}}denyPermissions(){this.grantedPermission="denied",this.saveAssumedPermission("denied"),this.emit("permissionDidChange",{permission:"denied",assumed:"denied"})}destroy(){this.isDestroyed||(this.isDestroyed=!0,this.stopMicrophone(),navigator.mediaDevices.removeEventListener("devicechange",this.onDeviceChange.bind(this)),this.devices=[],this.currentDevice=null)}releaseStream(){this.stream&&(this.stream.getAudioTracks().forEach(n=>n.stop()),this.stream=null)}async requestPermissions(){if(this.grantedPermission==="granted")return"granted";try{return this.releaseStream(),this.stream=await navigator.mediaDevices.getUserMedia({audio:!0,video:!1}),this.grantedPermission="granted",this.saveAssumedPermission("granted"),this.emit("permissionDidChange",{permission:"granted",assumed:"granted"}),"granted"}catch(n){return n instanceof Error&&(n.name==="NotAllowedError"?(this.grantedPermission="denied",this.saveAssumedPermission("denied")):n.name==="NotFoundError"?this.grantedPermission="no-devices":this.grantedPermission="denied"),this.emit("permissionDidChange",{permission:this.grantedPermission,assumed:this.assumedPermission,error:n}),this.grantedPermission}}getAssumedPermission(){return Mr.get(this.PERMISSION_STORAGE_KEY)||"unknown"}saveAssumedPermission(n){const i=Zi.isIOS?"code":"tag";Mr.set(this.PERMISSION_STORAGE_KEY,n,i)}async syncDevices(){if(!this.isDestroyed)try{const i=(await navigator.mediaDevices.enumerateDevices()).filter(r=>r.kind==="audioinput");if(!i.length){this.updateDeviceList([]);return}const s=this.processAudioDevices(i);this.updateDeviceList(s);const a=this.getCurrentDevice();if(!a)return;try{await this.setCurrentDevice(a.id)}catch(r){console.error("Failed to set current device:",r)}}catch(n){console.error("Failed to sync devices:",n)}}processAudioDevices(n){const i=[],s=n.find(a=>a.deviceId.includes("default"))??n[0];return n.forEach(a=>{if(a.deviceId==="default")return;const r=s?a.groupId===s.groupId:!1;i.push({info:a,id:a.deviceId,name:this.formatDeviceName(a,r),isDefault:r,isSelected:!1})}),i}formatDeviceName(n,i){let s=n.label||`Microphone (${n.deviceId.slice(0,8)})`;return s=s.replace(/ \([^()]*\)/g,""),i&&(s+=" (Default)"),s}updateDeviceList(n){const i=new Set(n.map(a=>a.id)),s=!!(this.currentDevice&&!i.has(this.currentDevice.id));this.devices=n,this.emit("devicesDidChange",{devices:n,didDisconnect:s}),s&&this.onDeviceDisconnect()}async setCurrentDevice(n){if(this.isDestroyed)return;const i=n==="default"?this.devices.find(a=>a.isDefault)??null:this.devices.find(a=>a.id===n)??null;if(!i)return;this.devices.forEach(a=>{a.isSelected=a.id===i.id});const s=this.currentDevice;this.currentDevice=i,Mr.set(this.DEVICE_ID_STORAGE_KEY,i.id,"tag"),this.emit("deviceDidChange",{device:i,previousDevice:s}),await this.restartMicrophone()}onDeviceChange(){this.isDestroyed||this.syncDevices()}onDeviceDisconnect(){const n=this.devices.find(s=>s.isDefault)??this.devices[0];if(n){this.setCurrentDevice(n.id);return}const i=this.currentDevice;this.currentDevice=null,this.stopMicrophone(),this.emit("deviceDidChange",{device:null,previousDevice:i})}getCurrentDevice(){if(!this.devices.length)return null;const n=Mr.get(this.DEVICE_ID_STORAGE_KEY,"tag");if(n){const s=this.devices.find(a=>a.id===n);if(s)return s}const i=this.devices.find(s=>s.isDefault);return i||this.devices[0]}async startMicrophone(){if(this.isDestroyed||this.isActive||this.grantedPermission!=="granted"||!this.currentDevice)return!1;try{return this.stopMicrophone(),this.stream=await navigator.mediaDevices.getUserMedia({audio:{deviceId:{exact:this.currentDevice.id}}}),this.isActive=!0,this.emit("microphoneStateDidChange",{isActive:!0,device:this.currentDevice,stream:this.stream}),this.stream}catch(n){return this.isActive=!1,this.stream=null,this.emit("microphoneStateDidChange",{isActive:!1,device:this.currentDevice,stream:null,error:n}),!1}}stopMicrophone(){if(!this.isActive||!this.stream)return;const n=this.isActive;this.releaseStream(),this.isActive=!1,n&&this.emit("microphoneStateDidChange",{isActive:!1,device:null,stream:null})}async restartMicrophone(){return this.stopMicrophone(),this.startMicrophone()}}const ck="15.0.4",cI=(t,e,n)=>({endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}),fI=(t,e,n)=>({endTime:e,insertTime:n,type:"linearRampToValue",value:t}),Vv=(t,e)=>({startTime:e,type:"setValue",value:t}),fk=(t,e,n)=>({duration:n,startTime:e,type:"setValueCurve",values:t}),hk=(t,e,{startTime:n,target:i,timeConstant:s})=>i+(e-i)*Math.exp((n-t)/s),Wo=t=>t.type==="exponentialRampToValue",Cf=t=>t.type==="linearRampToValue",ca=t=>Wo(t)||Cf(t),d1=t=>t.type==="setValue",As=t=>t.type==="setValueCurve",Af=(t,e,n,i)=>{const s=t[e];return s===void 0?i:ca(s)||d1(s)?s.value:As(s)?s.values[s.values.length-1]:hk(n,Af(t,e-1,s.startTime,i),s)},hI=(t,e,n,i,s)=>n===void 0?[i.insertTime,s]:ca(n)?[n.endTime,n.value]:d1(n)?[n.startTime,n.value]:As(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Af(t,e-1,n.startTime,s)],Fv=t=>t.type==="cancelAndHold",qv=t=>t.type==="cancelScheduledValues",aa=t=>Fv(t)||qv(t)?t.cancelTime:Wo(t)||Cf(t)?t.endTime:t.startTime,pI=(t,e,n,{endTime:i,value:s})=>n===s?s:0<n&&0<s||n<0&&s<0?n*(s/n)**((t-e)/(i-e)):0,dI=(t,e,n,{endTime:i,value:s})=>n+(t-e)/(i-e)*(s-n),OJ=(t,e)=>{const n=Math.floor(e),i=Math.ceil(e);return n===i?t[n]:(1-(e-n))*t[n]+(1-(i-e))*t[i]},IJ=(t,{duration:e,startTime:n,values:i})=>{const s=(t-n)/e*(i.length-1);return OJ(i,s)},tf=t=>t.type==="setTarget";class NJ{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const n=aa(e);if(Fv(e)||qv(e)){const i=this._automationEvents.findIndex(a=>qv(e)&&As(a)?a.startTime+a.duration>=n:aa(a)>=n),s=this._automationEvents[i];if(i!==-1&&(this._automationEvents=this._automationEvents.slice(0,i)),Fv(e)){const a=this._automationEvents[this._automationEvents.length-1];if(s!==void 0&&ca(s)){if(a!==void 0&&tf(a))throw new Error("The internal list is malformed.");const r=a===void 0?s.insertTime:As(a)?a.startTime+a.duration:aa(a),u=a===void 0?this._defaultValue:As(a)?a.values[a.values.length-1]:a.value,c=Wo(s)?pI(n,r,u,s):dI(n,r,u,s),f=Wo(s)?cI(c,n,this._currenTime):fI(c,n,this._currenTime);this._automationEvents.push(f)}if(a!==void 0&&tf(a)&&this._automationEvents.push(Vv(this.getValue(n),n)),a!==void 0&&As(a)&&a.startTime+a.duration>n){const r=n-a.startTime,u=(a.values.length-1)/a.duration,c=Math.max(2,1+Math.ceil(r*u)),f=r/(c-1)*u,h=a.values.slice(0,c);if(f<1)for(let d=1;d<c;d+=1){const g=f*d%1;h[d]=a.values[d-1]*(1-g)+a.values[d]*g}this._automationEvents[this._automationEvents.length-1]=fk(h,a.startTime,r)}}}else{const i=this._automationEvents.findIndex(r=>aa(r)>n),s=i===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[i-1];if(s!==void 0&&As(s)&&aa(s)+s.duration>n)return!1;const a=Wo(e)?cI(e.value,e.endTime,this._currenTime):Cf(e)?fI(e.value,n,this._currenTime):e;if(i===-1)this._automationEvents.push(a);else{if(As(e)&&n+e.duration>aa(this._automationEvents[i]))return!1;this._automationEvents.splice(i,0,a)}}return!0}flush(e){const n=this._automationEvents.findIndex(i=>aa(i)>e);if(n>1){const i=this._automationEvents.slice(n-1),s=i[0];tf(s)&&i.unshift(Vv(Af(this._automationEvents,n-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=i}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(r=>aa(r)>e),i=this._automationEvents[n],s=(n===-1?this._automationEvents.length:n)-1,a=this._automationEvents[s];if(a!==void 0&&tf(a)&&(i===void 0||!ca(i)||i.insertTime>e))return hk(e,Af(this._automationEvents,s-1,a.startTime,this._defaultValue),a);if(a!==void 0&&d1(a)&&(i===void 0||!ca(i)))return a.value;if(a!==void 0&&As(a)&&(i===void 0||!ca(i)||a.startTime+a.duration>e))return e<a.startTime+a.duration?IJ(e,a):a.values[a.values.length-1];if(a!==void 0&&ca(a)&&(i===void 0||!ca(i)))return a.value;if(i!==void 0&&Wo(i)){const[r,u]=hI(this._automationEvents,s,a,i,this._defaultValue);return pI(e,r,u,i)}if(i!==void 0&&Cf(i)){const[r,u]=hI(this._automationEvents,s,a,i,this._defaultValue);return dI(e,r,u,i)}return this._defaultValue}}const PJ=t=>({cancelTime:t,type:"cancelAndHold"}),kJ=t=>({cancelTime:t,type:"cancelScheduledValues"}),DJ=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),BJ=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),UJ=(t,e,n)=>({startTime:e,target:t,timeConstant:n,type:"setTarget"}),MJ=()=>new DOMException("","AbortError"),KJ=t=>(e,n,[i,s,a],r)=>{t(e[s],[n,i,a],u=>u[0]===n&&u[1]===i,r)},$J=t=>(e,n,i)=>{const s=[];for(let a=0;a<i.numberOfInputs;a+=1)s.push(new Set);t.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},VJ=t=>(e,n)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},hu=new WeakSet,pk=new WeakMap,_1=new WeakMap,dk=new WeakMap,m1=new WeakMap,Th=new WeakMap,_k=new WeakMap,Gv=new WeakMap,jv=new WeakMap,Wv=new WeakMap,mk={construct(){return mk}},FJ=t=>{try{const e=new Proxy(t,mk);new e}catch{return!1}return!0},_I=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,mI=(t,e)=>{const n=[];let i=t.replace(/^[\s]+/,""),s=i.match(_I);for(;s!==null;){const a=s[1].slice(1,-1),r=s[0].replace(/([\s]+)?;?$/,"").replace(a,new URL(a,e).toString());n.push(r),i=i.slice(s[0].length).replace(/^[\s]+/,""),s=i.match(_I)}return[n.join(";"),i]},gI=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},EI=t=>{if(!FJ(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},qJ=(t,e,n,i,s,a,r,u,c,f,h,d,g)=>{let E=0;return(v,S,x={credentials:"omit"})=>{const A=h.get(v);if(A!==void 0&&A.has(S))return Promise.resolve();const w=f.get(v);if(w!==void 0){const R=w.get(S);if(R!==void 0)return R}const I=a(v),C=I.audioWorklet===void 0?s(S).then(([R,_])=>{const[L,b]=mI(R,_),O=`${L};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${b}
})})(window,'_AWGS')`;return n(O)}).then(()=>{const R=g._AWGS.pop();if(R===void 0)throw new SyntaxError;i(I.currentTime,I.sampleRate,()=>R(class{},void 0,(_,L)=>{if(_.trim()==="")throw e();const b=jv.get(I);if(b!==void 0){if(b.has(_))throw e();EI(L),gI(L.parameterDescriptors),b.set(_,L)}else EI(L),gI(L.parameterDescriptors),jv.set(I,new Map([[_,L]]))},I.sampleRate,void 0,void 0))}):Promise.all([s(S),Promise.resolve(t(d,d))]).then(([[R,_],L])=>{const b=E+1;E=b;const[O,k]=mI(R,_),fe=`${O};((AudioWorkletProcessor,registerProcessor)=>{${k}
})(${L?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${L?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${L?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${b}',class extends AudioWorkletProcessor{process(){return !1}})`,G=new Blob([fe],{type:"application/javascript; charset=utf-8"}),re=URL.createObjectURL(G);return I.audioWorklet.addModule(re,x).then(()=>{if(u(I))return I;const ce=r(I);return ce.audioWorklet.addModule(re,x).then(()=>ce)}).then(ce=>{if(c===null)throw new SyntaxError;try{new c(ce,`__sac${b}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(re))});return w===void 0?f.set(v,new Map([[S,C]])):w.set(S,C),C.then(()=>{const R=h.get(v);R===void 0?h.set(v,new Set([S])):R.add(S)}).finally(()=>{const R=f.get(v);R!==void 0&&R.delete(S)}),C}},Ui=(t,e)=>{const n=t.get(e);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},bh=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[i]=n;return t.delete(i),i},gk=(t,e,n,i)=>{const s=Ui(t,e),a=bh(s,r=>r[0]===n&&r[1]===i);return s.size===0&&t.delete(e),a},Fl=t=>Ui(_k,t),pu=t=>{if(hu.has(t))throw new Error("The AudioNode is already stored.");hu.add(t),Fl(t).forEach(e=>e(!0))},Ek=t=>"port"in t,ql=t=>{if(!hu.has(t))throw new Error("The AudioNode is not stored.");hu.delete(t),Fl(t).forEach(e=>e(!1))},Xv=(t,e)=>{!Ek(t)&&e.every(n=>n.size===0)&&ql(t)},GJ=(t,e,n,i,s,a,r,u,c,f,h,d,g)=>{const E=new WeakMap;return(v,S,x,A,w)=>{const{activeInputs:I,passiveInputs:C}=a(S),{outputs:R}=a(v),_=u(v),L=b=>{const O=c(S),k=c(v);if(b){const j=gk(C,v,x,A);t(I,v,j,!1),!w&&!d(v)&&n(k,O,x,A),g(S)&&pu(S)}else{const j=i(I,v,x,A);e(C,A,j,!1),!w&&!d(v)&&s(k,O,x,A);const B=r(S);if(B===0)h(S)&&Xv(S,I);else{const ae=E.get(S);ae!==void 0&&clearTimeout(ae),E.set(S,setTimeout(()=>{h(S)&&Xv(S,I)},B*1e3))}}};return f(R,[S,x,A],b=>b[0]===S&&b[1]===x&&b[2]===A,!0)?(_.add(L),h(v)?t(I,v,[x,A,L],!0):e(C,A,[v,x,L],!0),!0):!1}},jJ=t=>(e,n,[i,s,a],r)=>{const u=e.get(i);u===void 0?e.set(i,new Set([[s,n,a]])):t(u,[s,n,a],c=>c[0]===s&&c[1]===n,r)},WJ=t=>(e,n)=>{const i=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(i).connect(e.destination);const s=()=>{n.removeEventListener("ended",s),n.disconnect(i),i.disconnect()};n.addEventListener("ended",s)},XJ=t=>(e,n)=>{t(e).add(n)},HJ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},YJ=(t,e,n,i,s,a)=>class extends t{constructor(u,c){const f=s(u),h={...HJ,...c},d=i(f,h),g=a(f)?e():null;super(u,!1,d,g),this._nativeAnalyserNode=d}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(u){this._nativeAnalyserNode.fftSize=u}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(u){const c=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=u,!(u>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=c,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(u){const c=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=u,!(this._nativeAnalyserNode.maxDecibels>u))throw this._nativeAnalyserNode.minDecibels=c,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(u){this._nativeAnalyserNode.smoothingTimeConstant=u}getByteFrequencyData(u){this._nativeAnalyserNode.getByteFrequencyData(u)}getByteTimeDomainData(u){this._nativeAnalyserNode.getByteTimeDomainData(u)}getFloatFrequencyData(u){this._nativeAnalyserNode.getFloatFrequencyData(u)}getFloatTimeDomainData(u){this._nativeAnalyserNode.getFloatTimeDomainData(u)}},cn=(t,e)=>t.context===e,zJ=(t,e,n)=>()=>{const i=new WeakMap,s=async(a,r)=>{let u=e(a);if(!cn(u,r)){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,fftSize:u.fftSize,maxDecibels:u.maxDecibels,minDecibels:u.minDecibels,smoothingTimeConstant:u.smoothingTimeConstant};u=t(r,f)}return i.set(r,u),await n(a,r,u),u};return{render(a,r){const u=i.get(r);return u!==void 0?Promise.resolve(u):s(a,r)}}},Lf=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ss=()=>new DOMException("","IndexSizeError"),g1=t=>{t.getChannelData=(e=>n=>{try{return e.call(t,n)}catch(i){throw i.code===12?ss():i}})(t.getChannelData)},JJ={numberOfChannels:1},ZJ=(t,e,n,i,s,a,r,u)=>{let c=null;return class vk{constructor(h){if(s===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:d,numberOfChannels:g,sampleRate:E}={...JJ,...h};c===null&&(c=new s(1,1,44100));const v=i!==null&&e(a,a)?new i({length:d,numberOfChannels:g,sampleRate:E}):c.createBuffer(g,d,E);if(v.numberOfChannels===0)throw n();return typeof v.copyFromChannel!="function"?(r(v),g1(v)):e(Lf,()=>Lf(v))||u(v),t.add(v),v}static[Symbol.hasInstance](h){return h!==null&&typeof h=="object"&&Object.getPrototypeOf(h)===vk.prototype||t.has(h)}}},Xn=-34028234663852886e22,En=34028234663852886e22,ks=t=>hu.has(t),QJ={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},eZ=(t,e,n,i,s,a,r,u)=>class extends t{constructor(f,h){const d=a(f),g={...QJ,...h},E=s(d,g),v=r(d),S=v?e():null;super(f,!1,E,S),this._audioBufferSourceNodeRenderer=S,this._isBufferNullified=!1,this._isBufferSet=g.buffer!==null,this._nativeAudioBufferSourceNode=E,this._onended=null,this._playbackRate=n(this,v,E.playbackRate,En,Xn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(f){if(this._nativeAudioBufferSourceNode.buffer=f,f!==null){if(this._isBufferSet)throw i();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(f){this._nativeAudioBufferSourceNode.loop=f}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(f){this._nativeAudioBufferSourceNode.loopEnd=f}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(f){this._nativeAudioBufferSourceNode.loopStart=f}get onended(){return this._onended}set onended(f){const h=typeof f=="function"?u(this,f):null;this._nativeAudioBufferSourceNode.onended=h;const d=this._nativeAudioBufferSourceNode.onended;this._onended=d!==null&&d===h?f:d}get playbackRate(){return this._playbackRate}start(f=0,h=0,d){if(this._nativeAudioBufferSourceNode.start(f,h,d),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=d===void 0?[f,h]:[f,h,d]),this.context.state!=="closed"){pu(this);const g=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",g),ks(this)&&ql(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",g)}}stop(f=0){this._nativeAudioBufferSourceNode.stop(f),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=f)}},tZ=(t,e,n,i,s)=>()=>{const a=new WeakMap;let r=null,u=null;const c=async(f,h)=>{let d=n(f);const g=cn(d,h);if(!g){const E={buffer:d.buffer,channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,loop:d.loop,loopEnd:d.loopEnd,loopStart:d.loopStart,playbackRate:d.playbackRate.value};d=e(h,E),r!==null&&d.start(...r),u!==null&&d.stop(u)}return a.set(h,d),g?await t(h,f.playbackRate,d.playbackRate):await i(h,f.playbackRate,d.playbackRate),await s(f,h,d),d};return{set start(f){r=f},set stop(f){u=f},render(f,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):c(f,h)}}},rZ=t=>"playbackRate"in t,nZ=t=>"frequency"in t&&"gain"in t,iZ=t=>"offset"in t,sZ=t=>!("frequency"in t)&&"gain"in t,aZ=t=>"detune"in t&&"frequency"in t,oZ=t=>"pan"in t,Tn=t=>Ui(pk,t),Gl=t=>Ui(dk,t),Hv=(t,e)=>{const{activeInputs:n}=Tn(t);n.forEach(s=>s.forEach(([a])=>{e.includes(t)||Hv(a,[...e,t])}));const i=rZ(t)?[t.playbackRate]:Ek(t)?Array.from(t.parameters.values()):nZ(t)?[t.Q,t.detune,t.frequency,t.gain]:iZ(t)?[t.offset]:sZ(t)?[t.gain]:aZ(t)?[t.detune,t.frequency]:oZ(t)?[t.pan]:[];for(const s of i){const a=Gl(s);a!==void 0&&a.activeInputs.forEach(([r])=>Hv(r,e))}ks(t)&&ql(t)},yk=t=>{Hv(t.destination,[])},uZ=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),lZ=(t,e,n,i,s,a,r,u,c)=>class extends t{constructor(h={}){if(c===null)throw new Error("Missing the native AudioContext constructor.");let d;try{d=new c(h)}catch(v){throw v.code===12&&v.message==="sampleRate is not in range"?n():v}if(d===null)throw i();if(!uZ(h.latencyHint))throw new TypeError(`The provided value '${h.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(h.sampleRate!==void 0&&d.sampleRate!==h.sampleRate)throw n();super(d,2);const{latencyHint:g}=h,{sampleRate:E}=d;if(this._baseLatency=typeof d.baseLatency=="number"?d.baseLatency:g==="balanced"?512/E:g==="interactive"||g===void 0?256/E:g==="playback"?1024/E:Math.max(2,Math.min(128,Math.round(g*E/128)))*128/E,this._nativeAudioContext=d,c.name==="webkitAudioContext"?(this._nativeGainNode=d.createGain(),this._nativeOscillatorNode=d.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(d.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,d.state==="running"){this._state="suspended";const v=()=>{this._state==="suspended"&&(this._state=null),d.removeEventListener("statechange",v)};d.addEventListener("statechange",v)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),yk(this)}))}createMediaElementSource(h){return new s(this,{mediaElement:h})}createMediaStreamDestination(){return new a(this)}createMediaStreamSource(h){return new r(this,{mediaStream:h})}createMediaStreamTrackSource(h){return new u(this,{mediaStreamTrack:h})}resume(){return this._state==="suspended"?new Promise((h,d)=>{const g=()=>{this._nativeAudioContext.removeEventListener("statechange",g),this._nativeAudioContext.state==="running"?h():this.resume().then(h,d)};this._nativeAudioContext.addEventListener("statechange",g)}):this._nativeAudioContext.resume().catch(h=>{throw h===void 0||h.code===15?e():h})}suspend(){return this._nativeAudioContext.suspend().catch(h=>{throw h===void 0?e():h})}},cZ=(t,e,n,i,s,a,r,u)=>class extends t{constructor(f,h){const d=a(f),g=r(d),E=s(d,h,g),v=g?e(u):null;super(f,!1,E,v),this._isNodeOfNativeOfflineAudioContext=g,this._nativeAudioDestinationNode=E}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(f){if(this._isNodeOfNativeOfflineAudioContext)throw i();if(f>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=f}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(f){if(this._isNodeOfNativeOfflineAudioContext)throw i();this._nativeAudioDestinationNode.channelCountMode=f}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},fZ=t=>{const e=new WeakMap,n=async(i,s)=>{const a=s.destination;return e.set(s,a),await t(i,s,a),a};return{render(i,s){const a=e.get(s);return a!==void 0?Promise.resolve(a):n(i,s)}}},hZ=(t,e,n,i,s,a,r,u)=>(c,f)=>{const h=f.listener,d=()=>{const R=new Float32Array(1),_=e(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),L=r(f);let b=!1,O=[0,0,-1,0,1,0],k=[0,0,0];const j=()=>{if(b)return;b=!0;const G=i(f,256,9,0);G.onaudioprocess=({inputBuffer:re})=>{const ce=[a(re,R,0),a(re,R,1),a(re,R,2),a(re,R,3),a(re,R,4),a(re,R,5)];ce.some((we,Ae)=>we!==O[Ae])&&(h.setOrientation(...ce),O=ce);const he=[a(re,R,6),a(re,R,7),a(re,R,8)];he.some((we,Ae)=>we!==k[Ae])&&(h.setPosition(...he),k=he)},_.connect(G)},B=G=>re=>{re!==O[G]&&(O[G]=re,h.setOrientation(...O))},ae=G=>re=>{re!==k[G]&&(k[G]=re,h.setPosition(...k))},fe=(G,re,ce)=>{const he=n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:re});he.connect(_,0,G),he.start(),Object.defineProperty(he.offset,"defaultValue",{get(){return re}});const we=t({context:c},L,he.offset,En,Xn);return u(we,"value",Ae=>()=>Ae.call(we),Ae=>ye=>{try{Ae.call(we,ye)}catch(W){if(W.code!==9)throw W}j(),L&&ce(ye)}),we.cancelAndHoldAtTime=(Ae=>L?()=>{throw s()}:(...ye)=>{const W=Ae.apply(we,ye);return j(),W})(we.cancelAndHoldAtTime),we.cancelScheduledValues=(Ae=>L?()=>{throw s()}:(...ye)=>{const W=Ae.apply(we,ye);return j(),W})(we.cancelScheduledValues),we.exponentialRampToValueAtTime=(Ae=>L?()=>{throw s()}:(...ye)=>{const W=Ae.apply(we,ye);return j(),W})(we.exponentialRampToValueAtTime),we.linearRampToValueAtTime=(Ae=>L?()=>{throw s()}:(...ye)=>{const W=Ae.apply(we,ye);return j(),W})(we.linearRampToValueAtTime),we.setTargetAtTime=(Ae=>L?()=>{throw s()}:(...ye)=>{const W=Ae.apply(we,ye);return j(),W})(we.setTargetAtTime),we.setValueAtTime=(Ae=>L?()=>{throw s()}:(...ye)=>{const W=Ae.apply(we,ye);return j(),W})(we.setValueAtTime),we.setValueCurveAtTime=(Ae=>L?()=>{throw s()}:(...ye)=>{const W=Ae.apply(we,ye);return j(),W})(we.setValueCurveAtTime),we};return{forwardX:fe(0,0,B(0)),forwardY:fe(1,0,B(1)),forwardZ:fe(2,-1,B(2)),positionX:fe(6,0,ae(0)),positionY:fe(7,0,ae(1)),positionZ:fe(8,0,ae(2)),upX:fe(3,0,B(3)),upY:fe(4,1,B(4)),upZ:fe(5,0,B(5))}},{forwardX:g,forwardY:E,forwardZ:v,positionX:S,positionY:x,positionZ:A,upX:w,upY:I,upZ:C}=h.forwardX===void 0?d():h;return{get forwardX(){return g},get forwardY(){return E},get forwardZ(){return v},get positionX(){return S},get positionY(){return x},get positionZ(){return A},get upX(){return w},get upY(){return I},get upZ(){return C}}},wf=t=>"context"in t,jl=t=>wf(t[0]),ho=(t,e,n,i)=>{for(const s of t)if(n(s)){if(i)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},vI=(t,e,[n,i],s)=>{ho(t,[e,n,i],a=>a[0]===e&&a[1]===n,s)},yI=(t,[e,n,i],s)=>{const a=t.get(e);a===void 0?t.set(e,new Set([[n,i]])):ho(a,[n,i],r=>r[0]===n,s)},Su=t=>"inputs"in t,Of=(t,e,n,i)=>{if(Su(e)){const s=e.inputs[i];return t.connect(s,n,0),[s,n,0]}return t.connect(e,n,i),[e,n,i]},Tk=(t,e,n)=>{for(const i of t)if(i[0]===e&&i[1]===n)return t.delete(i),i;return null},pZ=(t,e,n)=>bh(t,i=>i[0]===e&&i[1]===n),bk=(t,e)=>{if(!Fl(t).delete(e))throw new Error("Missing the expected event listener.")},Rk=(t,e,n)=>{const i=Ui(t,e),s=bh(i,a=>a[0]===n);return i.size===0&&t.delete(e),s},If=(t,e,n,i)=>{Su(e)?t.disconnect(e.inputs[i],n,0):t.disconnect(e,n,i)},pr=t=>Ui(_1,t),Ol=t=>Ui(m1,t),oo=t=>Gv.has(t),pf=t=>!hu.has(t),TI=(t,e)=>new Promise(n=>{if(e!==null)n(!0);else{const i=t.createScriptProcessor(256,1,1),s=t.createGain(),a=t.createBuffer(1,2,44100),r=a.getChannelData(0);r[0]=1,r[1]=1;const u=t.createBufferSource();u.buffer=a,u.loop=!0,u.connect(i).connect(t.destination),u.connect(s),u.disconnect(s),i.onaudioprocess=c=>{const f=c.inputBuffer.getChannelData(0);Array.prototype.some.call(f,h=>h===1)?n(!0):n(!1),u.stop(),i.onaudioprocess=null,u.disconnect(i),i.disconnect(t.destination)},u.start()}}),lv=(t,e)=>{const n=new Map;for(const i of t)for(const s of i){const a=n.get(s);n.set(s,a===void 0?1:a+1)}n.forEach((i,s)=>e(s,i))},Nf=t=>"context"in t,dZ=t=>{const e=new Map;t.connect=(n=>(i,s=0,a=0)=>{const r=Nf(i)?n(i,s,a):n(i,s),u=e.get(i);return u===void 0?e.set(i,[{input:a,output:s}]):u.every(c=>c.input!==a||c.output!==s)&&u.push({input:a,output:s}),r})(t.connect.bind(t)),t.disconnect=(n=>(i,s,a)=>{if(n.apply(t),i===void 0)e.clear();else if(typeof i=="number")for(const[r,u]of e){const c=u.filter(f=>f.output!==i);c.length===0?e.delete(r):e.set(r,c)}else if(e.has(i))if(s===void 0)e.delete(i);else{const r=e.get(i);if(r!==void 0){const u=r.filter(c=>c.output!==s&&(c.input!==a||a===void 0));u.length===0?e.delete(i):e.set(i,u)}}for(const[r,u]of e)u.forEach(c=>{Nf(r)?t.connect(r,c.output,c.input):t.connect(r,c.output)})})(t.disconnect)},_Z=(t,e,n,i)=>{const{activeInputs:s,passiveInputs:a}=Gl(e),{outputs:r}=Tn(t),u=Fl(t),c=f=>{const h=pr(t),d=Ol(e);if(f){const g=Rk(a,t,n);vI(s,t,g,!1),!i&&!oo(t)&&h.connect(d,n)}else{const g=pZ(s,t,n);yI(a,g,!1),!i&&!oo(t)&&h.disconnect(d,n)}};return ho(r,[e,n],f=>f[0]===e&&f[1]===n,!0)?(u.add(c),ks(t)?vI(s,t,[n,c],!0):yI(a,[t,n,c],!0),!0):!1},mZ=(t,e,n,i)=>{const{activeInputs:s,passiveInputs:a}=Tn(e),r=Tk(s[i],t,n);return r===null?[gk(a,t,n,i)[2],!1]:[r[2],!0]},gZ=(t,e,n)=>{const{activeInputs:i,passiveInputs:s}=Gl(e),a=Tk(i,t,n);return a===null?[Rk(s,t,n)[1],!1]:[a[2],!0]},E1=(t,e,n,i,s)=>{const[a,r]=mZ(t,n,i,s);if(a!==null&&(bk(t,a),r&&!e&&!oo(t)&&If(pr(t),pr(n),i,s)),ks(n)){const{activeInputs:u}=Tn(n);Xv(n,u)}},v1=(t,e,n,i)=>{const[s,a]=gZ(t,n,i);s!==null&&(bk(t,s),a&&!e&&!oo(t)&&pr(t).disconnect(Ol(n),i))},EZ=(t,e)=>{const n=Tn(t),i=[];for(const s of n.outputs)jl(s)?E1(t,e,...s):v1(t,e,...s),i.push(s[0]);return n.outputs.clear(),i},vZ=(t,e,n)=>{const i=Tn(t),s=[];for(const a of i.outputs)a[1]===n&&(jl(a)?E1(t,e,...a):v1(t,e,...a),s.push(a[0]),i.outputs.delete(a));return s},yZ=(t,e,n,i,s)=>{const a=Tn(t);return Array.from(a.outputs).filter(r=>r[0]===n&&(i===void 0||r[1]===i)&&(s===void 0||r[2]===s)).map(r=>(jl(r)?E1(t,e,...r):v1(t,e,...r),a.outputs.delete(r),r[0]))},TZ=(t,e,n,i,s,a,r,u,c,f,h,d,g,E,v,S)=>class extends f{constructor(A,w,I,C){super(I),this._context=A,this._nativeAudioNode=I;const R=h(A);d(R)&&n(TI,()=>TI(R,S))!==!0&&dZ(I),_1.set(this,I),_k.set(this,new Set),A.state!=="closed"&&w&&pu(this),t(this,C,I)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(A){this._nativeAudioNode.channelCount=A}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(A){this._nativeAudioNode.channelCountMode=A}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(A){this._nativeAudioNode.channelInterpretation=A}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(A,w=0,I=0){if(w<0||w>=this._nativeAudioNode.numberOfOutputs)throw s();const C=h(this._context),R=v(C);if(g(A)||E(A))throw a();if(wf(A)){const b=pr(A);try{const k=Of(this._nativeAudioNode,b,w,I),j=pf(this);(R||j)&&this._nativeAudioNode.disconnect(...k),this.context.state!=="closed"&&!j&&pf(A)&&pu(A)}catch(k){throw k.code===12?a():k}if(e(this,A,w,I,R)){const k=c([this],A);lv(k,i(R))}return A}const _=Ol(A);if(_.name==="playbackRate"&&_.maxValue===1024)throw r();try{this._nativeAudioNode.connect(_,w),(R||pf(this))&&this._nativeAudioNode.disconnect(_,w)}catch(b){throw b.code===12?a():b}if(_Z(this,A,w,R)){const b=c([this],A);lv(b,i(R))}}disconnect(A,w,I){let C;const R=h(this._context),_=v(R);if(A===void 0)C=EZ(this,_);else if(typeof A=="number"){if(A<0||A>=this.numberOfOutputs)throw s();C=vZ(this,_,A)}else{if(w!==void 0&&(w<0||w>=this.numberOfOutputs)||wf(A)&&I!==void 0&&(I<0||I>=A.numberOfInputs))throw s();if(C=yZ(this,_,A,w,I),C.length===0)throw a()}for(const L of C){const b=c([this],L);lv(b,u)}}},bZ=(t,e,n,i,s,a,r,u,c,f,h,d,g)=>(E,v,S,x=null,A=null)=>{const w=S.value,I=new NJ(w),C=v?i(I):null,R={get defaultValue(){return w},get maxValue(){return x===null?S.maxValue:x},get minValue(){return A===null?S.minValue:A},get value(){return S.value},set value(_){S.value=_,R.setValueAtTime(_,E.context.currentTime)},cancelAndHoldAtTime(_){if(typeof S.cancelAndHoldAtTime=="function")C===null&&I.flush(E.context.currentTime),I.add(s(_)),S.cancelAndHoldAtTime(_);else{const L=Array.from(I).pop();C===null&&I.flush(E.context.currentTime),I.add(s(_));const b=Array.from(I).pop();S.cancelScheduledValues(_),L!==b&&b!==void 0&&(b.type==="exponentialRampToValue"?S.exponentialRampToValueAtTime(b.value,b.endTime):b.type==="linearRampToValue"?S.linearRampToValueAtTime(b.value,b.endTime):b.type==="setValue"?S.setValueAtTime(b.value,b.startTime):b.type==="setValueCurve"&&S.setValueCurveAtTime(b.values,b.startTime,b.duration))}return R},cancelScheduledValues(_){return C===null&&I.flush(E.context.currentTime),I.add(a(_)),S.cancelScheduledValues(_),R},exponentialRampToValueAtTime(_,L){if(_===0)throw new RangeError;if(!Number.isFinite(L)||L<0)throw new RangeError;const b=E.context.currentTime;return C===null&&I.flush(b),Array.from(I).length===0&&(I.add(f(w,b)),S.setValueAtTime(w,b)),I.add(r(_,L)),S.exponentialRampToValueAtTime(_,L),R},linearRampToValueAtTime(_,L){const b=E.context.currentTime;return C===null&&I.flush(b),Array.from(I).length===0&&(I.add(f(w,b)),S.setValueAtTime(w,b)),I.add(u(_,L)),S.linearRampToValueAtTime(_,L),R},setTargetAtTime(_,L,b){return C===null&&I.flush(E.context.currentTime),I.add(c(_,L,b)),S.setTargetAtTime(_,L,b),R},setValueAtTime(_,L){return C===null&&I.flush(E.context.currentTime),I.add(f(_,L)),S.setValueAtTime(_,L),R},setValueCurveAtTime(_,L,b){const O=_ instanceof Float32Array?_:new Float32Array(_);if(d!==null&&d.name==="webkitAudioContext"){const k=L+b,j=E.context.sampleRate,B=Math.ceil(L*j),ae=Math.floor(k*j),fe=ae-B,G=new Float32Array(fe);for(let ce=0;ce<fe;ce+=1){const he=(O.length-1)/b*((B+ce)/j-L),we=Math.floor(he),Ae=Math.ceil(he);G[ce]=we===Ae?O[we]:(1-(he-we))*O[we]+(1-(Ae-he))*O[Ae]}C===null&&I.flush(E.context.currentTime),I.add(h(G,L,b)),S.setValueCurveAtTime(G,L,b);const re=ae/j;re<k&&g(R,G[G.length-1],re),g(R,O[O.length-1],k)}else C===null&&I.flush(E.context.currentTime),I.add(h(O,L,b)),S.setValueCurveAtTime(O,L,b);return R}};return n.set(R,S),e.set(R,E),t(R,C),R},RZ=t=>({replay(e){for(const n of t)if(n.type==="exponentialRampToValue"){const{endTime:i,value:s}=n;e.exponentialRampToValueAtTime(s,i)}else if(n.type==="linearRampToValue"){const{endTime:i,value:s}=n;e.linearRampToValueAtTime(s,i)}else if(n.type==="setTarget"){const{startTime:i,target:s,timeConstant:a}=n;e.setTargetAtTime(s,i,a)}else if(n.type==="setValue"){const{startTime:i,value:s}=n;e.setValueAtTime(s,i)}else if(n.type==="setValueCurve"){const{duration:i,startTime:s,values:a}=n;e.setValueCurveAtTime(a,s,i)}else throw new Error("Can't apply an unknown automation.")}});class xk{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,n=null){return this._map.forEach((i,s)=>e.call(n,i,s,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const xZ={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},SZ=(t,e,n,i,s,a,r,u,c,f,h,d,g,E)=>class extends e{constructor(S,x,A){var w;const I=u(S),C=c(I),R=h({...xZ,...A});g(R);const _=jv.get(I),L=_==null?void 0:_.get(x),b=C||I.state!=="closed"?I:(w=r(I))!==null&&w!==void 0?w:I,O=s(b,C?null:S.baseLatency,f,x,L,R),k=C?i(x,R,L):null;super(S,!0,O,k);const j=[];O.parameters.forEach((ae,fe)=>{const G=n(this,C,ae);j.push([fe,G])}),this._nativeAudioWorkletNode=O,this._onprocessorerror=null,this._parameters=new xk(j),C&&t(I,this);const{activeInputs:B}=a(this);d(O,B)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(S){const x=typeof S=="function"?E(this,S):null;this._nativeAudioWorkletNode.onprocessorerror=x;const A=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=A!==null&&A===x?S:A}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Pf(t,e,n,i,s){if(typeof t.copyFromChannel=="function")e[n].byteLength===0&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],i,s);else{const a=t.getChannelData(i);if(e[n].byteLength===0)e[n]=a.slice(s,s+128);else{const r=new Float32Array(a.buffer,s*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(r)}}}const Sk=(t,e,n,i,s)=>{typeof t.copyToChannel=="function"?e[n].byteLength!==0&&t.copyToChannel(e[n],i,s):e[n].byteLength!==0&&t.getChannelData(i).set(e[n],s)},kf=(t,e)=>{const n=[];for(let i=0;i<t;i+=1){const s=[],a=typeof e=="number"?e:e[i];for(let r=0;r<a;r+=1)s.push(new Float32Array(128));n.push(s)}return n},CZ=(t,e)=>{const n=Ui(Wv,t),i=pr(e);return Ui(n,i)},AZ=async(t,e,n,i,s,a,r)=>{const u=e===null?Math.ceil(t.context.length/128)*128:e.length,c=i.channelCount*i.numberOfInputs,f=s.reduce((x,A)=>x+A,0),h=f===0?null:n.createBuffer(f,u,n.sampleRate);if(a===void 0)throw new Error("Missing the processor constructor.");const d=Tn(t),g=await CZ(n,t),E=kf(i.numberOfInputs,i.channelCount),v=kf(i.numberOfOutputs,s),S=Array.from(t.parameters.keys()).reduce((x,A)=>({...x,[A]:new Float32Array(128)}),{});for(let x=0;x<u;x+=128){if(i.numberOfInputs>0&&e!==null)for(let A=0;A<i.numberOfInputs;A+=1)for(let w=0;w<i.channelCount;w+=1)Pf(e,E[A],w,w,x);a.parameterDescriptors!==void 0&&e!==null&&a.parameterDescriptors.forEach(({name:A},w)=>{Pf(e,S,A,c+w,x)});for(let A=0;A<i.numberOfInputs;A+=1)for(let w=0;w<s[A];w+=1)v[A][w].byteLength===0&&(v[A][w]=new Float32Array(128));try{const A=E.map((I,C)=>d.activeInputs[C].size===0?[]:I),w=r(x/n.sampleRate,n.sampleRate,()=>g.process(A,v,S));if(h!==null)for(let I=0,C=0;I<i.numberOfOutputs;I+=1){for(let R=0;R<s[I];R+=1)Sk(h,v[I],R,C+R,x);C+=s[I]}if(!w)break}catch(A){t.dispatchEvent(new ErrorEvent("processorerror",{colno:A.colno,filename:A.filename,lineno:A.lineno,message:A.message}));break}}return h},LZ=(t,e,n,i,s,a,r,u,c,f,h,d,g,E,v,S)=>(x,A,w)=>{const I=new WeakMap;let C=null;const R=async(_,L)=>{let b=h(_),O=null;const k=cn(b,L),j=Array.isArray(A.outputChannelCount)?A.outputChannelCount:Array.from(A.outputChannelCount);if(d===null){const B=j.reduce((re,ce)=>re+ce,0),ae=s(L,{channelCount:Math.max(1,B),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,B)}),fe=[];for(let re=0;re<_.numberOfOutputs;re+=1)fe.push(i(L,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:j[re]}));const G=r(L,{channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,gain:1});G.connect=e.bind(null,fe),G.disconnect=c.bind(null,fe),O=[ae,fe,G]}else k||(b=new d(L,x));if(I.set(L,O===null?b:O[2]),O!==null){if(C===null){if(w===void 0)throw new Error("Missing the processor constructor.");if(g===null)throw new Error("Missing the native OfflineAudioContext constructor.");const ce=_.channelCount*_.numberOfInputs,he=w.parameterDescriptors===void 0?0:w.parameterDescriptors.length,we=ce+he;C=AZ(_,we===0?null:await(async()=>{const ye=new g(we,Math.ceil(_.context.length/128)*128,L.sampleRate),W=[],pe=[];for(let ot=0;ot<A.numberOfInputs;ot+=1)W.push(r(ye,{channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation,gain:1})),pe.push(s(ye,{channelCount:A.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:A.channelCount}));const He=await Promise.all(Array.from(_.parameters.values()).map(async ot=>{const xt=a(ye,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:ot.value});return await E(ye,ot,xt.offset),xt})),je=i(ye,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,ce+he)});for(let ot=0;ot<A.numberOfInputs;ot+=1){W[ot].connect(pe[ot]);for(let xt=0;xt<A.channelCount;xt+=1)pe[ot].connect(je,xt,ot*A.channelCount+xt)}for(const[ot,xt]of He.entries())xt.connect(je,0,ce+ot),xt.start(0);return je.connect(ye.destination),await Promise.all(W.map(ot=>v(_,ye,ot))),S(ye)})(),L,A,j,w,f)}const B=await C,ae=n(L,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[fe,G,re]=O;B!==null&&(ae.buffer=B,ae.start(0)),ae.connect(fe);for(let ce=0,he=0;ce<_.numberOfOutputs;ce+=1){const we=G[ce];for(let Ae=0;Ae<j[ce];Ae+=1)fe.connect(we,he+Ae,Ae);he+=j[ce]}return re}if(k)for(const[B,ae]of _.parameters.entries())await t(L,ae,b.parameters.get(B));else for(const[B,ae]of _.parameters.entries())await E(L,ae,b.parameters.get(B));return await v(_,L,b),b};return{render(_,L){u(L,_);const b=I.get(L);return b!==void 0?Promise.resolve(b):R(_,L)}}},wZ=(t,e,n,i,s,a,r,u,c,f,h,d,g,E,v,S,x,A,w,I)=>class extends v{constructor(R,_){super(R,_),this._nativeContext=R,this._audioWorklet=t===void 0?void 0:{addModule:(L,b)=>t(this,L,b)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new s(this)}createBuffer(R,_,L){return new n({length:_,numberOfChannels:R,sampleRate:L})}createBufferSource(){return new i(this)}createChannelMerger(R=6){return new a(this,{numberOfInputs:R})}createChannelSplitter(R=6){return new r(this,{numberOfOutputs:R})}createConstantSource(){return new u(this)}createConvolver(){return new c(this)}createDelay(R=1){return new h(this,{maxDelayTime:R})}createDynamicsCompressor(){return new d(this)}createGain(){return new g(this)}createIIRFilter(R,_){return new E(this,{feedback:_,feedforward:R})}createOscillator(){return new S(this)}createPanner(){return new x(this)}createPeriodicWave(R,_,L={disableNormalization:!1}){return new A(this,{...L,imag:_,real:R})}createStereoPanner(){return new w(this)}createWaveShaper(){return new I(this)}decodeAudioData(R,_,L){return f(this._nativeContext,R).then(b=>(typeof _=="function"&&_(b),b),b=>{throw typeof L=="function"&&L(b),b})}},OZ={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},IZ=(t,e,n,i,s,a,r,u)=>class extends t{constructor(f,h){const d=a(f),g={...OZ,...h},E=s(d,g),v=r(d),S=v?n():null;super(f,!1,E,S),this._Q=e(this,v,E.Q,En,Xn),this._detune=e(this,v,E.detune,1200*Math.log2(En),-1200*Math.log2(En)),this._frequency=e(this,v,E.frequency,f.sampleRate/2,0),this._gain=e(this,v,E.gain,40*Math.log10(En),Xn),this._nativeBiquadFilterNode=E,u(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(f){this._nativeBiquadFilterNode.type=f}getFrequencyResponse(f,h,d){try{this._nativeBiquadFilterNode.getFrequencyResponse(f,h,d)}catch(g){throw g.code===11?i():g}if(f.length!==h.length||h.length!==d.length)throw i()}},NZ=(t,e,n,i,s)=>()=>{const a=new WeakMap,r=async(u,c)=>{let f=n(u);const h=cn(f,c);if(!h){const d={Q:f.Q.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,gain:f.gain.value,type:f.type};f=e(c,d)}return a.set(c,f),h?(await t(c,u.Q,f.Q),await t(c,u.detune,f.detune),await t(c,u.frequency,f.frequency),await t(c,u.gain,f.gain)):(await i(c,u.Q,f.Q),await i(c,u.detune,f.detune),await i(c,u.frequency,f.frequency),await i(c,u.gain,f.gain)),await s(u,c,f),f};return{render(u,c){const f=a.get(c);return f!==void 0?Promise.resolve(f):r(u,c)}}},PZ=(t,e)=>(n,i)=>{const s=e.get(n);if(s!==void 0)return s;const a=t.get(n);if(a!==void 0)return a;try{const r=i();return r instanceof Promise?(t.set(n,r),r.catch(()=>!1).then(u=>(t.delete(n),e.set(n,u),u))):(e.set(n,r),r)}catch{return e.set(n,!1),!1}},kZ={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},DZ=(t,e,n,i,s)=>class extends t{constructor(r,u){const c=i(r),f={...kZ,...u},h=n(c,f),d=s(c)?e():null;super(r,!1,h,d)}},BZ=(t,e,n)=>()=>{const i=new WeakMap,s=async(a,r)=>{let u=e(a);if(!cn(u,r)){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,numberOfInputs:u.numberOfInputs};u=t(r,f)}return i.set(r,u),await n(a,r,u),u};return{render(a,r){const u=i.get(r);return u!==void 0?Promise.resolve(u):s(a,r)}}},UZ={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},MZ=(t,e,n,i,s,a)=>class extends t{constructor(u,c){const f=i(u),h=a({...UZ,...c}),d=n(f,h),g=s(f)?e():null;super(u,!1,d,g)}},KZ=(t,e,n)=>()=>{const i=new WeakMap,s=async(a,r)=>{let u=e(a);if(!cn(u,r)){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,numberOfOutputs:u.numberOfOutputs};u=t(r,f)}return i.set(r,u),await n(a,r,u),u};return{render(a,r){const u=i.get(r);return u!==void 0?Promise.resolve(u):s(a,r)}}},$Z=t=>(e,n,i)=>t(n,e,i),VZ=t=>(e,n,i=0,s=0)=>{const a=e[i];if(a===void 0)throw t();return Nf(n)?a.connect(n,0,s):a.connect(n,0)},FZ=t=>(e,n)=>{const i=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),s=e.createBuffer(1,2,44100);return i.buffer=s,i.loop=!0,i.connect(n),i.start(),()=>{i.stop(),i.disconnect(n)}},qZ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},GZ=(t,e,n,i,s,a,r)=>class extends t{constructor(c,f){const h=s(c),d={...qZ,...f},g=i(h,d),E=a(h),v=E?n():null;super(c,!1,g,v),this._constantSourceNodeRenderer=v,this._nativeConstantSourceNode=g,this._offset=e(this,E,g.offset,En,Xn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(c){const f=typeof c=="function"?r(this,c):null;this._nativeConstantSourceNode.onended=f;const h=this._nativeConstantSourceNode.onended;this._onended=h!==null&&h===f?c:h}start(c=0){if(this._nativeConstantSourceNode.start(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=c),this.context.state!=="closed"){pu(this);const f=()=>{this._nativeConstantSourceNode.removeEventListener("ended",f),ks(this)&&ql(this)};this._nativeConstantSourceNode.addEventListener("ended",f)}}stop(c=0){this._nativeConstantSourceNode.stop(c),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=c)}},jZ=(t,e,n,i,s)=>()=>{const a=new WeakMap;let r=null,u=null;const c=async(f,h)=>{let d=n(f);const g=cn(d,h);if(!g){const E={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,offset:d.offset.value};d=e(h,E),r!==null&&d.start(r),u!==null&&d.stop(u)}return a.set(h,d),g?await t(h,f.offset,d.offset):await i(h,f.offset,d.offset),await s(f,h,d),d};return{set start(f){r=f},set stop(f){u=f},render(f,h){const d=a.get(h);return d!==void 0?Promise.resolve(d):c(f,h)}}},WZ=t=>e=>(t[0]=e,t[0]),XZ={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},HZ=(t,e,n,i,s,a)=>class extends t{constructor(u,c){const f=i(u),h={...XZ,...c},d=n(f,h),E=s(f)?e():null;super(u,!1,d,E),this._isBufferNullified=!1,this._nativeConvolverNode=d,h.buffer!==null&&a(this,h.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(u){if(this._nativeConvolverNode.buffer=u,u===null&&this._nativeConvolverNode.buffer!==null){const c=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=c.createBuffer(1,1,c.sampleRate),this._isBufferNullified=!0,a(this,0)}else this._isBufferNullified=!1,a(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(u){this._nativeConvolverNode.normalize=u}},YZ=(t,e,n)=>()=>{const i=new WeakMap,s=async(a,r)=>{let u=e(a);if(!cn(u,r)){const f={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,disableNormalization:!u.normalize};u=t(r,f)}return i.set(r,u),Su(u)?await n(a,r,u.inputs[0]):await n(a,r,u),u};return{render(a,r){const u=i.get(r);return u!==void 0?Promise.resolve(u):s(a,r)}}},zZ=(t,e)=>(n,i,s)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,i,s)}catch(a){throw a.name==="SyntaxError"?t():a}},JZ=()=>new DOMException("","DataCloneError"),bI=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise(i=>{const s=()=>{n.onmessage=null,e.close(),n.close(),i()};n.onmessage=()=>s();try{e.postMessage(t,[t])}catch{}finally{s()}})},ZZ=(t,e,n,i,s,a,r,u,c,f,h)=>(d,g)=>{const E=r(d)?d:a(d);if(s.has(g)){const v=n();return Promise.reject(v)}try{s.add(g)}catch{}return e(c,()=>c(E))?E.decodeAudioData(g).then(v=>(bI(g).catch(()=>{}),e(u,()=>u(v))||h(v),t.add(v),v)):new Promise((v,S)=>{const x=async()=>{try{await bI(g)}catch{}},A=w=>{S(w),x()};try{E.decodeAudioData(g,w=>{typeof w.copyFromChannel!="function"&&(f(w),g1(w)),t.add(w),x().then(()=>v(w))},w=>{A(w===null?i():w)})}catch(w){A(w)}})},QZ=(t,e,n,i,s,a,r,u)=>(c,f)=>{const h=e.get(c);if(h===void 0)throw new Error("Missing the expected cycle count.");const d=a(c.context),g=u(d);if(h===f){if(e.delete(c),!g&&r(c)){const E=i(c),{outputs:v}=n(c);for(const S of v)if(jl(S)){const x=i(S[0]);t(E,x,S[1],S[2])}else{const x=s(S[0]);E.connect(x,S[1])}}}else e.set(c,h-f)},eQ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},tQ=(t,e,n,i,s,a,r)=>class extends t{constructor(c,f){const h=s(c),d={...eQ,...f},g=i(h,d),E=a(h),v=E?n(d.maxDelayTime):null;super(c,!1,g,v),this._delayTime=e(this,E,g.delayTime),r(this,d.maxDelayTime)}get delayTime(){return this._delayTime}},rQ=(t,e,n,i,s)=>a=>{const r=new WeakMap,u=async(c,f)=>{let h=n(c);const d=cn(h,f);if(!d){const g={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,delayTime:h.delayTime.value,maxDelayTime:a};h=e(f,g)}return r.set(f,h),d?await t(f,c.delayTime,h.delayTime):await i(f,c.delayTime,h.delayTime),await s(c,f,h),h};return{render(c,f){const h=r.get(f);return h!==void 0?Promise.resolve(h):u(c,f)}}},nQ=t=>(e,n,i,s)=>t(e[s],a=>a[0]===n&&a[1]===i),iQ=t=>(e,n)=>{t(e).delete(n)},sQ=t=>"delayTime"in t,aQ=(t,e,n)=>function i(s,a){const r=wf(a)?a:n(t,a);if(sQ(r))return[];if(s[0]===r)return[s];if(s.includes(r))return[];const{outputs:u}=e(r);return Array.from(u).map(c=>i([...s,r],c[0])).reduce((c,f)=>c.concat(f),[])},rf=(t,e,n)=>{const i=e[n];if(i===void 0)throw t();return i},oQ=t=>(e,n=void 0,i=void 0,s=0)=>n===void 0?e.forEach(a=>a.disconnect()):typeof n=="number"?rf(t,e,n).disconnect():Nf(n)?i===void 0?e.forEach(a=>a.disconnect(n)):s===void 0?rf(t,e,i).disconnect(n,0):rf(t,e,i).disconnect(n,0,s):i===void 0?e.forEach(a=>a.disconnect(n)):rf(t,e,i).disconnect(n,0),uQ={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},lQ=(t,e,n,i,s,a,r,u)=>class extends t{constructor(f,h){const d=a(f),g={...uQ,...h},E=i(d,g),v=r(d),S=v?n():null;super(f,!1,E,S),this._attack=e(this,v,E.attack),this._knee=e(this,v,E.knee),this._nativeDynamicsCompressorNode=E,this._ratio=e(this,v,E.ratio),this._release=e(this,v,E.release),this._threshold=e(this,v,E.threshold),u(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(f){const h=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=f,f>2)throw this._nativeDynamicsCompressorNode.channelCount=h,s()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(f){const h=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=f,f==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=h,s()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},cQ=(t,e,n,i,s)=>()=>{const a=new WeakMap,r=async(u,c)=>{let f=n(u);const h=cn(f,c);if(!h){const d={attack:f.attack.value,channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,knee:f.knee.value,ratio:f.ratio.value,release:f.release.value,threshold:f.threshold.value};f=e(c,d)}return a.set(c,f),h?(await t(c,u.attack,f.attack),await t(c,u.knee,f.knee),await t(c,u.ratio,f.ratio),await t(c,u.release,f.release),await t(c,u.threshold,f.threshold)):(await i(c,u.attack,f.attack),await i(c,u.knee,f.knee),await i(c,u.ratio,f.ratio),await i(c,u.release,f.release),await i(c,u.threshold,f.threshold)),await s(u,c,f),f};return{render(u,c){const f=a.get(c);return f!==void 0?Promise.resolve(f):r(u,c)}}},fQ=()=>new DOMException("","EncodingError"),hQ=t=>e=>new Promise((n,i)=>{if(t===null){i(new SyntaxError);return}const s=t.document.head;if(s===null)i(new SyntaxError);else{const a=t.document.createElement("script"),r=new Blob([e],{type:"application/javascript"}),u=URL.createObjectURL(r),c=t.onerror,f=()=>{t.onerror=c,URL.revokeObjectURL(u)};t.onerror=(h,d,g,E,v)=>{if(d===u||d===t.location.href&&g===1&&E===1)return f(),i(v),!1;if(c!==null)return c(h,d,g,E,v)},a.onerror=()=>{f(),i(new SyntaxError)},a.onload=()=>{f(),n()},a.src=u,a.type="module",s.appendChild(a)}}),pQ=t=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,i,s){if(i!==null){let a=this._listeners.get(i);a===void 0&&(a=t(this,i),typeof i=="function"&&this._listeners.set(i,a)),this._nativeEventTarget.addEventListener(n,a,s)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,i,s){const a=i===null?void 0:this._listeners.get(i);this._nativeEventTarget.removeEventListener(n,a===void 0?null:a,s)}},dQ=t=>(e,n,i)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*n)}},currentTime:{configurable:!0,get(){return e}}});try{return i()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},_Q=t=>async e=>{try{const n=await fetch(e);if(n.ok)return[await n.text(),n.url]}catch{}throw t()},mQ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},gQ=(t,e,n,i,s,a)=>class extends t{constructor(u,c){const f=s(u),h={...mQ,...c},d=i(f,h),g=a(f),E=g?n():null;super(u,!1,d,E),this._gain=e(this,g,d.gain,En,Xn)}get gain(){return this._gain}},EQ=(t,e,n,i,s)=>()=>{const a=new WeakMap,r=async(u,c)=>{let f=n(u);const h=cn(f,c);if(!h){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,gain:f.gain.value};f=e(c,d)}return a.set(c,f),h?await t(c,u.gain,f.gain):await i(c,u.gain,f.gain),await s(u,c,f),f};return{render(u,c){const f=a.get(c);return f!==void 0?Promise.resolve(f):r(u,c)}}},vQ=(t,e)=>n=>e(t,n),yQ=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},TQ=t=>e=>{var n;return(n=t.get(e))!==null&&n!==void 0?n:0},bQ=t=>e=>{const n=t(e);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},RQ=t=>e=>t.get(e),Hr=()=>new DOMException("","InvalidStateError"),xQ=t=>e=>{const n=t.get(e);if(n===void 0)throw Hr();return n},SQ=(t,e)=>n=>{let i=t.get(n);if(i!==void 0)return i;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return i=new e(1,1,44100),t.set(n,i),i},CQ=t=>e=>{const n=t.get(e);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},Rh=()=>new DOMException("","InvalidAccessError"),AQ=t=>{t.getFrequencyResponse=(e=>(n,i,s)=>{if(n.length!==i.length||i.length!==s.length)throw Rh();return e.call(t,n,i,s)})(t.getFrequencyResponse)},LQ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},wQ=(t,e,n,i,s,a)=>class extends t{constructor(u,c){const f=i(u),h=s(f),d={...LQ,...c},g=e(f,h?null:u.baseLatency,d),E=h?n(d.feedback,d.feedforward):null;super(u,!1,g,E),AQ(g),this._nativeIIRFilterNode=g,a(this,1)}getFrequencyResponse(u,c,f){return this._nativeIIRFilterNode.getFrequencyResponse(u,c,f)}},Ck=(t,e,n,i,s,a,r,u,c,f,h)=>{const d=f.length;let g=u;for(let E=0;E<d;E+=1){let v=n[0]*f[E];for(let S=1;S<s;S+=1){const x=g-S&c-1;v+=n[S]*a[x],v-=t[S]*r[x]}for(let S=s;S<i;S+=1)v+=n[S]*a[g-S&c-1];for(let S=s;S<e;S+=1)v-=t[S]*r[g-S&c-1];a[g]=f[E],r[g]=v,g=g+1&c-1,h[E]=v}return g},OQ=(t,e,n,i)=>{const s=n instanceof Float64Array?n:new Float64Array(n),a=i instanceof Float64Array?i:new Float64Array(i),r=s.length,u=a.length,c=Math.min(r,u);if(s[0]!==1){for(let v=0;v<r;v+=1)a[v]/=s[0];for(let v=1;v<u;v+=1)s[v]/=s[0]}const f=32,h=new Float32Array(f),d=new Float32Array(f),g=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),E=t.numberOfChannels;for(let v=0;v<E;v+=1){const S=t.getChannelData(v),x=g.getChannelData(v);h.fill(0),d.fill(0),Ck(s,r,a,u,c,h,d,0,f,S,x)}return g},IQ=(t,e,n,i,s)=>(a,r)=>{const u=new WeakMap;let c=null;const f=async(h,d)=>{let g=null,E=e(h);const v=cn(E,d);if(d.createIIRFilter===void 0?g=t(d,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):v||(E=d.createIIRFilter(r,a)),u.set(d,g===null?E:g),g!==null){if(c===null){if(n===null)throw new Error("Missing the native OfflineAudioContext constructor.");const x=new n(h.context.destination.channelCount,h.context.length,d.sampleRate);c=(async()=>{await i(h,x,x.destination);const A=await s(x);return OQ(A,d,a,r)})()}const S=await c;return g.buffer=S,g.start(0),g}return await i(h,d,E),E};return{render(h,d){const g=u.get(d);return g!==void 0?Promise.resolve(g):f(h,d)}}},NQ=(t,e,n,i,s,a)=>r=>(u,c)=>{const f=t.get(u);if(f===void 0){if(!r&&a(u)){const h=i(u),{outputs:d}=n(u);for(const g of d)if(jl(g)){const E=i(g[0]);e(h,E,g[1],g[2])}else{const E=s(g[0]);h.disconnect(E,g[1])}}t.set(u,c)}else t.set(u,f+c)},PQ=(t,e)=>n=>{const i=t.get(n);return e(i)||e(n)},kQ=(t,e)=>n=>t.has(n)||e(n),DQ=(t,e)=>n=>t.has(n)||e(n),BQ=(t,e)=>n=>{const i=t.get(n);return e(i)||e(n)},UQ=t=>e=>t!==null&&e instanceof t,MQ=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,KQ=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,$Q=(t,e)=>n=>t(n)||e(n),VQ=t=>e=>t!==null&&e instanceof t,FQ=t=>t!==null&&t.isSecureContext,qQ=(t,e,n,i)=>class extends t{constructor(a,r){const u=n(a),c=e(u,r);if(i(u))throw TypeError();super(a,!0,c,null),this._nativeMediaElementAudioSourceNode=c}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},GQ={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},jQ=(t,e,n,i)=>class extends t{constructor(a,r){const u=n(a);if(i(u))throw new TypeError;const c={...GQ,...r},f=e(u,c);super(a,!1,f,null),this._nativeMediaStreamAudioDestinationNode=f}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},WQ=(t,e,n,i)=>class extends t{constructor(a,r){const u=n(a),c=e(u,r);if(i(u))throw new TypeError;super(a,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},XQ=(t,e,n)=>class extends t{constructor(s,a){const r=n(s),u=e(r,a);super(s,!0,u,null)}},HQ=(t,e,n,i,s,a)=>class extends n{constructor(u,c){super(u),this._nativeContext=u,Th.set(this,u),i(u)&&s.set(u,new Set),this._destination=new t(this,c),this._listener=e(this,u),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(u){const c=typeof u=="function"?a(this,u):null;this._nativeContext.onstatechange=c;const f=this._nativeContext.onstatechange;this._onstatechange=f!==null&&f===c?u:f}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Il=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},YQ=(t,e)=>(n,i,s)=>{const a=new Set;return n.connect=(r=>(u,c=0,f=0)=>{const h=a.size===0;if(e(u))return r.call(n,u,c,f),t(a,[u,c,f],d=>d[0]===u&&d[1]===c&&d[2]===f,!0),h&&i(),u;r.call(n,u,c),t(a,[u,c],d=>d[0]===u&&d[1]===c,!0),h&&i()})(n.connect),n.disconnect=(r=>(u,c,f)=>{const h=a.size>0;if(u===void 0)r.apply(n),a.clear();else if(typeof u=="number"){r.call(n,u);for(const g of a)g[1]===u&&a.delete(g)}else{e(u)?r.call(n,u,c,f):r.call(n,u,c);for(const g of a)g[0]===u&&(c===void 0||g[1]===c)&&(f===void 0||g[2]===f)&&a.delete(g)}const d=a.size===0;h&&d&&s()})(n.disconnect),n},mr=(t,e,n)=>{const i=e[n];i!==void 0&&i!==t[n]&&(t[n]=i)},Fr=(t,e)=>{mr(t,e,"channelCount"),mr(t,e,"channelCountMode"),mr(t,e,"channelInterpretation")},RI=t=>typeof t.getFloatTimeDomainData=="function",zQ=t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const i=Math.max(n.length,t.fftSize);for(let s=0;s<i;s+=1)e[s]=(n[s]-128)*.0078125;return e}},JQ=(t,e)=>(n,i)=>{const s=n.createAnalyser();if(Fr(s,i),!(i.maxDecibels>i.minDecibels))throw e();return mr(s,i,"fftSize"),mr(s,i,"maxDecibels"),mr(s,i,"minDecibels"),mr(s,i,"smoothingTimeConstant"),t(RI,()=>RI(s))||zQ(s),s},ZQ=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,Cr=(t,e,n)=>{const i=e[n];i!==void 0&&i!==t[n].value&&(t[n].value=i)},QQ=t=>{t.start=(e=>{let n=!1;return(i=0,s=0,a)=>{if(n)throw Hr();e.call(t,i,s,a),n=!0}})(t.start)},y1=t=>{t.start=(e=>(n=0,i=0,s)=>{if(typeof s=="number"&&s<0||i<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,i,s)})(t.start)},T1=t=>{t.stop=(e=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})(t.stop)},eee=(t,e,n,i,s,a,r,u,c,f,h)=>(d,g)=>{const E=d.createBufferSource();return Fr(E,g),Cr(E,g,"playbackRate"),mr(E,g,"buffer"),mr(E,g,"loop"),mr(E,g,"loopEnd"),mr(E,g,"loopStart"),e(n,()=>n(d))||QQ(E),e(i,()=>i(d))||c(E),e(s,()=>s(d))||f(E,d),e(a,()=>a(d))||y1(E),e(r,()=>r(d))||h(E,d),e(u,()=>u(d))||T1(E),t(d,E),E},tee=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,ree=(t,e)=>(n,i,s)=>{const a=n.destination;if(a.channelCount!==i)try{a.channelCount=i}catch{}s&&a.channelCountMode!=="explicit"&&(a.channelCountMode="explicit"),a.maxChannelCount===0&&Object.defineProperty(a,"maxChannelCount",{value:i});const r=t(n,{channelCount:i,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,gain:1});return e(r,"channelCount",u=>()=>u.call(r),u=>c=>{u.call(r,c);try{a.channelCount=c}catch(f){if(c>a.maxChannelCount)throw f}}),e(r,"channelCountMode",u=>()=>u.call(r),u=>c=>{u.call(r,c),a.channelCountMode=c}),e(r,"channelInterpretation",u=>()=>u.call(r),u=>c=>{u.call(r,c),a.channelInterpretation=c}),Object.defineProperty(r,"maxChannelCount",{get:()=>a.maxChannelCount}),r.connect(a),r},nee=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,iee=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},see=(t,e,n,i,s)=>(a,r,u,c,f,h)=>{if(u!==null)try{const d=new u(a,c,h),g=new Map;let E=null;if(Object.defineProperties(d,{channelCount:{get:()=>h.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>E,set:v=>{typeof E=="function"&&d.removeEventListener("processorerror",E),E=typeof v=="function"?v:null,typeof E=="function"&&d.addEventListener("processorerror",E)}}}),d.addEventListener=(v=>(...S)=>{if(S[0]==="processorerror"){const x=typeof S[1]=="function"?S[1]:typeof S[1]=="object"&&S[1]!==null&&typeof S[1].handleEvent=="function"?S[1].handleEvent:null;if(x!==null){const A=g.get(S[1]);A!==void 0?S[1]=A:(S[1]=w=>{w.type==="error"?(Object.defineProperties(w,{type:{value:"processorerror"}}),x(w)):x(new ErrorEvent(S[0],{...w}))},g.set(x,S[1]))}}return v.call(d,"error",S[1],S[2]),v.call(d,...S)})(d.addEventListener),d.removeEventListener=(v=>(...S)=>{if(S[0]==="processorerror"){const x=g.get(S[1]);x!==void 0&&(g.delete(S[1]),S[1]=x)}return v.call(d,"error",S[1],S[2]),v.call(d,S[0],S[1],S[2])})(d.removeEventListener),h.numberOfOutputs!==0){const v=n(a,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return d.connect(v).connect(a.destination),s(d,()=>v.disconnect(),()=>v.connect(a.destination))}return d}catch(d){throw d.code===11?i():d}if(f===void 0)throw i();return iee(h),e(a,r,f,h)},Ak=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),aee=t=>new Promise((e,n)=>{const{port1:i,port2:s}=new MessageChannel;i.onmessage=({data:a})=>{i.close(),s.close(),e(a)},i.onmessageerror=({data:a})=>{i.close(),s.close(),n(a)},s.postMessage(t)}),oee=async(t,e)=>{const n=await aee(e);return new t(n)},uee=(t,e,n,i)=>{let s=Wv.get(t);s===void 0&&(s=new WeakMap,Wv.set(t,s));const a=oee(n,i);return s.set(e,a),a},lee=(t,e,n,i,s,a,r,u,c,f,h,d,g)=>(E,v,S,x)=>{if(x.numberOfInputs===0&&x.numberOfOutputs===0)throw c();const A=Array.isArray(x.outputChannelCount)?x.outputChannelCount:Array.from(x.outputChannelCount);if(A.some(J=>J<1))throw c();if(A.length!==x.numberOfOutputs)throw e();if(x.channelCountMode!=="explicit")throw c();const w=x.channelCount*x.numberOfInputs,I=A.reduce((J,_e)=>J+_e,0),C=S.parameterDescriptors===void 0?0:S.parameterDescriptors.length;if(w+C>6||I>6)throw c();const R=new MessageChannel,_=[],L=[];for(let J=0;J<x.numberOfInputs;J+=1)_.push(r(E,{channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation,gain:1})),L.push(s(E,{channelCount:x.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:x.channelCount}));const b=[];if(S.parameterDescriptors!==void 0)for(const{defaultValue:J,maxValue:_e,minValue:ge,name:Ie}of S.parameterDescriptors){const Re=a(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:x.parameterData[Ie]!==void 0?x.parameterData[Ie]:J===void 0?0:J});Object.defineProperties(Re.offset,{defaultValue:{get:()=>J===void 0?0:J},maxValue:{get:()=>_e===void 0?En:_e},minValue:{get:()=>ge===void 0?Xn:ge}}),b.push(Re)}const O=i(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,w+C)}),k=Ak(v,E.sampleRate),j=u(E,k,w+C,Math.max(1,I)),B=s(E,{channelCount:Math.max(1,I),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,I)}),ae=[];for(let J=0;J<x.numberOfOutputs;J+=1)ae.push(i(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:A[J]}));for(let J=0;J<x.numberOfInputs;J+=1){_[J].connect(L[J]);for(let _e=0;_e<x.channelCount;_e+=1)L[J].connect(O,_e,J*x.channelCount+_e)}const fe=new xk(S.parameterDescriptors===void 0?[]:S.parameterDescriptors.map(({name:J},_e)=>{const ge=b[_e];return ge.connect(O,0,w+_e),ge.start(0),[J,ge.offset]}));O.connect(j);let G=x.channelInterpretation,re=null;const ce=x.numberOfOutputs===0?[j]:ae,he={get bufferSize(){return k},get channelCount(){return x.channelCount},set channelCount(J){throw n()},get channelCountMode(){return x.channelCountMode},set channelCountMode(J){throw n()},get channelInterpretation(){return G},set channelInterpretation(J){for(const _e of _)_e.channelInterpretation=J;G=J},get context(){return j.context},get inputs(){return _},get numberOfInputs(){return x.numberOfInputs},get numberOfOutputs(){return x.numberOfOutputs},get onprocessorerror(){return re},set onprocessorerror(J){typeof re=="function"&&he.removeEventListener("processorerror",re),re=typeof J=="function"?J:null,typeof re=="function"&&he.addEventListener("processorerror",re)},get parameters(){return fe},get port(){return R.port2},addEventListener(...J){return j.addEventListener(J[0],J[1],J[2])},connect:t.bind(null,ce),disconnect:f.bind(null,ce),dispatchEvent(...J){return j.dispatchEvent(J[0])},removeEventListener(...J){return j.removeEventListener(J[0],J[1],J[2])}},we=new Map;R.port1.addEventListener=(J=>(..._e)=>{if(_e[0]==="message"){const ge=typeof _e[1]=="function"?_e[1]:typeof _e[1]=="object"&&_e[1]!==null&&typeof _e[1].handleEvent=="function"?_e[1].handleEvent:null;if(ge!==null){const Ie=we.get(_e[1]);Ie!==void 0?_e[1]=Ie:(_e[1]=Re=>{h(E.currentTime,E.sampleRate,()=>ge(Re))},we.set(ge,_e[1]))}}return J.call(R.port1,_e[0],_e[1],_e[2])})(R.port1.addEventListener),R.port1.removeEventListener=(J=>(..._e)=>{if(_e[0]==="message"){const ge=we.get(_e[1]);ge!==void 0&&(we.delete(_e[1]),_e[1]=ge)}return J.call(R.port1,_e[0],_e[1],_e[2])})(R.port1.removeEventListener);let Ae=null;Object.defineProperty(R.port1,"onmessage",{get:()=>Ae,set:J=>{typeof Ae=="function"&&R.port1.removeEventListener("message",Ae),Ae=typeof J=="function"?J:null,typeof Ae=="function"&&(R.port1.addEventListener("message",Ae),R.port1.start())}}),S.prototype.port=R.port1;let ye=null;uee(E,he,S,x).then(J=>ye=J);const pe=kf(x.numberOfInputs,x.channelCount),He=kf(x.numberOfOutputs,A),je=S.parameterDescriptors===void 0?[]:S.parameterDescriptors.reduce((J,{name:_e})=>({...J,[_e]:new Float32Array(128)}),{});let ot=!0;const xt=()=>{x.numberOfOutputs>0&&j.disconnect(B);for(let J=0,_e=0;J<x.numberOfOutputs;J+=1){const ge=ae[J];for(let Ie=0;Ie<A[J];Ie+=1)B.disconnect(ge,_e+Ie,Ie);_e+=A[J]}},Me=new Map;j.onaudioprocess=({inputBuffer:J,outputBuffer:_e})=>{if(ye!==null){const ge=d(he);for(let Ie=0;Ie<k;Ie+=128){for(let Re=0;Re<x.numberOfInputs;Re+=1)for(let D=0;D<x.channelCount;D+=1)Pf(J,pe[Re],D,D,Ie);S.parameterDescriptors!==void 0&&S.parameterDescriptors.forEach(({name:Re},D)=>{Pf(J,je,Re,w+D,Ie)});for(let Re=0;Re<x.numberOfInputs;Re+=1)for(let D=0;D<A[Re];D+=1)He[Re][D].byteLength===0&&(He[Re][D]=new Float32Array(128));try{const Re=pe.map((M,de)=>{if(ge[de].size>0)return Me.set(de,k/128),M;const Ge=Me.get(de);return Ge===void 0?[]:(M.every(Ue=>Ue.every(ve=>ve===0))&&(Ge===1?Me.delete(de):Me.set(de,Ge-1)),M)});ot=h(E.currentTime+Ie/E.sampleRate,E.sampleRate,()=>ye.process(Re,He,je));for(let M=0,de=0;M<x.numberOfOutputs;M+=1){for(let Te=0;Te<A[M];Te+=1)Sk(_e,He[M],Te,de+Te,Ie);de+=A[M]}}catch(Re){ot=!1,he.dispatchEvent(new ErrorEvent("processorerror",{colno:Re.colno,filename:Re.filename,lineno:Re.lineno,message:Re.message}))}if(!ot){for(let Re=0;Re<x.numberOfInputs;Re+=1){_[Re].disconnect(L[Re]);for(let D=0;D<x.channelCount;D+=1)L[Ie].disconnect(O,D,Re*x.channelCount+D)}if(S.parameterDescriptors!==void 0){const Re=S.parameterDescriptors.length;for(let D=0;D<Re;D+=1){const M=b[D];M.disconnect(O,0,w+D),M.stop()}}O.disconnect(j),j.onaudioprocess=null,pt?xt():H();break}}}};let pt=!1;const Ze=r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),_t=()=>j.connect(Ze).connect(E.destination),H=()=>{j.disconnect(Ze),Ze.disconnect()},Q=()=>{if(ot){H(),x.numberOfOutputs>0&&j.connect(B);for(let J=0,_e=0;J<x.numberOfOutputs;J+=1){const ge=ae[J];for(let Ie=0;Ie<A[J];Ie+=1)B.connect(ge,_e+Ie,Ie);_e+=A[J]}}pt=!0},z=()=>{ot&&(_t(),xt()),pt=!1};return _t(),g(he,Q,z)},Lk=(t,e)=>{const n=t.createBiquadFilter();return Fr(n,e),Cr(n,e,"Q"),Cr(n,e,"detune"),Cr(n,e,"frequency"),Cr(n,e,"gain"),mr(n,e,"type"),n},cee=(t,e)=>(n,i)=>{const s=n.createChannelMerger(i.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(n,s),Fr(s,i),s},fee=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:n=>{if(n!==e)throw Hr()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Hr()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Hr()}})},Wl=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Fr(n,e),fee(n),n},hee=(t,e,n,i,s)=>(a,r)=>{if(a.createConstantSource===void 0)return n(a,r);const u=a.createConstantSource();return Fr(u,r),Cr(u,r,"offset"),e(i,()=>i(a))||y1(u),e(s,()=>s(a))||T1(u),t(a,u),u},Cu=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),pee=(t,e,n,i)=>(s,{offset:a,...r})=>{const u=s.createBuffer(1,2,44100),c=e(s,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),f=n(s,{...r,gain:a}),h=u.getChannelData(0);h[0]=1,h[1]=1,c.buffer=u,c.loop=!0;const d={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(v){f.channelCount=v},get channelCountMode(){return f.channelCountMode},set channelCountMode(v){f.channelCountMode=v},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(v){f.channelInterpretation=v},get context(){return f.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get offset(){return f.gain},get onended(){return c.onended},set onended(v){c.onended=v},addEventListener(...v){return c.addEventListener(v[0],v[1],v[2])},dispatchEvent(...v){return c.dispatchEvent(v[0])},removeEventListener(...v){return c.removeEventListener(v[0],v[1],v[2])},start(v=0){c.start.call(c,v)},stop(v=0){c.stop.call(c,v)}},g=()=>c.connect(f),E=()=>c.disconnect(f);return t(s,c),i(Cu(d,f),g,E)},dee=(t,e)=>(n,i)=>{const s=n.createConvolver();if(Fr(s,i),i.disableNormalization===s.normalize&&(s.normalize=!i.disableNormalization),mr(s,i,"buffer"),i.channelCount>2||(e(s,"channelCount",a=>()=>a.call(s),a=>r=>{if(r>2)throw t();return a.call(s,r)}),i.channelCountMode==="max"))throw t();return e(s,"channelCountMode",a=>()=>a.call(s),a=>r=>{if(r==="max")throw t();return a.call(s,r)}),s},wk=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Fr(n,e),Cr(n,e,"delayTime"),n},_ee=t=>(e,n)=>{const i=e.createDynamicsCompressor();if(Fr(i,n),n.channelCount>2||n.channelCountMode==="max")throw t();return Cr(i,n,"attack"),Cr(i,n,"knee"),Cr(i,n,"ratio"),Cr(i,n,"release"),Cr(i,n,"threshold"),i},Pn=(t,e)=>{const n=t.createGain();return Fr(n,e),Cr(n,e,"gain"),n},mee=t=>(e,n,i)=>{if(e.createIIRFilter===void 0)return t(e,n,i);const s=e.createIIRFilter(i.feedforward,i.feedback);return Fr(s,i),s};function gee(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Eee(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function xI(t,e){let n=[0,0];for(let i=t.length-1;i>=0;i-=1)n=Eee(n,e),n[0]+=t[i];return n}const vee=(t,e,n,i)=>(s,a,{channelCount:r,channelCountMode:u,channelInterpretation:c,feedback:f,feedforward:h})=>{const d=Ak(a,s.sampleRate),g=f instanceof Float64Array?f:new Float64Array(f),E=h instanceof Float64Array?h:new Float64Array(h),v=g.length,S=E.length,x=Math.min(v,S);if(v===0||v>20)throw i();if(g[0]===0)throw e();if(S===0||S>20)throw i();if(E[0]===0)throw e();if(g[0]!==1){for(let b=0;b<S;b+=1)E[b]/=g[0];for(let b=1;b<v;b+=1)g[b]/=g[0]}const A=n(s,d,r,r);A.channelCount=r,A.channelCountMode=u,A.channelInterpretation=c;const w=32,I=[],C=[],R=[];for(let b=0;b<r;b+=1){I.push(0);const O=new Float32Array(w),k=new Float32Array(w);O.fill(0),k.fill(0),C.push(O),R.push(k)}A.onaudioprocess=b=>{const O=b.inputBuffer,k=b.outputBuffer,j=O.numberOfChannels;for(let B=0;B<j;B+=1){const ae=O.getChannelData(B),fe=k.getChannelData(B);I[B]=Ck(g,v,E,S,x,C[B],R[B],I[B],w,ae,fe)}};const _=s.sampleRate/2;return Cu({get bufferSize(){return d},get channelCount(){return A.channelCount},set channelCount(b){A.channelCount=b},get channelCountMode(){return A.channelCountMode},set channelCountMode(b){A.channelCountMode=b},get channelInterpretation(){return A.channelInterpretation},set channelInterpretation(b){A.channelInterpretation=b},get context(){return A.context},get inputs(){return[A]},get numberOfInputs(){return A.numberOfInputs},get numberOfOutputs(){return A.numberOfOutputs},addEventListener(...b){return A.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return A.dispatchEvent(b[0])},getFrequencyResponse(b,O,k){if(b.length!==O.length||O.length!==k.length)throw t();const j=b.length;for(let B=0;B<j;B+=1){const ae=-Math.PI*(b[B]/_),fe=[Math.cos(ae),Math.sin(ae)],G=xI(E,fe),re=xI(g,fe),ce=gee(G,re);O[B]=Math.sqrt(ce[0]*ce[0]+ce[1]*ce[1]),k[B]=Math.atan2(ce[1],ce[0])}},removeEventListener(...b){return A.removeEventListener(b[0],b[1],b[2])}},A)},yee=(t,e)=>t.createMediaElementSource(e.mediaElement),Tee=(t,e)=>{const n=t.createMediaStreamDestination();return Fr(n,e),n.numberOfOutputs===1&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n},bee=(t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort((a,r)=>a.id<r.id?-1:a.id>r.id?1:0);const i=n.slice(0,1),s=t.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(s,"mediaStream",{value:e}),s},Ree=(t,e)=>(n,{mediaStreamTrack:i})=>{if(typeof n.createMediaStreamTrackSource=="function")return n.createMediaStreamTrackSource(i);const s=new MediaStream([i]),a=n.createMediaStreamSource(s);if(i.kind!=="audio")throw t();if(e(n))throw new TypeError;return a},xee=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,See=(t,e,n,i,s,a)=>(r,u)=>{const c=r.createOscillator();return Fr(c,u),Cr(c,u,"detune"),Cr(c,u,"frequency"),u.periodicWave!==void 0?c.setPeriodicWave(u.periodicWave):mr(c,u,"type"),e(n,()=>n(r))||y1(c),e(i,()=>i(r))||a(c,r),e(s,()=>s(r))||T1(c),t(r,c),c},Cee=t=>(e,n)=>{const i=e.createPanner();return i.orientationX===void 0?t(e,n):(Fr(i,n),Cr(i,n,"orientationX"),Cr(i,n,"orientationY"),Cr(i,n,"orientationZ"),Cr(i,n,"positionX"),Cr(i,n,"positionY"),Cr(i,n,"positionZ"),mr(i,n,"coneInnerAngle"),mr(i,n,"coneOuterAngle"),mr(i,n,"coneOuterGain"),mr(i,n,"distanceModel"),mr(i,n,"maxDistance"),mr(i,n,"panningModel"),mr(i,n,"refDistance"),mr(i,n,"rolloffFactor"),i)},Aee=(t,e,n,i,s,a,r,u,c,f)=>(h,{coneInnerAngle:d,coneOuterAngle:g,coneOuterGain:E,distanceModel:v,maxDistance:S,orientationX:x,orientationY:A,orientationZ:w,panningModel:I,positionX:C,positionY:R,positionZ:_,refDistance:L,rolloffFactor:b,...O})=>{const k=h.createPanner();if(O.channelCount>2||O.channelCountMode==="max")throw r();Fr(k,O);const j={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},B=n(h,{...j,channelInterpretation:"speakers",numberOfInputs:6}),ae=i(h,{...O,gain:1}),fe=i(h,{...j,gain:1}),G=i(h,{...j,gain:0}),re=i(h,{...j,gain:0}),ce=i(h,{...j,gain:0}),he=i(h,{...j,gain:0}),we=i(h,{...j,gain:0}),Ae=s(h,256,6,1),ye=a(h,{...j,curve:new Float32Array([1,1]),oversample:"none"});let W=[x,A,w],pe=[C,R,_];const He=new Float32Array(1);Ae.onaudioprocess=({inputBuffer:Me})=>{const pt=[c(Me,He,0),c(Me,He,1),c(Me,He,2)];pt.some((_t,H)=>_t!==W[H])&&(k.setOrientation(...pt),W=pt);const Ze=[c(Me,He,3),c(Me,He,4),c(Me,He,5)];Ze.some((_t,H)=>_t!==pe[H])&&(k.setPosition(...Ze),pe=Ze)},Object.defineProperty(G.gain,"defaultValue",{get:()=>0}),Object.defineProperty(re.gain,"defaultValue",{get:()=>0}),Object.defineProperty(ce.gain,"defaultValue",{get:()=>0}),Object.defineProperty(he.gain,"defaultValue",{get:()=>0}),Object.defineProperty(we.gain,"defaultValue",{get:()=>0});const je={get bufferSize(){},get channelCount(){return k.channelCount},set channelCount(Me){if(Me>2)throw r();ae.channelCount=Me,k.channelCount=Me},get channelCountMode(){return k.channelCountMode},set channelCountMode(Me){if(Me==="max")throw r();ae.channelCountMode=Me,k.channelCountMode=Me},get channelInterpretation(){return k.channelInterpretation},set channelInterpretation(Me){ae.channelInterpretation=Me,k.channelInterpretation=Me},get coneInnerAngle(){return k.coneInnerAngle},set coneInnerAngle(Me){k.coneInnerAngle=Me},get coneOuterAngle(){return k.coneOuterAngle},set coneOuterAngle(Me){k.coneOuterAngle=Me},get coneOuterGain(){return k.coneOuterGain},set coneOuterGain(Me){if(Me<0||Me>1)throw e();k.coneOuterGain=Me},get context(){return k.context},get distanceModel(){return k.distanceModel},set distanceModel(Me){k.distanceModel=Me},get inputs(){return[ae]},get maxDistance(){return k.maxDistance},set maxDistance(Me){if(Me<0)throw new RangeError;k.maxDistance=Me},get numberOfInputs(){return k.numberOfInputs},get numberOfOutputs(){return k.numberOfOutputs},get orientationX(){return fe.gain},get orientationY(){return G.gain},get orientationZ(){return re.gain},get panningModel(){return k.panningModel},set panningModel(Me){k.panningModel=Me},get positionX(){return ce.gain},get positionY(){return he.gain},get positionZ(){return we.gain},get refDistance(){return k.refDistance},set refDistance(Me){if(Me<0)throw new RangeError;k.refDistance=Me},get rolloffFactor(){return k.rolloffFactor},set rolloffFactor(Me){if(Me<0)throw new RangeError;k.rolloffFactor=Me},addEventListener(...Me){return ae.addEventListener(Me[0],Me[1],Me[2])},dispatchEvent(...Me){return ae.dispatchEvent(Me[0])},removeEventListener(...Me){return ae.removeEventListener(Me[0],Me[1],Me[2])}};d!==je.coneInnerAngle&&(je.coneInnerAngle=d),g!==je.coneOuterAngle&&(je.coneOuterAngle=g),E!==je.coneOuterGain&&(je.coneOuterGain=E),v!==je.distanceModel&&(je.distanceModel=v),S!==je.maxDistance&&(je.maxDistance=S),x!==je.orientationX.value&&(je.orientationX.value=x),A!==je.orientationY.value&&(je.orientationY.value=A),w!==je.orientationZ.value&&(je.orientationZ.value=w),I!==je.panningModel&&(je.panningModel=I),C!==je.positionX.value&&(je.positionX.value=C),R!==je.positionY.value&&(je.positionY.value=R),_!==je.positionZ.value&&(je.positionZ.value=_),L!==je.refDistance&&(je.refDistance=L),b!==je.rolloffFactor&&(je.rolloffFactor=b),(W[0]!==1||W[1]!==0||W[2]!==0)&&k.setOrientation(...W),(pe[0]!==0||pe[1]!==0||pe[2]!==0)&&k.setPosition(...pe);const ot=()=>{ae.connect(k),t(ae,ye,0,0),ye.connect(fe).connect(B,0,0),ye.connect(G).connect(B,0,1),ye.connect(re).connect(B,0,2),ye.connect(ce).connect(B,0,3),ye.connect(he).connect(B,0,4),ye.connect(we).connect(B,0,5),B.connect(Ae).connect(h.destination)},xt=()=>{ae.disconnect(k),u(ae,ye,0,0),ye.disconnect(fe),fe.disconnect(B),ye.disconnect(G),G.disconnect(B),ye.disconnect(re),re.disconnect(B),ye.disconnect(ce),ce.disconnect(B),ye.disconnect(he),he.disconnect(B),ye.disconnect(we),we.disconnect(B),B.disconnect(Ae),Ae.disconnect(h.destination)};return f(Cu(je,k),ot,xt)},Lee=t=>(e,{disableNormalization:n,imag:i,real:s})=>{const a=i instanceof Float32Array?i:new Float32Array(i),r=s instanceof Float32Array?s:new Float32Array(s),u=e.createPeriodicWave(r,a,{disableNormalization:n});if(Array.from(i).length<2)throw t();return u},Xl=(t,e,n,i)=>t.createScriptProcessor(e,n,i),wee=(t,e)=>(n,i)=>{const s=i.channelCountMode;if(s==="clamped-max")throw e();if(n.createStereoPanner===void 0)return t(n,i);const a=n.createStereoPanner();return Fr(a,i),Cr(a,i,"pan"),Object.defineProperty(a,"channelCountMode",{get:()=>s,set:r=>{if(r!==s)throw e()}}),a},Oee=(t,e,n,i,s,a)=>{const u=new Float32Array([1,1]),c=Math.PI/2,f={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},h={...f,oversample:"none"},d=(v,S,x,A)=>{const w=new Float32Array(16385),I=new Float32Array(16385);for(let O=0;O<16385;O+=1){const k=O/16384*c;w[O]=Math.cos(k),I[O]=Math.sin(k)}const C=n(v,{...f,gain:0}),R=i(v,{...h,curve:w}),_=i(v,{...h,curve:u}),L=n(v,{...f,gain:0}),b=i(v,{...h,curve:I});return{connectGraph(){S.connect(C),S.connect(_.inputs===void 0?_:_.inputs[0]),S.connect(L),_.connect(x),x.connect(R.inputs===void 0?R:R.inputs[0]),x.connect(b.inputs===void 0?b:b.inputs[0]),R.connect(C.gain),b.connect(L.gain),C.connect(A,0,0),L.connect(A,0,1)},disconnectGraph(){S.disconnect(C),S.disconnect(_.inputs===void 0?_:_.inputs[0]),S.disconnect(L),_.disconnect(x),x.disconnect(R.inputs===void 0?R:R.inputs[0]),x.disconnect(b.inputs===void 0?b:b.inputs[0]),R.disconnect(C.gain),b.disconnect(L.gain),C.disconnect(A,0,0),L.disconnect(A,0,1)}}},g=(v,S,x,A)=>{const w=new Float32Array(16385),I=new Float32Array(16385),C=new Float32Array(16385),R=new Float32Array(16385),_=Math.floor(16385/2);for(let ce=0;ce<16385;ce+=1)if(ce>_){const he=(ce-_)/(16384-_)*c;w[ce]=Math.cos(he),I[ce]=Math.sin(he),C[ce]=0,R[ce]=1}else{const he=ce/(16384-_)*c;w[ce]=1,I[ce]=0,C[ce]=Math.cos(he),R[ce]=Math.sin(he)}const L=e(v,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),b=n(v,{...f,gain:0}),O=i(v,{...h,curve:w}),k=n(v,{...f,gain:0}),j=i(v,{...h,curve:I}),B=i(v,{...h,curve:u}),ae=n(v,{...f,gain:0}),fe=i(v,{...h,curve:C}),G=n(v,{...f,gain:0}),re=i(v,{...h,curve:R});return{connectGraph(){S.connect(L),S.connect(B.inputs===void 0?B:B.inputs[0]),L.connect(b,0),L.connect(k,0),L.connect(ae,1),L.connect(G,1),B.connect(x),x.connect(O.inputs===void 0?O:O.inputs[0]),x.connect(j.inputs===void 0?j:j.inputs[0]),x.connect(fe.inputs===void 0?fe:fe.inputs[0]),x.connect(re.inputs===void 0?re:re.inputs[0]),O.connect(b.gain),j.connect(k.gain),fe.connect(ae.gain),re.connect(G.gain),b.connect(A,0,0),ae.connect(A,0,0),k.connect(A,0,1),G.connect(A,0,1)},disconnectGraph(){S.disconnect(L),S.disconnect(B.inputs===void 0?B:B.inputs[0]),L.disconnect(b,0),L.disconnect(k,0),L.disconnect(ae,1),L.disconnect(G,1),B.disconnect(x),x.disconnect(O.inputs===void 0?O:O.inputs[0]),x.disconnect(j.inputs===void 0?j:j.inputs[0]),x.disconnect(fe.inputs===void 0?fe:fe.inputs[0]),x.disconnect(re.inputs===void 0?re:re.inputs[0]),O.disconnect(b.gain),j.disconnect(k.gain),fe.disconnect(ae.gain),re.disconnect(G.gain),b.disconnect(A,0,0),ae.disconnect(A,0,0),k.disconnect(A,0,1),G.disconnect(A,0,1)}}},E=(v,S,x,A,w)=>{if(S===1)return d(v,x,A,w);if(S===2)return g(v,x,A,w);throw s()};return(v,{channelCount:S,channelCountMode:x,pan:A,...w})=>{if(x==="max")throw s();const I=t(v,{...w,channelCount:1,channelCountMode:x,numberOfInputs:2}),C=n(v,{...w,channelCount:S,channelCountMode:x,gain:1}),R=n(v,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:A});let{connectGraph:_,disconnectGraph:L}=E(v,S,C,R,I);Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"maxValue",{get:()=>1}),Object.defineProperty(R.gain,"minValue",{get:()=>-1});const b={get bufferSize(){},get channelCount(){return C.channelCount},set channelCount(B){C.channelCount!==B&&(O&&L(),{connectGraph:_,disconnectGraph:L}=E(v,B,C,R,I),O&&_()),C.channelCount=B},get channelCountMode(){return C.channelCountMode},set channelCountMode(B){if(B==="clamped-max"||B==="max")throw s();C.channelCountMode=B},get channelInterpretation(){return C.channelInterpretation},set channelInterpretation(B){C.channelInterpretation=B},get context(){return C.context},get inputs(){return[C]},get numberOfInputs(){return C.numberOfInputs},get numberOfOutputs(){return C.numberOfOutputs},get pan(){return R.gain},addEventListener(...B){return C.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return C.dispatchEvent(B[0])},removeEventListener(...B){return C.removeEventListener(B[0],B[1],B[2])}};let O=!1;const k=()=>{_(),O=!0},j=()=>{L(),O=!1};return a(Cu(b,I),k,j)}},Iee=(t,e,n,i,s,a,r)=>(u,c)=>{const f=u.createWaveShaper();if(a!==null&&a.name==="webkitAudioContext"&&u.createGain().gain.automationRate===void 0)return n(u,c);Fr(f,c);const h=c.curve===null||c.curve instanceof Float32Array?c.curve:new Float32Array(c.curve);if(h!==null&&h.length<2)throw e();mr(f,{curve:h},"curve"),mr(f,c,"oversample");let d=null,g=!1;return r(f,"curve",S=>()=>S.call(f),S=>x=>(S.call(f,x),g&&(i(x)&&d===null?d=t(u,f):!i(x)&&d!==null&&(d(),d=null)),x)),s(f,()=>{g=!0,i(f.curve)&&(d=t(u,f))},()=>{g=!1,d!==null&&(d(),d=null)})},Nee=(t,e,n,i,s)=>(a,{curve:r,oversample:u,...c})=>{const f=a.createWaveShaper(),h=a.createWaveShaper();Fr(f,c),Fr(h,c);const d=n(a,{...c,gain:1}),g=n(a,{...c,gain:-1}),E=n(a,{...c,gain:1}),v=n(a,{...c,gain:-1});let S=null,x=!1,A=null;const w={get bufferSize(){},get channelCount(){return f.channelCount},set channelCount(R){d.channelCount=R,g.channelCount=R,f.channelCount=R,E.channelCount=R,h.channelCount=R,v.channelCount=R},get channelCountMode(){return f.channelCountMode},set channelCountMode(R){d.channelCountMode=R,g.channelCountMode=R,f.channelCountMode=R,E.channelCountMode=R,h.channelCountMode=R,v.channelCountMode=R},get channelInterpretation(){return f.channelInterpretation},set channelInterpretation(R){d.channelInterpretation=R,g.channelInterpretation=R,f.channelInterpretation=R,E.channelInterpretation=R,h.channelInterpretation=R,v.channelInterpretation=R},get context(){return f.context},get curve(){return A},set curve(R){if(R!==null&&R.length<2)throw e();if(R===null)f.curve=R,h.curve=R;else{const _=R.length,L=new Float32Array(_+2-_%2),b=new Float32Array(_+2-_%2);L[0]=R[0],b[0]=-R[_-1];const O=Math.ceil((_+1)/2),k=(_+1)/2-1;for(let j=1;j<O;j+=1){const B=j/O*k,ae=Math.floor(B),fe=Math.ceil(B);L[j]=ae===fe?R[ae]:(1-(B-ae))*R[ae]+(1-(fe-B))*R[fe],b[j]=ae===fe?-R[_-1-ae]:-((1-(B-ae))*R[_-1-ae])-(1-(fe-B))*R[_-1-fe]}L[O]=_%2===1?R[O-1]:(R[O-2]+R[O-1])/2,f.curve=L,h.curve=b}A=R,x&&(i(A)&&S===null?S=t(a,d):S!==null&&(S(),S=null))},get inputs(){return[d]},get numberOfInputs(){return f.numberOfInputs},get numberOfOutputs(){return f.numberOfOutputs},get oversample(){return f.oversample},set oversample(R){f.oversample=R,h.oversample=R},addEventListener(...R){return d.addEventListener(R[0],R[1],R[2])},dispatchEvent(...R){return d.dispatchEvent(R[0])},removeEventListener(...R){return d.removeEventListener(R[0],R[1],R[2])}};r!==null&&(w.curve=r instanceof Float32Array?r:new Float32Array(r)),u!==w.oversample&&(w.oversample=u);const I=()=>{d.connect(f).connect(E),d.connect(g).connect(h).connect(v).connect(E),x=!0,i(A)&&(S=t(a,d))},C=()=>{d.disconnect(f),f.disconnect(E),d.disconnect(g),g.disconnect(h),h.disconnect(v),v.disconnect(E),x=!1,S!==null&&(S(),S=null)};return s(Cu(w,E),I,C)},xn=()=>new DOMException("","NotSupportedError"),Pee={numberOfChannels:1},kee=(t,e,n,i,s)=>class extends t{constructor(r,u,c){let f;if(typeof r=="number"&&u!==void 0&&c!==void 0)f={length:u,numberOfChannels:r,sampleRate:c};else if(typeof r=="object")f=r;else throw new Error("The given parameters are not valid.");const{length:h,numberOfChannels:d,sampleRate:g}={...Pee,...f},E=i(d,h,g);e(Il,()=>Il(E))||E.addEventListener("statechange",(()=>{let v=0;const S=x=>{this._state==="running"&&(v>0?(E.removeEventListener("statechange",S),x.stopImmediatePropagation(),this._waitForThePromiseToSettle(x)):v+=1)};return S})()),super(E,d),this._length=h,this._nativeOfflineAudioContext=E,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(n()):(this._state="running",s(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,yk(this)}))}_waitForThePromiseToSettle(r){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(r):setTimeout(()=>this._waitForThePromiseToSettle(r))}},Dee={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Bee=(t,e,n,i,s,a,r)=>class extends t{constructor(c,f){const h=s(c),d={...Dee,...f},g=n(h,d),E=a(h),v=E?i():null,S=c.sampleRate/2;super(c,!1,g,v),this._detune=e(this,E,g.detune,153600,-153600),this._frequency=e(this,E,g.frequency,S,-S),this._nativeOscillatorNode=g,this._onended=null,this._oscillatorNodeRenderer=v,this._oscillatorNodeRenderer!==null&&d.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=d.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(c){const f=typeof c=="function"?r(this,c):null;this._nativeOscillatorNode.onended=f;const h=this._nativeOscillatorNode.onended;this._onended=h!==null&&h===f?c:h}get type(){return this._nativeOscillatorNode.type}set type(c){this._nativeOscillatorNode.type=c,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(c){this._nativeOscillatorNode.setPeriodicWave(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=c)}start(c=0){if(this._nativeOscillatorNode.start(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=c),this.context.state!=="closed"){pu(this);const f=()=>{this._nativeOscillatorNode.removeEventListener("ended",f),ks(this)&&ql(this)};this._nativeOscillatorNode.addEventListener("ended",f)}}stop(c=0){this._nativeOscillatorNode.stop(c),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=c)}},Uee=(t,e,n,i,s)=>()=>{const a=new WeakMap;let r=null,u=null,c=null;const f=async(h,d)=>{let g=n(h);const E=cn(g,d);if(!E){const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,detune:g.detune.value,frequency:g.frequency.value,periodicWave:r===null?void 0:r,type:g.type};g=e(d,v),u!==null&&g.start(u),c!==null&&g.stop(c)}return a.set(d,g),E?(await t(d,h.detune,g.detune),await t(d,h.frequency,g.frequency)):(await i(d,h.detune,g.detune),await i(d,h.frequency,g.frequency)),await s(h,d,g),g};return{set periodicWave(h){r=h},set start(h){u=h},set stop(h){c=h},render(h,d){const g=a.get(d);return g!==void 0?Promise.resolve(g):f(h,d)}}},Mee={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Kee=(t,e,n,i,s,a,r)=>class extends t{constructor(c,f){const h=s(c),d={...Mee,...f},g=n(h,d),E=a(h),v=E?i():null;super(c,!1,g,v),this._nativePannerNode=g,this._orientationX=e(this,E,g.orientationX,En,Xn),this._orientationY=e(this,E,g.orientationY,En,Xn),this._orientationZ=e(this,E,g.orientationZ,En,Xn),this._positionX=e(this,E,g.positionX,En,Xn),this._positionY=e(this,E,g.positionY,En,Xn),this._positionZ=e(this,E,g.positionZ,En,Xn),r(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(c){this._nativePannerNode.coneInnerAngle=c}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(c){this._nativePannerNode.coneOuterAngle=c}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(c){this._nativePannerNode.coneOuterGain=c}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(c){this._nativePannerNode.distanceModel=c}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(c){this._nativePannerNode.maxDistance=c}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(c){this._nativePannerNode.panningModel=c}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(c){this._nativePannerNode.refDistance=c}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(c){this._nativePannerNode.rolloffFactor=c}},$ee=(t,e,n,i,s,a,r,u,c,f)=>()=>{const h=new WeakMap;let d=null;const g=async(E,v)=>{let S=null,x=a(E);const A={channelCount:x.channelCount,channelCountMode:x.channelCountMode,channelInterpretation:x.channelInterpretation},w={...A,coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,panningModel:x.panningModel,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor},I=cn(x,v);if("bufferSize"in x)S=i(v,{...A,gain:1});else if(!I){const C={...w,orientationX:x.orientationX.value,orientationY:x.orientationY.value,orientationZ:x.orientationZ.value,positionX:x.positionX.value,positionY:x.positionY.value,positionZ:x.positionZ.value};x=s(v,C)}if(h.set(v,S===null?x:S),S!==null){if(d===null){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=new r(6,E.context.length,v.sampleRate),B=e(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});B.connect(j.destination),d=(async()=>{const ae=await Promise.all([E.orientationX,E.orientationY,E.orientationZ,E.positionX,E.positionY,E.positionZ].map(async(fe,G)=>{const re=n(j,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:G===0?1:0});return await u(j,fe,re.offset),re}));for(let fe=0;fe<6;fe+=1)ae[fe].connect(B,0,fe),ae[fe].start(0);return f(j)})()}const C=await d,R=i(v,{...A,gain:1});await c(E,v,R);const _=[];for(let j=0;j<C.numberOfChannels;j+=1)_.push(C.getChannelData(j));let L=[_[0][0],_[1][0],_[2][0]],b=[_[3][0],_[4][0],_[5][0]],O=i(v,{...A,gain:1}),k=s(v,{...w,orientationX:L[0],orientationY:L[1],orientationZ:L[2],positionX:b[0],positionY:b[1],positionZ:b[2]});R.connect(O).connect(k.inputs[0]),k.connect(S);for(let j=128;j<C.length;j+=128){const B=[_[0][j],_[1][j],_[2][j]],ae=[_[3][j],_[4][j],_[5][j]];if(B.some((fe,G)=>fe!==L[G])||ae.some((fe,G)=>fe!==b[G])){L=B,b=ae;const fe=j/v.sampleRate;O.gain.setValueAtTime(0,fe),O=i(v,{...A,gain:0}),k=s(v,{...w,orientationX:L[0],orientationY:L[1],orientationZ:L[2],positionX:b[0],positionY:b[1],positionZ:b[2]}),O.gain.setValueAtTime(1,fe),R.connect(O).connect(k.inputs[0]),k.connect(S)}}return S}return I?(await t(v,E.orientationX,x.orientationX),await t(v,E.orientationY,x.orientationY),await t(v,E.orientationZ,x.orientationZ),await t(v,E.positionX,x.positionX),await t(v,E.positionY,x.positionY),await t(v,E.positionZ,x.positionZ)):(await u(v,E.orientationX,x.orientationX),await u(v,E.orientationY,x.orientationY),await u(v,E.orientationZ,x.orientationZ),await u(v,E.positionX,x.positionX),await u(v,E.positionY,x.positionY),await u(v,E.positionZ,x.positionZ)),Su(x)?await c(E,v,x.inputs[0]):await c(E,v,x),x};return{render(E,v){const S=h.get(v);return S!==void 0?Promise.resolve(S):g(E,v)}}},Vee={disableNormalization:!1},Fee=(t,e,n,i)=>class Ok{constructor(a,r){const u=e(a),c=i({...Vee,...r}),f=t(u,c);return n.add(f),f}static[Symbol.hasInstance](a){return a!==null&&typeof a=="object"&&Object.getPrototypeOf(a)===Ok.prototype||n.has(a)}},qee=(t,e)=>(n,i,s)=>(t(i).replay(s),e(i,n,s)),Gee=(t,e,n)=>async(i,s,a)=>{const r=t(i);await Promise.all(r.activeInputs.map((u,c)=>Array.from(u).map(async([f,h])=>{const g=await e(f).render(f,s),E=i.context.destination;!n(f)&&(i!==E||!n(i))&&g.connect(a,h,c)})).reduce((u,c)=>[...u,...c],[]))},jee=(t,e,n)=>async(i,s,a)=>{const r=e(i);await Promise.all(Array.from(r.activeInputs).map(async([u,c])=>{const h=await t(u).render(u,s);n(u)||h.connect(a,c)}))},Wee=(t,e,n,i)=>s=>t(Il,()=>Il(s))?Promise.resolve(t(i,i)).then(a=>{if(!a){const r=n(s,512,0,1);s.oncomplete=()=>{r.onaudioprocess=null,r.disconnect()},r.onaudioprocess=()=>s.currentTime,r.connect(s.destination)}return s.startRendering()}):new Promise(a=>{const r=e(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});s.oncomplete=u=>{r.disconnect(),a(u.renderedBuffer)},r.connect(s.destination),s.startRendering()}),Xee=t=>(e,n)=>{t.set(e,n)},Hee=t=>(e,n)=>t.set(e,n),Yee=(t,e,n,i,s,a,r,u)=>(c,f)=>n(c).render(c,f).then(()=>Promise.all(Array.from(i(f)).map(h=>n(h).render(h,f)))).then(()=>s(f)).then(h=>(typeof h.copyFromChannel!="function"?(r(h),g1(h)):e(a,()=>a(h))||u(h),t.add(h),h)),zee={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Jee=(t,e,n,i,s,a)=>class extends t{constructor(u,c){const f=s(u),h={...zee,...c},d=n(f,h),g=a(f),E=g?i():null;super(u,!1,d,E),this._pan=e(this,g,d.pan)}get pan(){return this._pan}},Zee=(t,e,n,i,s)=>()=>{const a=new WeakMap,r=async(u,c)=>{let f=n(u);const h=cn(f,c);if(!h){const d={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,pan:f.pan.value};f=e(c,d)}return a.set(c,f),h?await t(c,u.pan,f.pan):await i(c,u.pan,f.pan),Su(f)?await s(u,c,f.inputs[0]):await s(u,c,f),f};return{render(u,c){const f=a.get(c);return f!==void 0?Promise.resolve(f):r(u,c)}}},Qee=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},ete=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),i=new e(1,128,44100),s=URL.createObjectURL(n);let a=!1,r=!1;try{await i.audioWorklet.addModule(s);const u=new t(i,"a",{numberOfOutputs:0}),c=i.createOscillator();u.port.onmessage=()=>a=!0,u.onprocessorerror=()=>r=!0,c.connect(u),c.start(0),await i.startRendering(),await new Promise(f=>setTimeout(f))}catch{}finally{URL.revokeObjectURL(s)}return a&&!r},tte=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const n=new e(1,1,44100),i=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(s=>{n.oncomplete=()=>{i.disconnect(),s(n.currentTime!==0)},n.startRendering()})},rte=()=>new DOMException("","UnknownError"),nte={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ite=(t,e,n,i,s,a,r)=>class extends t{constructor(c,f){const h=s(c),d={...nte,...f},g=n(h,d),v=a(h)?i():null;super(c,!0,g,v),this._isCurveNullified=!1,this._nativeWaveShaperNode=g,r(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(c){if(c===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(c.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=c}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(c){this._nativeWaveShaperNode.oversample=c}},ste=(t,e,n)=>()=>{const i=new WeakMap,s=async(a,r)=>{let u=e(a);if(!cn(u,r)){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,curve:u.curve,oversample:u.oversample};u=t(r,f)}return i.set(r,u),Su(u)?await n(a,r,u.inputs[0]):await n(a,r,u),u};return{render(a,r){const u=i.get(r);return u!==void 0?Promise.resolve(u):s(a,r)}}},ate=()=>typeof window>"u"?null:window,ote=(t,e)=>n=>{n.copyFromChannel=(i,s,a=0)=>{const r=t(a),u=t(s);if(u>=n.numberOfChannels)throw e();const c=n.length,f=n.getChannelData(u),h=i.length;for(let d=r<0?-r:0;d+r<c&&d<h;d+=1)i[d]=f[d+r]},n.copyToChannel=(i,s,a=0)=>{const r=t(a),u=t(s);if(u>=n.numberOfChannels)throw e();const c=n.length,f=n.getChannelData(u),h=i.length;for(let d=r<0?-r:0;d+r<c&&d<h;d+=1)f[d+r]=i[d]}},ute=t=>e=>{e.copyFromChannel=(n=>(i,s,a=0)=>{const r=t(a),u=t(s);if(r<e.length)return n.call(e,i,u,r)})(e.copyFromChannel),e.copyToChannel=(n=>(i,s,a=0)=>{const r=t(a),u=t(s);if(r<e.length)return n.call(e,i,u,r)})(e.copyToChannel)},lte=t=>(e,n)=>{const i=n.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=i),t(e,"buffer",s=>()=>{const a=s.call(e);return a===i?null:a},s=>a=>s.call(e,a===null?i:a))},cte=(t,e)=>(n,i)=>{i.channelCount=1,i.channelCountMode="explicit",Object.defineProperty(i,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(i,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const s=n.createBufferSource();e(i,()=>{const u=i.numberOfInputs;for(let c=0;c<u;c+=1)s.connect(i,0,c)},()=>s.disconnect(i))},Ik=(t,e,n)=>t.copyFromChannel===void 0?t.getChannelData(n)[0]:(t.copyFromChannel(e,n),e[0]),Nk=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},Hl=(t,e,n,i)=>{let s=t;for(;!s.hasOwnProperty(e);)s=Object.getPrototypeOf(s);const{get:a,set:r}=Object.getOwnPropertyDescriptor(s,e);Object.defineProperty(t,e,{get:n(a),set:i(r)})},fte=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),hte=t=>({...t,channelCount:t.numberOfOutputs}),pte=t=>{const{imag:e,real:n}=t;return e===void 0?n===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,()=>0),real:n}:n===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:n}},Pk=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(i){if(i.code!==9)throw i;Pk(t,e,n+1e-7)}},dte=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},_te=t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0},mte=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},b1=t=>{const e=t.createOscillator();try{e.start(-1)}catch(n){return n instanceof RangeError}return!1},kk=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},R1=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(n){return n instanceof RangeError}return!1},gte=t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}},Ete=t=>{t.start=(e=>(n=0,i=0,s)=>{const a=t.buffer,r=a===null?i:Math.min(a.duration,i);a!==null&&r>a.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,r,s)})(t.start)},Dk=(t,e)=>{const n=e.createGain();t.connect(n);const i=(s=>()=>{s.call(t,n),t.removeEventListener("ended",i)})(t.disconnect);t.addEventListener("ended",i),Cu(t,n),t.stop=(s=>{let a=!1;return(r=0)=>{if(a)try{s.call(t,r)}catch{n.gain.setValueAtTime(0,r)}else s.call(t,r),a=!0}})(t.stop)},Au=(t,e)=>n=>{const i={value:t};return Object.defineProperties(n,{currentTarget:i,target:i}),typeof e=="function"?e.call(t,n):e.handleEvent.call(t,n)},vte=KJ(ho),yte=jJ(ho),Tte=nQ(bh),Bk=new WeakMap,bte=TQ(Bk),Ki=PZ(new Map,new WeakMap),ns=ate(),Uk=JQ(Ki,ss),x1=yQ(Tn),nn=Gee(Tn,x1,oo),Rte=zJ(Uk,pr,nn),lr=xQ(Th),$s=xee(ns),er=VQ($s),Mk=new WeakMap,Kk=pQ(Au),Yl=tee(ns),S1=UQ(Yl),C1=MQ(ns),$k=KQ(ns),Nl=nee(ns),Nr=TZ($J(pk),GJ(vte,yte,Of,Tte,If,Tn,bte,Fl,pr,ho,ks,oo,pf),Ki,NQ(Gv,If,Tn,pr,Ol,ks),ss,Rh,xn,QZ(Of,Gv,Tn,pr,Ol,lr,ks,er),aQ(Mk,Tn,Ui),Kk,lr,S1,C1,$k,er,Nl),xte=YJ(Nr,Rte,ss,Uk,lr,er),A1=new WeakSet,SI=ZQ(ns),Vk=WZ(new Uint32Array(1)),L1=ote(Vk,ss),w1=ute(Vk),Fk=ZJ(A1,Ki,xn,SI,$s,Qee(SI),L1,w1),xh=WJ(Pn),qk=jee(x1,Gl,oo),as=$Z(qk),Lu=eee(xh,Ki,dte,_te,mte,b1,kk,R1,Ete,lte(Hl),Dk),os=qee(bQ(Gl),qk),Ste=tZ(as,Lu,pr,os,nn),$i=bZ(VJ(dk),Mk,m1,RZ,PJ,kJ,DJ,BJ,UJ,Vv,fk,Yl,Pk),Cte=eZ(Nr,Ste,$i,Hr,Lu,lr,er,Au),Ate=cZ(Nr,fZ,ss,Hr,ree(Pn,Hl),lr,er,nn),Lte=NZ(as,Lk,pr,os,nn),po=Hee(Bk),wte=IZ(Nr,$i,Lte,Rh,Lk,lr,er,po),Oa=YQ(ho,C1),Ote=cte(Hr,Oa),Ia=cee(Yl,Ote),Ite=BZ(Ia,pr,nn),Nte=DZ(Nr,Ite,Ia,lr,er),Pte=KZ(Wl,pr,nn),kte=MZ(Nr,Pte,Wl,lr,er,hte),Dte=pee(xh,Lu,Pn,Oa),wu=hee(xh,Ki,Dte,b1,R1),Bte=jZ(as,wu,pr,os,nn),Ute=GZ(Nr,$i,Bte,wu,lr,er,Au),Gk=dee(xn,Hl),Mte=YZ(Gk,pr,nn),Kte=HZ(Nr,Mte,Gk,lr,er,po),$te=rQ(as,wk,pr,os,nn),Vte=tQ(Nr,$i,$te,wk,lr,er,po),jk=_ee(xn),Fte=cQ(as,jk,pr,os,nn),qte=lQ(Nr,$i,Fte,jk,xn,lr,er,po),Gte=EQ(as,Pn,pr,os,nn),jte=gQ(Nr,$i,Gte,Pn,lr,er),Wte=vee(Rh,Hr,Xl,xn),Sh=Wee(Ki,Pn,Xl,tte(Pn,$s)),Xte=IQ(Lu,pr,$s,nn,Sh),Hte=mee(Wte),Yte=wQ(Nr,Hte,Xte,lr,er,po),zte=hZ($i,Ia,wu,Xl,xn,Ik,er,Hl),Wk=new WeakMap,Jte=HQ(Ate,zte,Kk,er,Wk,Au),Xk=See(xh,Ki,b1,kk,R1,Dk),Zte=Uee(as,Xk,pr,os,nn),Qte=Bee(Nr,$i,Xk,Zte,lr,er,Au),Hk=FZ(Lu),ere=Nee(Hk,Hr,Pn,Nk,Oa),Ch=Iee(Hk,Hr,ere,Nk,Oa,Yl,Hl),tre=Aee(Of,Hr,Ia,Pn,Xl,Ch,xn,If,Ik,Oa),Yk=Cee(tre),rre=$ee(as,Ia,wu,Pn,Yk,pr,$s,os,nn,Sh),nre=Kee(Nr,$i,Yk,rre,lr,er,po),ire=Lee(ss),sre=Fee(ire,lr,new WeakSet,pte),are=Oee(Ia,Wl,Pn,Ch,xn,Oa),zk=wee(are,xn),ore=Zee(as,zk,pr,os,nn),ure=Jee(Nr,$i,zk,ore,lr,er),lre=ste(Ch,pr,nn),cre=ite(Nr,Hr,Ch,lre,lr,er,po),Jk=FQ(ns),O1=dQ(ns),Zk=new WeakMap,fre=SQ(Zk,$s),hre=Jk?qJ(Ki,xn,hQ(ns),O1,_Q(MJ),lr,fre,er,Nl,new WeakMap,new WeakMap,ete(Nl,$s),ns):void 0,pre=$Q(S1,er),dre=ZZ(A1,Ki,JZ,fQ,new WeakSet,lr,pre,Lf,Il,L1,w1),Qk=wZ(hre,xte,Fk,Cte,wte,Nte,kte,Ute,Kte,dre,Vte,qte,jte,Yte,Jte,Qte,nre,sre,ure,cre),_re=qQ(Nr,yee,lr,er),mre=jQ(Nr,Tee,lr,er),gre=WQ(Nr,bee,lr,er),Ere=Ree(Hr,er),vre=XQ(Nr,Ere,lr),yre=lZ(Qk,Hr,xn,rte,_re,mre,gre,vre,Yl),I1=CQ(Wk),Tre=XJ(I1),eD=VZ(ss),bre=iQ(I1),tD=oQ(ss),rD=new WeakMap,Rre=vQ(rD,Ui),xre=lee(eD,ss,Hr,Ia,Wl,wu,Pn,Xl,xn,tD,O1,Rre,Oa),Sre=see(Hr,xre,Pn,xn,Oa),Cre=LZ(as,eD,Lu,Ia,Wl,wu,Pn,bre,tD,O1,pr,Nl,$s,os,nn,Sh),Are=RQ(Zk),Lre=Xee(rD),CI=Jk?SZ(Tre,Nr,$i,Cre,Sre,Tn,Are,lr,er,Nl,fte,Lre,gte,Au):void 0,wre=zZ(xn,$s),Ore=Yee(A1,Ki,x1,I1,Sh,Lf,L1,w1),Ire=kee(Qk,Ki,Hr,wre,Ore),Nre=PQ(Th,S1),Pre=kQ(_1,C1),kre=DQ(m1,$k),Dre=BQ(Th,er);function pi(t){return t===void 0}function Bt(t){return t!==void 0}function Bre(t){return typeof t=="function"}function ga(t){return typeof t=="number"}function so(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function Ure(t){return typeof t=="boolean"}function Pi(t){return Array.isArray(t)}function Bs(t){return typeof t=="string"}function nf(t){return Bs(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function Ct(t,e){if(!t)throw new Error(e)}function Us(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function nD(t){!t.isOffline&&t.state!=="running"&&Ah('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let iD=!1,AI=!1;function LI(t){iD=t}function Mre(t){pi(t)&&iD&&!AI&&(AI=!0,Ah("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let sD=console;function Kre(...t){sD.log(...t)}function Ah(...t){sD.warn(...t)}function $re(t){return new yre(t)}function Vre(t,e,n){return new Ire(t,e,n)}const vn=typeof self=="object"?self:null,Fre=vn&&(vn.hasOwnProperty("AudioContext")||vn.hasOwnProperty("webkitAudioContext"));function qre(t,e,n){return Ct(Bt(CI),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof(vn==null?void 0:vn.BaseAudioContext)?vn==null?void 0:vn.AudioWorkletNode:CI)(t,e,n)}function Vi(t,e,n,i){var s=arguments.length,a=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,r;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")a=Reflect.decorate(t,e,n,i);else for(var u=t.length-1;u>=0;u--)(r=t[u])&&(a=(s<3?r(a):s>3?r(e,n,a):r(e,n))||a);return s>3&&a&&Object.defineProperty(e,n,a),a}function gr(t,e,n,i){function s(a){return a instanceof n?a:new n(function(r){r(a)})}return new(n||(n=Promise))(function(a,r){function u(h){try{f(i.next(h))}catch(d){r(d)}}function c(h){try{f(i.throw(h))}catch(d){r(d)}}function f(h){h.done?a(h.value):s(h.value).then(u,c)}f((i=i.apply(t,e||[])).next())})}class Gre{constructor(e,n,i,s){this._callback=e,this._type=n,this._minimumUpdateInterval=Math.max(128/(s||44100),.001),this.updateInterval=i,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),n=URL.createObjectURL(e),i=new Worker(n);i.onmessage=this._callback.bind(this),this._worker=i}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var n;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((n=this._worker)===null||n===void 0||n.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function uo(t){return kre(t)}function pa(t){return Pre(t)}function df(t){return Dre(t)}function Go(t){return Nre(t)}function jre(t){return t instanceof Fk}function Wre(t,e){return t==="value"||uo(e)||pa(e)||jre(e)}function au(t,...e){if(!e.length)return t;const n=e.shift();if(so(t)&&so(n))for(const i in n)Wre(i,n[i])?t[i]=n[i]:so(n[i])?(t[i]||Object.assign(t,{[i]:{}}),au(t[i],n[i])):Object.assign(t,{[i]:n[i]});return au(t,...e)}function Xre(t,e){return t.length===e.length&&t.every((n,i)=>e[i]===n)}function Rt(t,e,n=[],i){const s={},a=Array.from(e);if(so(a[0])&&i&&!Reflect.has(a[0],i)&&(Object.keys(a[0]).some(u=>Reflect.has(t,u))||(au(s,{[i]:a[0]}),n.splice(n.indexOf(i),1),a.shift())),a.length===1&&so(a[0]))au(s,a[0]);else for(let r=0;r<n.length;r++)Bt(a[r])&&(s[n[r]]=a[r]);return au(t,s)}function Hre(t){return t.constructor.getDefaults()}function ou(t,e){return pi(t)?e:t}function wI(t,e){return e.forEach(n=>{Reflect.has(t,n)&&delete t[n]}),t}/**
 * Tone.js
 * @author Yotam Mann
 * @license http://opensource.org/licenses/MIT MIT License
 * @copyright 2014-2024 Yotam Mann
 */class Vs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||vn&&this.toString()===vn.TONE_DEBUG_CLASS)&&Kre(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Vs.version=ck;const N1=1e-6;function du(t,e){return t>e+N1}function Yv(t,e){return du(t,e)||Ci(t,e)}function Df(t,e){return t+N1<e}function Ci(t,e){return Math.abs(t-e)<N1}function Yre(t,e,n){return Math.max(Math.min(t,n),e)}class di extends Vs{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Rt(di.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(Ct(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const n=this._timeline[this.length-1];Ct(Yv(e.time,n.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const n=this._search(e.time);this._timeline.splice(n+1,0,e)}if(this.length>this.memory){const n=this.length-this.memory;this._timeline.splice(0,n)}return this}remove(e){const n=this._timeline.indexOf(e);return n!==-1&&this._timeline.splice(n,1),this}get(e,n="time"){const i=this._search(e,n);return i!==-1?this._timeline[i]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,n="time"){const i=this._search(e,n);return i+1<this._timeline.length?this._timeline[i+1]:null}getBefore(e){const n=this._timeline.length;if(n>0&&this._timeline[n-1].time<e)return this._timeline[n-1];const i=this._search(e);return i-1>=0?this._timeline[i-1]:null}cancel(e){if(this._timeline.length>1){let n=this._search(e);if(n>=0)if(Ci(this._timeline[n].time,e)){for(let i=n;i>=0&&Ci(this._timeline[i].time,e);i--)n=i;this._timeline=this._timeline.slice(0,n)}else this._timeline=this._timeline.slice(0,n+1);else this._timeline=[]}else this._timeline.length===1&&Yv(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const n=this._search(e);return n>=0&&(this._timeline=this._timeline.slice(n+1)),this}previousEvent(e){const n=this._timeline.indexOf(e);return n>0?this._timeline[n-1]:null}_search(e,n="time"){if(this._timeline.length===0)return-1;let i=0;const s=this._timeline.length;let a=s;if(s>0&&this._timeline[s-1][n]<=e)return s-1;for(;i<a;){let r=Math.floor(i+(a-i)/2);const u=this._timeline[r],c=this._timeline[r+1];if(Ci(u[n],e)){for(let f=r;f<this._timeline.length;f++){const h=this._timeline[f];if(Ci(h[n],e))r=f;else break}return r}else{if(Df(u[n],e)&&du(c[n],e))return r;du(u[n],e)?a=r:i=r+1}}return-1}_iterate(e,n=0,i=this._timeline.length-1){this._timeline.slice(n,i+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,n){const i=this._search(e);return i!==-1&&this._iterate(n,0,i),this}forEachAfter(e,n){const i=this._search(e);return this._iterate(n,i+1),this}forEachBetween(e,n,i){let s=this._search(e),a=this._search(n);return s!==-1&&a!==-1?(this._timeline[s].time!==e&&(s+=1),this._timeline[a].time===n&&(a-=1),this._iterate(i,s,a)):s===-1&&this._iterate(i,0,a),this}forEachFrom(e,n){let i=this._search(e);for(;i>=0&&this._timeline[i].time>=e;)i--;return this._iterate(n,i+1),this}forEachAtTime(e,n){const i=this._search(e);if(i!==-1&&Ci(this._timeline[i].time,e)){let s=i;for(let a=i;a>=0&&Ci(this._timeline[a].time,e);a--)s=a;this._iterate(a=>{n(a)},s,i)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const aD=[];function Lh(t){aD.push(t)}function zre(t){aD.forEach(e=>e(t))}const oD=[];function wh(t){oD.push(t)}function Jre(t){oD.forEach(e=>e(t))}class zl extends Vs{constructor(){super(...arguments),this.name="Emitter"}on(e,n){return e.split(/\W+/).forEach(s=>{pi(this._events)&&(this._events={}),this._events.hasOwnProperty(s)||(this._events[s]=[]),this._events[s].push(n)}),this}once(e,n){const i=(...s)=>{n(...s),this.off(e,i)};return this.on(e,i),this}off(e,n){return e.split(/\W+/).forEach(s=>{if(pi(this._events)&&(this._events={}),this._events.hasOwnProperty(s))if(pi(n))this._events[s]=[];else{const a=this._events[s];for(let r=a.length-1;r>=0;r--)a[r]===n&&a.splice(r,1)}}),this}emit(e,...n){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(let s=0,a=i.length;s<a;s++)i[s].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach(n=>{const i=Object.getOwnPropertyDescriptor(zl.prototype,n);Object.defineProperty(e.prototype,n,i)})}dispose(){return super.dispose(),this._events=void 0,this}}class uD extends zl{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Jl extends uD{constructor(){var e,n;super(),this.name="Context",this._constants=new Map,this._timeouts=new di,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const i=Rt(Jl.getDefaults(),arguments,["context"]);i.context?(this._context=i.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=$re({latencyHint:i.latencyHint}),this._latencyHint=i.latencyHint),this._ticker=new Gre(this.emit.bind(this,"tick"),i.clockSource,i.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((n=arguments[0])===null||n===void 0)&&n.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=i.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(zre(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,n,i){return this._context.createBuffer(e,n,i)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,n){return this._context.createIIRFilter(e,n)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,n,i){return this._context.createPeriodicWave(e,n,i)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return Ct(Go(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return Ct(Go(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return Ct(Go(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){Ct(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){Ct(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){Ct(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){Ct(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,n){return qre(this.rawContext,e,n)}addAudioWorkletModule(e){return gr(this,void 0,void 0,function*(){Ct(Bt(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return gr(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return Go(this._context)?this._context.resume():Promise.resolve()}close(){return gr(this,void 0,void 0,function*(){Go(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&Jre(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const n=this._context.createBuffer(1,128,this._context.sampleRate),i=n.getChannelData(0);for(let a=0;a<i.length;a++)i[a]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=n,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();let n=this._timeouts.peek();for(;this._timeouts.length&&n&&n.time<=e;)n.callback(),this._timeouts.shift(),n=this._timeouts.peek()}setTimeout(e,n){this._timeoutIds++;const i=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:i+n}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(n=>{n.id===e&&this._timeouts.remove(n)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,n){const i=++this._timeoutIds,s=()=>{const a=this.now();this._timeouts.add({callback:()=>{e(),s()},id:i,time:a+n})};return s(),i}}class Zre extends uD{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,n,i){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,n){return{}}createPanner(){return{}}createPeriodicWave(e,n,i){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,n){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return gr(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,n){return 0}clearTimeout(e){return this}setInterval(e,n){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function xr(t,e){Pi(e)?e.forEach(n=>xr(t,n)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function lD(t,e){Pi(e)?e.forEach(n=>lD(t,n)):Object.defineProperty(t,e,{writable:!0})}const Jt=()=>{};class fr extends Vs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Jt;const e=Rt(fr.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Bs(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Jt,onload:Jt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Oi().sampleRate}set(e){return e instanceof fr?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return gr(this,void 0,void 0,function*(){const n=fr.load(e).then(i=>{this.set(i),this.onload(this)});fr.downloads.push(n);try{yield n}finally{const i=fr.downloads.indexOf(n);fr.downloads.splice(i,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const n=Pi(e)&&e[0].length>0,i=n?e.length:1,s=n?e[0].length:e.length,a=Oi(),r=a.createBuffer(i,s,a.sampleRate),u=!n&&i===1?[e]:e;for(let c=0;c<i;c++)r.copyToChannel(u[c],c);return this._buffer=r,this}toMono(e){if(ga(e))this.fromArray(this.toArray(e));else{let n=new Float32Array(this.length);const i=this.numberOfChannels;for(let s=0;s<i;s++){const a=this.toArray(s);for(let r=0;r<a.length;r++)n[r]+=a[r]}n=n.map(s=>s/i),this.fromArray(n)}return this}toArray(e){if(ga(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const n=[];for(let i=0;i<this.numberOfChannels;i++)n[i]=this.getChannelData(i);return n}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,n=this.duration){Ct(this.loaded,"Buffer is not loaded");const i=Math.floor(e*this.sampleRate),s=Math.floor(n*this.sampleRate);Ct(i<s,"The start time must be less than the end time");const a=s-i,r=Oi().createBuffer(this.numberOfChannels,a,this.sampleRate);for(let u=0;u<this.numberOfChannels;u++)r.copyToChannel(this.getChannelData(u).subarray(i,s),u);return new fr(r)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new fr().fromArray(e)}static fromUrl(e){return gr(this,void 0,void 0,function*(){return yield new fr().load(e)})}static load(e){return gr(this,void 0,void 0,function*(){const n=e.match(/\[([^\]\[]+\|.+)\]$/);if(n){const c=n[1].split("|");let f=c[0];for(const h of c)if(fr.supportsType(h)){f=h;break}e=e.replace(n[0],f)}const i=fr.baseUrl===""||fr.baseUrl.endsWith("/")?fr.baseUrl:fr.baseUrl+"/",s=document.createElement("a");s.href=i+e,s.pathname=(s.pathname+s.hash).split("/").map(encodeURIComponent).join("/");const a=yield fetch(s.href);if(!a.ok)throw new Error(`could not load url: ${e}`);const r=yield a.arrayBuffer();return yield Oi().decodeAudioData(r)})}static supportsType(e){const n=e.split("."),i=n[n.length-1];return document.createElement("audio").canPlayType("audio/"+i)!==""}static loaded(){return gr(this,void 0,void 0,function*(){for(yield Promise.resolve();fr.downloads.length;)yield fr.downloads[0]})}}fr.baseUrl="";fr.downloads=[];class P1 extends Jl{constructor(){super({clockSource:"offline",context:df(arguments[0])?arguments[0]:Vre(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:df(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=df(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return gr(this,void 0,void 0,function*(){let n=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,n++;const i=Math.floor(this.sampleRate/128);e&&n%i===0&&(yield new Promise(s=>setTimeout(s,1)))}})}render(){return gr(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const n=yield this._context.startRendering();return new fr(n)})}close(){return Promise.resolve()}}const cD=new Zre;let eo=cD;function Oi(){return eo===cD&&Fre&&Qre(new Jl),eo}function Qre(t,e=!1){e&&eo.dispose(),Go(t)?eo=new Jl(t):df(t)?eo=new P1(t):eo=t}function ene(){return eo.resume()}if(vn&&!vn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${ck} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function tne(t){return Math.pow(10,t/20)}function fD(t){return 20*(Math.log(t)/Math.LN10)}function hD(t){return Math.pow(2,t/12)}let Oh=440;function rne(){return Oh}function nne(t){Oh=t}function zv(t){return Math.round(pD(t))}function pD(t){return 69+12*Math.log2(t/Oh)}function ine(t){return Oh*Math.pow(2,(t-69)/12)}class k1 extends Vs{constructor(e,n,i){super(),this.defaultUnits="s",this._val=n,this._units=i,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,n)=>{const i=parseInt(e,10),s=n==="."?1.5:1;return i===1?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/i)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const n=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(n)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,n,i)=>{let s=0;return e&&e!=="0"&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s+=this._beatsToUnits(parseFloat(n))),i&&i!=="0"&&(s+=this._beatsToUnits(parseFloat(i)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof k1&&this.fromType(this._val),pi(this._val))return this._noArg();if(Bs(this._val)&&pi(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(so(this._val)){let e=0;for(const n in this._val)if(Bt(this._val[n])){const i=this._val[n],s=new this.constructor(this.context,n).valueOf()*i;e+=s}return e}if(Bt(this._units)){const e=this._expressions[this._units],n=this._val.toString().trim().match(e.regexp);return n?e.method.apply(this,n.slice(1)):e.method.call(this,this._val)}else return Bs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class Ii extends k1{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const n=new Ii(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(n))},regexp:/^@(.+)/}})}quantize(e,n=1){const i=new this.constructor(this.context,e).valueOf(),s=this.valueOf(),u=Math.round(s/i)*i-s;return s+u*n}toNotation(){const e=this.toSeconds(),n=["1m"];for(let a=1;a<9;a++){const r=Math.pow(2,a);n.push(r+"n."),n.push(r+"n"),n.push(r+"t")}n.push("0");let i=n[0],s=new Ii(this.context,n[0]).toSeconds();return n.forEach(a=>{const r=new Ii(this.context,a).toSeconds();Math.abs(r-e)<Math.abs(s-e)&&(i=a,s=r)}),i}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let n=this.valueOf()/e;n=parseFloat(n.toFixed(4));const i=Math.floor(n/this._getTimeSignature());let s=n%1*4;n=Math.floor(n)%this._getTimeSignature();const a=s.toString();return a.length>3&&(s=parseFloat(parseFloat(a).toFixed(3))),[i,n,s].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return zv(this.toFrequency())}_now(){return this.context.now()}}class fi extends Ii{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return rne()}static set A4(e){nne(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:fi.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,n){const s=sne[e.toLowerCase()]+(parseInt(n,10)+1)*12;return this.defaultUnits==="midi"?s:fi.mtof(s)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,n,i){let s=1;return e&&e!=="0"&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),n&&n!=="0"&&(s*=this._beatsToUnits(parseFloat(n))),i&&i!=="0"&&(s*=this._beatsToUnits(parseFloat(i)/4)),s}}})}transpose(e){return new fi(this.context,this.valueOf()*hD(e))}harmonize(e){return e.map(n=>this.transpose(n))}toMidi(){return zv(this.valueOf())}toNote(){const e=this.toFrequency(),n=Math.log2(e/fi.A4);let i=Math.round(12*n)+57;const s=Math.floor(i/12);return s<0&&(i+=-12*s),ane[i%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),n=this.valueOf()/e;return Math.floor(n*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return ine(e)}static ftom(e){return zv(e)}}const sne={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},ane=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class gl extends Ii{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Nn extends Vs{constructor(){super();const e=Rt(Nn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Oi()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return Mre(e),new Ii(this.context,e).toSeconds()}toFrequency(e){return new fi(this.context,e).toFrequency()}toTicks(e){return new gl(this.context,e).toTicks()}_getPartialProperties(e){const n=this.get();return Object.keys(n).forEach(i=>{pi(e[i])&&delete n[i]}),n}get(){const e=Hre(this);return Object.keys(e).forEach(n=>{if(Reflect.has(this,n)){const i=this[n];Bt(i)&&Bt(i.value)&&Bt(i.setValueAtTime)?e[n]=i.value:i instanceof Nn?e[n]=i._getPartialProperties(e[n]):Pi(i)||ga(i)||Bs(i)||Ure(i)?e[n]=i:delete e[n]}}),e}set(e){return Object.keys(e).forEach(n=>{Reflect.has(this,n)&&Bt(this[n])&&(this[n]&&Bt(this[n].value)&&Bt(this[n].setValueAtTime)?this[n].value!==e[n]&&(this[n].value=e[n]):this[n]instanceof Nn?this[n].set(e[n]):this[n]=e[n])}),this}}class D1 extends di{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const n=this.get(e);return n!==null?n.state:this._initial}setStateAtTime(e,n,i){return Us(n,0),this.add(Object.assign({},i,{state:e,time:n})),this}getLastState(e,n){const i=this._search(n);for(let s=i;s>=0;s--){const a=this._timeline[s];if(a.state===e)return a}}getNextState(e,n){const i=this._search(n);if(i!==-1)for(let s=i;s<this._timeline.length;s++){const a=this._timeline[s];if(a.state===e)return a}}}class yr extends Nn{constructor(){const e=Rt(yr.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,Ct(Bt(e.param)&&(uo(e.param)||e.param instanceof yr),"param must be an AudioParam");!uo(e.param);)e.param=e.param._param;this._swappable=Bt(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new di(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Bt(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Nn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Bt(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return Bt(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,n){return this.units===n}_assertRange(e){return Bt(this.maxValue)&&Bt(this.minValue)&&Us(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?tne(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?fD(e):e}setValueAtTime(e,n){const i=this.toSeconds(n),s=this._fromType(e);return Ct(isFinite(s)&&isFinite(i),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,i),this._events.add({time:i,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,i),this}getValueAtTime(e){const n=Math.max(this.toSeconds(e),0),i=this._events.getAfter(n),s=this._events.get(n);let a=this._initialValue;if(s===null)a=this._initialValue;else if(s.type==="setTargetAtTime"&&(i===null||i.type==="setValueAtTime")){const r=this._events.getBefore(s.time);let u;r===null?u=this._initialValue:u=r.value,s.type==="setTargetAtTime"&&(a=this._exponentialApproach(s.time,u,s.value,s.constant,n))}else if(i===null)a=s.value;else if(i.type==="linearRampToValueAtTime"||i.type==="exponentialRampToValueAtTime"){let r=s.value;if(s.type==="setTargetAtTime"){const u=this._events.getBefore(s.time);u===null?r=this._initialValue:r=u.value}i.type==="linearRampToValueAtTime"?a=this._linearInterpolate(s.time,r,i.time,i.value,n):a=this._exponentialInterpolate(s.time,r,i.time,i.value,n)}else a=s.value;return this._toType(a)}setRampPoint(e){e=this.toSeconds(e);let n=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(n)===0&&(n=this._toType(this._minOutput)),this.setValueAtTime(n,e),this}linearRampToValueAtTime(e,n){const i=this._fromType(e),s=this.toSeconds(n);return Ct(isFinite(i)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._assertRange(i),this._events.add({time:s,type:"linearRampToValueAtTime",value:i}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(i,s),this}exponentialRampToValueAtTime(e,n){let i=this._fromType(e);i=Ci(i,0)?this._minOutput:i,this._assertRange(i);const s=this.toSeconds(n);return Ct(isFinite(i)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:i}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(i,s),this}exponentialRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialRampToValueAtTime(e,i+this.toSeconds(n)),this}linearRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.linearRampToValueAtTime(e,i+this.toSeconds(n)),this}targetRampTo(e,n,i){return i=this.toSeconds(i),this.setRampPoint(i),this.exponentialApproachValueAtTime(e,i,n),this}exponentialApproachValueAtTime(e,n,i){n=this.toSeconds(n),i=this.toSeconds(i);const s=Math.log(i+1)/Math.log(200);return this.setTargetAtTime(e,n,s),this.cancelAndHoldAtTime(n+i*.9),this.linearRampToValueAtTime(e,n+i),this}setTargetAtTime(e,n,i){const s=this._fromType(e);Ct(isFinite(i)&&i>0,"timeConstant must be a number greater than 0");const a=this.toSeconds(n);return this._assertRange(s),Ct(isFinite(s)&&isFinite(a),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(n)}`),this._events.add({constant:i,time:a,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,a,i),this._param.setTargetAtTime(s,a,i),this}setValueCurveAtTime(e,n,i,s=1){i=this.toSeconds(i),n=this.toSeconds(n);const a=this._fromType(e[0])*s;this.setValueAtTime(this._toType(a),n);const r=i/(e.length-1);for(let u=1;u<e.length;u++){const c=this._fromType(e[u])*s;this.linearRampToValueAtTime(this._toType(c),n+u*r)}return this}cancelScheduledValues(e){const n=this.toSeconds(e);return Ct(isFinite(n),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(n),this._param.cancelScheduledValues(n),this.log(this.units,"cancelScheduledValues",n),this}cancelAndHoldAtTime(e){const n=this.toSeconds(e),i=this._fromType(this.getValueAtTime(n));Ct(isFinite(n),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",n,"value="+i);const s=this._events.get(n),a=this._events.getAfter(n);return s&&Ci(s.time,n)?a?(this._param.cancelScheduledValues(a.time),this._events.cancel(a.time)):(this._param.cancelAndHoldAtTime(n),this._events.cancel(n+this.sampleTime)):a&&(this._param.cancelScheduledValues(a.time),this._events.cancel(a.time),a.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(i),n):a.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(i),n)),this._events.add({time:n,type:"setValueAtTime",value:i}),this._param.setValueAtTime(i,n),this}rampTo(e,n=.1,i){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,n,i):this.linearRampTo(e,n,i),this}apply(e){const n=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(n),n);const i=this._events.get(n);if(i&&i.type==="setTargetAtTime"){const s=this._events.getAfter(i.time),a=s?s.time:n+2,r=(a-n)/10;for(let u=n;u<a;u+=r)e.linearRampToValueAtTime(this.getValueAtTime(u),u)}return this._events.forEachAfter(this.context.currentTime,s=>{s.type==="cancelScheduledValues"?e.cancelScheduledValues(s.time):s.type==="setTargetAtTime"?e.setTargetAtTime(s.value,s.time,s.constant):e[s.type](s.value,s.time)}),this}setParam(e){Ct(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const n=this.input;return n.disconnect(this._param),this.apply(e),this._param=e,n.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,n,i,s,a){return i+(n-i)*Math.exp(-(a-e)/s)}_linearInterpolate(e,n,i,s,a){return n+(s-n)*((a-e)/(i-e))}_exponentialInterpolate(e,n,i,s,a){return n*Math.pow(s/n,(a-e)/(i-e))}}class bt extends Nn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return Bt(this.input)?uo(this.input)||this.input instanceof yr?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Bt(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Bt(e)&&(e instanceof bt||pa(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(i=>{i.channelCount=e.channelCount,i.channelCountMode=e.channelCountMode,i.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();Ct(e.length>0,"ToneAudioNode does not have any internal nodes");const n=e[0];return{channelCount:n.channelCount,channelCountMode:n.channelCountMode,channelInterpretation:n.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const n=this._getChannelProperties();this._setChannelProperties(Object.assign(n,{channelInterpretation:e}))}connect(e,n=0,i=0){return _o(this,e,n,i),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Ah("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,n=0,i=0){return one(this,e,n,i),this}chain(...e){return Jv(this,...e),this}fan(...e){return e.forEach(n=>this.connect(n)),this}dispose(){return super.dispose(),Bt(this.input)&&(this.input instanceof bt?this.input.dispose():pa(this.input)&&this.input.disconnect()),Bt(this.output)&&(this.output instanceof bt?this.output.dispose():pa(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Jv(...t){const e=t.shift();t.reduce((n,i)=>(n instanceof bt?n.connect(i):pa(n)&&_o(n,i),i),e)}function _o(t,e,n=0,i=0){for(Ct(Bt(t),"Cannot connect from undefined node"),Ct(Bt(e),"Cannot connect to undefined node"),(e instanceof bt||pa(e))&&Ct(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Ct(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof bt||e instanceof yr;)Bt(e.input)&&(e=e.input);for(;t instanceof bt;)Bt(t.output)&&(t=t.output);uo(e)?t.connect(e,n):t.connect(e,n,i)}function one(t,e,n=0,i=0){if(Bt(e))for(;e instanceof bt;)e=e.input;for(;!pa(t);)Bt(t.output)&&(t=t.output);uo(e)?t.disconnect(e,n):pa(e)?t.disconnect(e,n,i):t.disconnect()}class Vr extends bt{constructor(){const e=Rt(Vr.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new yr({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),xr(this,"gain")}static getDefaults(){return Object.assign(bt.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class _u extends bt{constructor(e){super(e),this.onended=Jt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Vr({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(n){const i=this.toSeconds(n);return this._startTime!==-1&&i>=this._startTime&&(this._stopTime===-1||i<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(bt.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Jt})}_startGain(e,n=1){Ct(this._startTime===-1,"Source cannot be started more than once");const i=this.toSeconds(this._fadeIn);return this._startTime=e+i,this._startTime=Math.max(this._startTime,this.context.currentTime),i>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(n,e+i):this._gainNode.gain.exponentialApproachValueAtTime(n,e,i)):this._gainNode.gain.setValueAtTime(n,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){Ct(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const n=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+n,this._stopTime=Math.max(this._stopTime,this.now()),n>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,n,e):this._gainNode.gain.targetRampTo(0,n,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const i=this._curve==="exponential"?n*2:0;this._stopSource(this.now()+i),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Jt&&(this.onended(this),this.onended=Jt,!this.context.isOffline)){const e=()=>this.dispose();typeof window.requestIdleCallback<"u"?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Ct(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Jt,this}}class B1 extends _u{constructor(){const e=Rt(B1.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),_o(this._source,this._gainNode),this.offset=new yr({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(_u.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._source.start(n),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class zr extends bt{constructor(){const e=Rt(zr.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new B1({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(bt.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,n=0,i=0){return U1(this,e,n,i),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,n){return this._param.setValueAtTime(e,n),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,n){return this._param.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,n){return this._param.exponentialRampToValueAtTime(e,n),this}exponentialRampTo(e,n,i){return this._param.exponentialRampTo(e,n,i),this}linearRampTo(e,n,i){return this._param.linearRampTo(e,n,i),this}targetRampTo(e,n,i){return this._param.targetRampTo(e,n,i),this}exponentialApproachValueAtTime(e,n,i){return this._param.exponentialApproachValueAtTime(e,n,i),this}setTargetAtTime(e,n,i){return this._param.setTargetAtTime(e,n,i),this}setValueCurveAtTime(e,n,i,s){return this._param.setValueCurveAtTime(e,n,i,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,n,i){return this._param.rampTo(e,n,i),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function U1(t,e,n,i){(e instanceof yr||uo(e)||e instanceof zr&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof zr&&(e.overridden=!0)),_o(t,e,n,i)}class M1 extends yr{constructor(){const e=Rt(M1.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new di(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(yr.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,n,i){n=this.toSeconds(n),this.setRampPoint(n);const s=this._fromType(e),a=this._events.get(n),r=Math.round(Math.max(1/i,1));for(let u=0;u<=r;u++){const c=i*u+n,f=this._exponentialApproach(a.time,a.value,s,i,c);this.linearRampToValueAtTime(this._toType(f),c)}return this}setValueAtTime(e,n){const i=this.toSeconds(n);super.setValueAtTime(e,n);const s=this._events.get(i),a=this._events.previousEvent(s),r=this._getTicksUntilEvent(a,i);return s.ticks=Math.max(r,0),this}linearRampToValueAtTime(e,n){const i=this.toSeconds(n);super.linearRampToValueAtTime(e,n);const s=this._events.get(i),a=this._events.previousEvent(s),r=this._getTicksUntilEvent(a,i);return s.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(e,n){n=this.toSeconds(n);const i=this._fromType(e),s=this._events.get(n),a=Math.round(Math.max((n-s.time)*10,1)),r=(n-s.time)/a;for(let u=0;u<=a;u++){const c=r*u+s.time,f=this._exponentialInterpolate(s.time,s.value,n,i,c);this.linearRampToValueAtTime(this._toType(f),c)}return this}_getTicksUntilEvent(e,n){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(pi(e.ticks)){const r=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(r,e.time)}const i=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(n));const a=this._events.get(n);return a&&a.time===n&&a.type==="setValueAtTime"&&(s=this._fromType(this.getValueAtTime(n-this.sampleTime))),.5*(n-e.time)*(i+s)+e.ticks}getTicksAtTime(e){const n=this.toSeconds(e),i=this._events.get(n);return Math.max(this._getTicksUntilEvent(i,n),0)}getDurationOfTicks(e,n){const i=this.toSeconds(n),s=this.getTicksAtTime(n);return this.getTimeOfTick(s+e)-i}getTimeOfTick(e){const n=this._events.get(e,"ticks"),i=this._events.getAfter(e,"ticks");if(n&&n.ticks===e)return n.time;if(n&&i&&i.type==="linearRampToValueAtTime"&&n.value!==i.value){const s=this._fromType(this.getValueAtTime(n.time)),r=(this._fromType(this.getValueAtTime(i.time))-s)/(i.time-n.time),u=Math.sqrt(Math.pow(s,2)-2*r*(n.ticks-e)),c=(-s+u)/r,f=(-s-u)/r;return(c>0?c:f)+n.time}else return n?n.value===0?1/0:n.time+(e-n.ticks)/n.value:e/this._initialValue}ticksToTime(e,n){return this.getDurationOfTicks(e,n)}timeToTicks(e,n){const i=this.toSeconds(n),s=this.toSeconds(e),a=this.getTicksAtTime(i);return this.getTicksAtTime(i+s)-a}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const n=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(n,0)}}class K1 extends zr{constructor(){const e=Rt(K1.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new M1({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(zr.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,n){return this._param.ticksToTime(e,n)}timeToTicks(e,n){return this._param.timeToTicks(e,n)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,n){return this._param.getDurationOfTicks(e,n)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class $1 extends Nn{constructor(){const e=Rt($1.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new D1,this._tickOffset=new di,this._ticksAtTime=new di,this._secondsAtTime=new di,this.frequency=new K1({context:this.context,units:e.units,value:e.frequency}),xr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Nn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,n){const i=this.toSeconds(e);return this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),Bt(n)&&this.setTicksAtTime(n,i),this._ticksAtTime.cancel(i),this._secondsAtTime.cancel(i)),this}stop(e){const n=this.toSeconds(e);if(this._state.getValueAtTime(n)==="stopped"){const i=this._state.get(n);i&&i.time>0&&(this._tickOffset.cancel(i.time),this._state.cancel(i.time))}return this._state.cancel(n),this._state.setStateAtTime("stopped",n),this.setTicksAtTime(0,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const n=this.toSeconds(e),i=this._state.getLastState("stopped",n),s=this._ticksAtTime.get(n),a={state:"paused",time:n};this._state.add(a);let r=s||i,u=s?s.ticks:0,c=null;return this._state.forEachBetween(r.time,n+this.sampleTime,f=>{let h=r.time;const d=this._tickOffset.get(f.time);d&&d.time>=r.time&&(u=d.ticks,h=d.time),r.state==="started"&&f.state!=="started"&&(u+=this.frequency.getTicksAtTime(f.time)-this.frequency.getTicksAtTime(h),f.time!==a.time&&(c={state:f.state,time:f.time,ticks:u})),r=f}),this._state.remove(a),c&&this._ticksAtTime.add(c),u}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const n=this.now(),i=this.frequency.timeToTicks(e,n);this.setTicksAtTime(i,n)}getSecondsAtTime(e){e=this.toSeconds(e);const n=this._state.getLastState("stopped",e),i={state:"paused",time:e};this._state.add(i);const s=this._secondsAtTime.get(e);let a=s||n,r=s?s.seconds:0,u=null;return this._state.forEachBetween(a.time,e+this.sampleTime,c=>{let f=a.time;const h=this._tickOffset.get(c.time);h&&h.time>=a.time&&(r=h.seconds,f=h.time),a.state==="started"&&c.state!=="started"&&(r+=c.time-f,c.time!==i.time&&(u={state:c.state,time:c.time,seconds:r})),a=c}),this._state.remove(i),u&&this._secondsAtTime.add(u),r}setTicksAtTime(e,n){return n=this.toSeconds(n),this._tickOffset.cancel(n),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,n),ticks:e,time:n}),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,n=this.now()){const i=this._tickOffset.get(n),s=this._state.get(n),a=Math.max(i.time,s.time),r=this.frequency.getTicksAtTime(a)+e-i.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(e,n,i){let s=this._state.get(e);this._state.forEachBetween(e,n,r=>{s&&s.state==="started"&&r.state!=="started"&&this.forEachTickBetween(Math.max(s.time,e),r.time-this.sampleTime,i),s=r});let a=null;if(s&&s.state==="started"){const r=Math.max(s.time,e),u=this.frequency.getTicksAtTime(r),c=this.frequency.getTicksAtTime(s.time),f=u-c;let h=Math.ceil(f)-f;h=Ci(h,1)?0:h;let d=this.frequency.getTimeOfTick(u+h);for(;d<n;){try{i(d,Math.round(this.getTicksAtTime(d)))}catch(g){a=g;break}d+=this.frequency.getDurationOfTicks(1,d)}}if(a)throw a;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Ih extends Nn{constructor(){const e=Rt(Ih.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Jt,this._lastUpdate=0,this._state=new D1("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new $1({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,xr(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Nn.getDefaults(),{callback:Jt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,n){nD(this.context);const i=this.toSeconds(e);return this.log("start",i),this._state.getValueAtTime(i)!=="started"&&(this._state.setStateAtTime("started",i),this._tickSource.start(i,n),i<this._lastUpdate&&this.emit("start",i,n)),this}stop(e){const n=this.toSeconds(e);return this.log("stop",n),this._state.cancel(n),this._state.setStateAtTime("stopped",n),this._tickSource.stop(n),n<this._lastUpdate&&this.emit("stop",n),this}pause(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)==="started"&&(this._state.setStateAtTime("paused",n),this._tickSource.pause(n),n<this._lastUpdate&&this.emit("pause",n)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,n){return this._tickSource.setTicksAtTime(e,n),this}getTimeOfTick(e,n=this.now()){return this._tickSource.getTimeOfTick(e,n)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,n){const i=this.toSeconds(n),s=this.getTicksAtTime(i);return this._tickSource.getTimeOfTick(s+e,i)}_loop(){const e=this._lastUpdate,n=this.now();this._lastUpdate=n,this.log("loop",e,n),e!==n&&(this._state.forEachBetween(e,n,i=>{switch(i.state){case"started":const s=this._tickSource.getTicksAtTime(i.time);this.emit("start",i.time,s);break;case"stopped":i.time!==0&&this.emit("stop",i.time);break;case"paused":this.emit("pause",i.time);break}}),this._tickSource.forEachTickBetween(e,n,(i,s)=>{this.callback(i,s)}))}getStateAtTime(e){const n=this.toSeconds(e);return this._state.getValueAtTime(n)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}zl.mixin(Ih);class mo extends bt{constructor(){const e=Rt(mo.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new Vr({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,xr(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(bt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class V1 extends bt{constructor(){const e=Rt(V1.getDefaults(),arguments);super(e),this.name="Destination",this.input=new mo({context:this.context}),this.output=new Vr({context:this.context}),this.volume=this.input.volume,Jv(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(bt.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Jv(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Lh(t=>{t.destination=new V1({context:t})});wh(t=>{t.destination.dispose()});class une extends bt{constructor(){super(...arguments),this.name="Listener",this.positionX=new yr({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new yr({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new yr({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new yr({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new yr({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new yr({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new yr({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new yr({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new yr({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(bt.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Lh(t=>{t.listener=new une({context:t})});wh(t=>{t.listener.dispose()});class F1 extends Vs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Rt(F1.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(n=>{this._loadingCount++;const i=e.urls[n];this.add(n,i,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Jt,onload:Jt,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return Ct(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,n])=>n.loaded)}add(e,n,i=Jt,s=Jt){return Bs(n)?(this.baseUrl&&n.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new fr(this.baseUrl+n,i,s))):this._buffers.set(e.toString(),new fr(n,i,s)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Xo extends gl{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class lne extends Nn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new di,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,n){return this._events.add({callback:e,time:this.toSeconds(n)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const n=this._events.shift();n&&e-n.time<=this.expiration&&n.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Lh(t=>{t.draw=new lne({context:t})});wh(t=>{t.draw.dispose()});class cne extends Vs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){Ct(Bt(e.time),"Events must have a time property"),Ct(Bt(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let n=new fne(e.time,e.time+e.duration,e);for(this._root===null?this._root=n:this._root.insert(n),this._length++;n!==null;)n.updateHeight(),n.updateMax(),this._rebalance(n),n=n.parent;return this}remove(e){if(this._root!==null){const n=[];this._root.search(e.time,n);for(const i of n)if(i.event===e){this._removeNode(i),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,n=>this.remove(n)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,n){e.parent!==null?(e.isLeftChild()?e.parent.left=n:e.parent.right=n,this._rebalance(e.parent)):this._setRoot(n)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const n=e.getBalance();let i,s=null;if(n>0)if(e.left.right===null)i=e.left,i.right=e.right,s=i;else{for(i=e.left.right;i.right!==null;)i=i.right;i.parent&&(i.parent.right=i.left,s=i.parent,i.left=e.left,i.right=e.right)}else if(e.right.left===null)i=e.right,i.left=e.left,s=i;else{for(i=e.right.left;i.left!==null;)i=i.left;i.parent&&(i.parent.left=i.right,s=i.parent,i.left=e.left,i.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=i:e.parent.right=i:this._setRoot(i),s&&this._rebalance(s)}e.dispose()}_rotateLeft(e){const n=e.parent,i=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),n!==null?i?n.left=s:n.right=s:this._setRoot(s)}_rotateRight(e){const n=e.parent,i=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),n!==null?i?n.left=s:n.right=s:this._setRoot(s)}_rebalance(e){const n=e.getBalance();n>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):n<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const n=[];if(this._root.search(e,n),n.length>0){let i=n[0];for(let s=1;s<n.length;s++)n[s].low>i.low&&(i=n[s]);return i.event}}return null}forEach(e){if(this._root!==null){const n=[];this._root.traverse(i=>n.push(i)),n.forEach(i=>{i.event&&e(i.event)})}return this}forEachAtTime(e,n){if(this._root!==null){const i=[];this._root.search(e,i),i.forEach(s=>{s.event&&n(s.event)})}return this}forEachFrom(e,n){if(this._root!==null){const i=[];this._root.searchAfter(e,i),i.forEach(s=>{s.event&&n(s.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class fne{constructor(e,n,i){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=i,this.low=e,this.high=n,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,n){e>this.max||(this.left!==null&&this.left.search(e,n),this.low<=e&&this.high>e&&n.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,n))}searchAfter(e,n){this.low>=e&&(n.push(this),this.left!==null&&this.left.searchAfter(e,n)),this.right!==null&&this.right.searchAfter(e,n)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class hne extends Vs{constructor(e){super(),this.name="TimelineValue",this._timeline=new di({memory:10}),this._initialValue=e}set(e,n){return this._timeline.add({value:e,time:n}),this}get(e){const n=this._timeline.get(e);return n?n.value:this._initialValue}}class mu extends bt{constructor(){super(Rt(mu.getDefaults(),arguments,["context"]))}connect(e,n=0,i=0){return U1(this,e,n,i),this}}class Zl extends mu{constructor(){const e=Rt(Zl.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Pi(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Bre(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(zr.getDefaults(),{length:1024})}setMap(e,n=1024){const i=new Float32Array(n);for(let s=0,a=n;s<a;s++){const r=s/(a-1)*2-1;i[s]=e(r,s)}return this.curve=i,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const n=["none","2x","4x"].some(i=>i.includes(e));Ct(n,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class q1 extends mu{constructor(){const e=Rt(q1.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Zl({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(mu.getDefaults(),{value:1})}_expFunc(e){return n=>Math.pow(Math.abs(n),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ea{constructor(e,n){this.id=Ea._eventId++,this._remainderTime=0;const i=Object.assign(Ea.getDefaults(),n);this.transport=e,this.callback=i.callback,this._once=i.once,this.time=Math.floor(i.time),this._remainderTime=i.time-this.time}static getDefaults(){return{callback:Jt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const n=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*n),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ea._eventId=0;class G1 extends Ea{constructor(e,n){super(e,n),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const i=Object.assign(G1.getDefaults(),n);this.duration=i.duration,this._interval=i.interval,this._nextTick=i.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ea.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Df(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Xo(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Df(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Xo(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const n=this.transport.getTicksAtTime(e);du(n,this.time)&&(this._nextTick=this.floatTime+Math.ceil((n-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Nh extends Nn{constructor(){const e=Rt(Nh.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new hne(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new di,this._repeatedEvents=new cne,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Ih({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),xr(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Nn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,n){if(this._loop.get(e)&&n>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),n=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&n%this._ppq!==0&&n%(this._swingTicks*2)!==0){const i=n%(this._swingTicks*2)/(this._swingTicks*2),s=Math.sin(i*Math.PI)*this._swingAmount;e+=new Xo(this.context,this._swingTicks*2/3).toSeconds()*s}LI(!0),this._timeline.forEachAtTime(n,i=>i.invoke(e)),LI(!1)}schedule(e,n){const i=new Ea(this,{callback:e,time:new gl(this.context,n).toTicks()});return this._addEvent(i,this._timeline)}scheduleRepeat(e,n,i,s=1/0){const a=new G1(this,{callback:e,duration:new Ii(this.context,s).toTicks(),interval:new Ii(this.context,n).toTicks(),time:new gl(this.context,i).toTicks()});return this._addEvent(a,this._repeatedEvents)}scheduleOnce(e,n){const i=new Ea(this,{callback:e,once:!0,time:new gl(this.context,n).toTicks()});return this._addEvent(i,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const n=this._scheduledEvents[e.toString()];n.timeline.remove(n.event),n.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,n){return this._scheduledEvents[e.id.toString()]={event:e,timeline:n},n.add(e),e.id}cancel(e=0){const n=this.toTicks(e);return this._timeline.forEachFrom(n,i=>this.clear(i.id)),this._repeatedEvents.forEachFrom(n,i=>this.clear(i.id)),this}_bindClockEvents(){this._clock.on("start",(e,n)=>{n=new Xo(this.context,n).toSeconds(),this.emit("start",e,n)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,n){this.context.resume();let i;return Bt(n)&&(i=this.toTicks(n)),this._clock.start(e,i),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Pi(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Ii(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Ii(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Xo(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),n=this._clock.getTicksAtTime(e);return new Xo(this.context,n).toBarsBeatsSixteenths()}set position(e){const n=this.toTicks(e);this.ticks=n}get seconds(){return this._clock.seconds}set seconds(e){const n=this.now(),i=this._clock.frequency.timeToTicks(e,n);this.ticks=i}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const n=this.now();if(this.state==="started"){const i=this._clock.getTicksAtTime(n),s=this._clock.frequency.getDurationOfTicks(Math.ceil(i)-i,n),a=n+s;this.emit("stop",a),this._clock.setTicksAtTime(e,a),this.emit("start",a,this._clock.getSecondsAtTime(a))}else this.emit("ticks",n),this._clock.setTicksAtTime(e,n)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const n=this.now(),i=this.getTicksAtTime(n),s=e-i%e;return this._clock.nextTickTime(s,n)}}syncSignal(e,n){const i=this.now();let s=this.bpm,a=1/(60/s.getValueAtTime(i)/this.PPQ),r=[];if(e.units==="time"){const c=.015625/a,f=new Vr(c),h=new q1(-1),d=new Vr(c);s.chain(f,h,d),s=d,a=1/a,r=[f,h,d]}n||(e.getValueAtTime(i)!==0?n=e.getValueAtTime(i)/a:n=0);const u=new Vr(n);return s.connect(u),u.connect(e._param),r.push(u),this._syncedSignals.push({initial:e.value,nodes:r,signal:e}),e.value=0,this}unsyncSignal(e){for(let n=this._syncedSignals.length-1;n>=0;n--){const i=this._syncedSignals[n];i.signal===e&&(i.nodes.forEach(s=>s.dispose()),i.signal.value=i.initial,this._syncedSignals.splice(n,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),lD(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}zl.mixin(Nh);Lh(t=>{t.transport=new Nh({context:t})});wh(t=>{t.transport.dispose()});class zn extends bt{constructor(e){super(e),this.input=void 0,this._state=new D1("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Jt,this._syncedStop=Jt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new mo({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,xr(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(bt.getDefaults(),{mute:!1,onstop:Jt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,n,i){let s=pi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),!this._synced&&this._state.getValueAtTime(s)==="started")Ct(du(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,n,i);else if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const a=this._state.get(s);a&&(a.offset=this.toSeconds(ou(n,0)),a.duration=i?this.toSeconds(i):void 0);const r=this.context.transport.schedule(u=>{this._start(u,n,i)},s);this._scheduled.push(r),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else nD(this.context),this._start(s,n,i);return this}stop(e){let n=pi(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(n=this._clampToCurrentTime(n),this._state.getValueAtTime(n)==="started"||Bt(this._state.getNextState("started",n))){if(this.log("stop",n),!this._synced)this._stop(n);else{const i=this.context.transport.schedule(this._stop.bind(this),n);this._scheduled.push(i)}this._state.cancel(n),this._state.setStateAtTime("stopped",n)}return this}restart(e,n,i){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,n,i)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,n)=>{if(du(n,0)){const i=this._state.get(n);if(i&&i.state==="started"&&i.time!==n){const s=n-this.toSeconds(i.time);let a;i.duration&&(a=this.toSeconds(i.duration)-s),this._start(e,this.toSeconds(i.offset)+s,a)}}},this._syncedStop=e=>{const n=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(n)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Jt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Ph extends _u{constructor(){const e=Rt(Ph.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,_o(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new yr({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new fr(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(_u.getDefaults(),{url:new fr,loop:!1,loopEnd:0,loopStart:0,onload:Jt,onerror:Jt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,n,i,s=1){Ct(this.buffer.loaded,"buffer is either not set or not loaded");const a=this.toSeconds(e);this._startGain(a,s),this.loop?n=ou(n,this.loopStart):n=ou(n,0);let r=Math.max(this.toSeconds(n),0);if(this.loop){const u=this.toSeconds(this.loopEnd)||this.buffer.duration,c=this.toSeconds(this.loopStart),f=u-c;Yv(r,u)&&(r=(r-c)%f+c),Ci(r,this.buffer.duration)&&(r=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Df(r,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(a,r)),Bt(i)){let u=this.toSeconds(i);u=Math.max(u,0),this.stop(a+u)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class El extends bt{constructor(){const e=Rt(El.getDefaults(),arguments,["volume"]);super(e),this.name="UserMedia",this._volume=this.output=new mo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,xr(this,"volume"),this.mute=e.mute}static getDefaults(){return Object.assign(bt.getDefaults(),{mute:!1,volume:0})}open(e){return gr(this,void 0,void 0,function*(){Ct(El.supported,"UserMedia is not supported"),this.state==="started"&&this.close();const n=yield El.enumerateDevices();ga(e)?this._device=n[e]:(this._device=n.find(a=>a.label===e||a.deviceId===e),!this._device&&n.length>0&&(this._device=n[0]),Ct(Bt(this._device),`No matching device ${e}`));const i={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(i.audio.deviceId=this._device.deviceId);const s=yield navigator.mediaDevices.getUserMedia(i);if(!this._stream){this._stream=s;const a=this.context.createMediaStreamSource(s);_o(a,this.output),this._mediaStream=a}return this})}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach(e=>{e.stop()}),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return gr(this,void 0,void 0,function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter(n=>n.kind==="audioinput")})}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){if(this._device)return this._device.deviceId}get groupId(){if(this._device)return this._device.groupId}get label(){if(this._device)return this._device.label}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return Bt(navigator.mediaDevices)&&Bt(navigator.mediaDevices.getUserMedia)}}function go(t,e){return gr(this,void 0,void 0,function*(){const n=e/t.context.sampleRate,i=new P1(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:i})).toDestination().start(0),(yield i.render()).getChannelData(0)})}class j1 extends _u{constructor(){const e=Rt(j1.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],_o(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new yr({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new yr({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),xr(this,["frequency","detune"])}static getDefaults(){return Object.assign(_u.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const n=this.toSeconds(e);return this.log("start",n),this._startGain(n),this._oscillator.start(n),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class kr extends zn{constructor(){const e=Rt(kr.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new zr({context:this.context,units:"frequency",value:e.frequency}),xr(this,"frequency"),this.detune=new zr({context:this.context,units:"cents",value:e.detune}),xr(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(zn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const n=this.toSeconds(e),i=new j1({context:this.context,onended:()=>this.onstop(this)});this._oscillator=i,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(n)}_stop(e){const n=this.toSeconds(e);this._oscillator&&this._oscillator.stop(n)}_restart(e){const n=this.toSeconds(e);return this.log("restart",n),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(n),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return kr._periodicWaveCache.find(n=>n.phase===this._phase&&Xre(n.partials,this._partials));{const e=kr._periodicWaveCache.find(n=>n.type===this._type&&n.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const n=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&n)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const i=this._getCachedPeriodicWave();if(Bt(i)){const{partials:s,wave:a}=i;this._wave=a,this._partials=s,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[s,a]=this._getRealImaginary(e,this._phase),r=this.context.createPeriodicWave(s,a);this._wave=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),kr._periodicWaveCache.push({imag:a,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:s,type:this._type,wave:this._wave}),kr._periodicWaveCache.length>100&&kr._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Us(e,0);let n=this._type;const i=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(i&&(n=i[1]),this._type!=="custom")e===0?this.type=n:this.type=n+e.toString();else{const s=new Float32Array(e);this._partials.forEach((a,r)=>s[r]=a),this._partials=Array.from(s),this.type=this._type}}_getRealImaginary(e,n){let s=2048;const a=new Float32Array(s),r=new Float32Array(s);let u=1;if(e==="custom"){if(u=this._partials.length+1,this._partialCount=this._partials.length,s=u,this._partials.length===0)return[a,r]}else{const c=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);c?(u=parseInt(c[2],10)+1,this._partialCount=parseInt(c[2],10),e=c[1],u=Math.max(u,2),s=u):this._partialCount=0,this._partials=[]}for(let c=1;c<s;++c){const f=2/(c*Math.PI);let h;switch(e){case"sine":h=c<=u?1:0,this._partials[c-1]=h;break;case"square":h=c&1?2*f:0,this._partials[c-1]=h;break;case"sawtooth":h=f*(c&1?1:-1),this._partials[c-1]=h;break;case"triangle":c&1?h=2*(f*f)*(c-1>>1&1?-1:1):h=0,this._partials[c-1]=h;break;case"custom":h=this._partials[c-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}h!==0?(a[c]=-h*Math.sin(n*c),r[c]=h*Math.cos(n*c)):(a[c]=0,r[c]=0)}return[a,r]}_inverseFFT(e,n,i){let s=0;const a=e.length;for(let r=0;r<a;r++)s+=e[r]*Math.cos(r*i)+n[r]*Math.sin(r*i);return s}getInitialValue(){const[e,n]=this._getRealImaginary(this._type,0);let i=0;const s=Math.PI*2,a=32;for(let r=0;r<a;r++)i=Math.max(this._inverseFFT(e,n,r/a*s),i);return Yre(-this._inverseFFT(e,n,this._phase)/i,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return gr(this,arguments,void 0,function*(e=1024){return go(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}kr._periodicWaveCache=[];class pne extends mu{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Zl({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class gu extends zr{constructor(){const e=Rt(gu.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new Vr({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(zr.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class kh extends zn{constructor(){const e=Rt(kh.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new pne({context:this.context}),this._modulationNode=new Vr({context:this.context}),this._carrier=new kr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new kr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new gu({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),xr(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(kr.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return gr(this,arguments,void 0,function*(e=1024){return go(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Dh extends zn{constructor(){const e=Rt(Dh.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new Vr({context:this.context,gain:0}),this._carrier=new kr({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new zr({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new kr({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new gu({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new gu({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),xr(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(kr.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return gr(this,arguments,void 0,function*(e=1024){return go(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ql extends zn{constructor(){const e=Rt(Ql.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new Vr({context:this.context,gain:0}),this._thresh=new Zl({context:this.context,mapping:n=>n<=0?-1:1}),this.width=new zr({context:this.context,units:"audioRange",value:e.width}),this._triangle=new kr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),xr(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(zn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return gr(this,arguments,void 0,function*(e=1024){return go(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Bh extends zn{constructor(){const e=Rt(Bh.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new zr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new zr({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,xr(this,["frequency","detune"])}static getDefaults(){return Object.assign(kr.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(n=>n.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(n=>n.stop(e))}_restart(e){this._forEach(n=>n.restart(e))}_forEach(e){for(let n=0;n<this._oscillators.length;n++)e(this._oscillators[n],n)}get type(){return this._type}set type(e){this._type=e,this._forEach(n=>n.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const n=-e/2,i=e/(this._oscillators.length-1);this._forEach((s,a)=>s.detune.value=n+i*a)}}get count(){return this._oscillators.length}set count(e){if(Us(e,1),this._oscillators.length!==e){this._forEach(n=>n.dispose()),this._oscillators=[];for(let n=0;n<e;n++){const i=new kr({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+n/e*360,partialCount:this._partialCount,onstop:n===0?()=>this.onstop(this):Jt});this.type==="custom"&&(i.partials=this._partials),this.frequency.connect(i.frequency),this.detune.connect(i.detune),i.detune.overridden=!1,i.connect(this.output),this._oscillators[n]=i}this.spread=this._spread,this.state==="started"&&this._forEach(n=>n.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((n,i)=>n.phase=this._phase+i/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(n=>n.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(n=>n.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(n=>n.partialCount=e),this._type=this._oscillators[0].type}asArray(){return gr(this,arguments,void 0,function*(e=1024){return go(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class Uh extends zn{constructor(){const e=Rt(Uh.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new gu({context:this.context,value:2}),this._pulse=new Ql({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new kr({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),xr(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(zn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return gr(this,arguments,void 0,function*(e=1024){return go(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const OI={am:kh,fat:Bh,fm:Dh,oscillator:kr,pulse:Ql,pwm:Uh};class Bf extends zn{constructor(){const e=Rt(Bf.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new zr({context:this.context,units:"frequency",value:e.frequency}),this.detune=new zr({context:this.context,units:"cents",value:e.detune}),xr(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(kr.getDefaults(),Dh.getDefaults(),kh.getDefaults(),Bh.getDefaults(),Ql.getDefaults(),Uh.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(n=>this._sourceType===n)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const n=OI[e],i=this.now();if(this._oscillator){const s=this._oscillator;s.stop(i),this.context.setTimeout(()=>s.dispose(),this.blockTime)}this._oscillator=new n({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(i)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let n="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(n=this._oscillator.type),e==="fm"?this.type="fm"+n:e==="am"?this.type="am"+n:e==="fat"?this.type="fat"+n:e==="oscillator"?this.type=n:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,n){return e instanceof OI[n]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&ga(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&ga(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Bs(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return gr(this,arguments,void 0,function*(e=1024){return go(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function dD(t,e=1/0){const n=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(a){Us(a,t,e),n.set(this,a)}})}}function Fs(t,e=1/0){const n=new WeakMap;return function(i,s){Reflect.defineProperty(i,s,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(a){Us(this.toSeconds(a),t,e),n.set(this,a)}})}}class Mh extends zn{constructor(){const e=Rt(Mh.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new fr({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(zn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Jt,onerror:Jt,playbackRate:1,reverse:!1})}load(e){return gr(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Jt){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,n,i){return super.start(e,n,i),this}_start(e,n,i){this._loop?n=ou(n,this._loopStart):n=ou(n,0);const s=this.toSeconds(n),a=i;i=ou(i,Math.max(this._buffer.duration-s,0));let r=this.toSeconds(i);r=r/this._playbackRate,e=this.toSeconds(e);const u=new Ph({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+r),this._state.setStateAtTime("stopped",e+r,{implicitEnd:!0})),this._activeSources.add(u),this._loop&&pi(a)?u.start(e,s):u.start(e,s,r-this.toSeconds(this.fadeOut))}_stop(e){const n=this.toSeconds(e);this._activeSources.forEach(i=>i.stop(n))}restart(e,n,i){return super.restart(e,n,i),this}_restart(e,n,i){var s;(s=[...this._activeSources].pop())===null||s===void 0||s.stop(e),this._start(e,n,i)}seek(e,n){const i=this.toSeconds(n);if(this._state.getValueAtTime(i)==="started"){const s=this.toSeconds(e);this._stop(i),this._start(i,s)}return this}setLoopPoints(e,n){return this.loopStart=e,this.loopEnd=n,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Us(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Us(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(n=>{n.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(n=>{n.loop=e}),e)){const n=this._state.getNextState("stopped",this.now());n&&this._state.cancel(n.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const n=this.now(),i=this._state.getNextState("stopped",n);i&&i.implicitEnd&&(this._state.cancel(i.time),this._activeSources.forEach(s=>s.cancelStop())),this._activeSources.forEach(s=>{s.playbackRate.setValueAtTime(e,n)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}Vi([Fs(0)],Mh.prototype,"fadeIn",void 0);Vi([Fs(0)],Mh.prototype,"fadeOut",void 0);class Na extends bt{constructor(){const e=Rt(Na.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new zr({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(bt.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,n){if(Bs(e))return e;{let i;for(i in sf)if(sf[i][n]===e)return i;return e}}_setCurve(e,n,i){if(Bs(i)&&Reflect.has(sf,i)){const s=sf[i];so(s)?e!=="_decayCurve"&&(this[e]=s[n]):this[e]=s}else if(Pi(i)&&e!=="_decayCurve")this[e]=i;else throw new Error("Envelope: invalid curve: "+i)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,n=1){this.log("triggerAttack",e,n),e=this.toSeconds(e);let s=this.toSeconds(this.attack);const a=this.toSeconds(this.decay),r=this.getValueAtTime(e);if(r>0){const u=1/s;s=(1-r)/u}if(s<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(n,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(n,s,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(n,s,e);else{this._sig.cancelAndHoldAtTime(e);let u=this._attackCurve;for(let c=1;c<u.length;c++)if(u[c-1]<=r&&r<=u[c]){u=this._attackCurve.slice(c),u[0]=r;break}this._sig.setValueCurveAtTime(u,e,s,n)}if(a&&this.sustain<1){const u=n*this.sustain,c=e+s;this.log("decay",c),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(u,a+c):this._sig.exponentialApproachValueAtTime(u,c,a)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const n=this.getValueAtTime(e);if(n>0){const i=this.toSeconds(this.release);i<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,i,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,i,e):(Ct(Pi(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,i,n))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,n,i=1){return n=this.toSeconds(n),this.triggerAttack(n,i),this.triggerRelease(n+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,n=0,i=0){return U1(this,e,n,i),this}asArray(){return gr(this,arguments,void 0,function*(e=1024){const n=e/this.context.sampleRate,i=new P1(1,n,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),a=s+this.toSeconds(this.release),r=a*.1,u=a+r,c=new this.constructor(Object.assign(this.get(),{attack:n*this.toSeconds(this.attack)/u,decay:n*this.toSeconds(this.decay)/u,release:n*this.toSeconds(this.release)/u,context:i}));return c._sig.toDestination(),c.triggerAttackRelease(n*(s+r)/u,0),(yield i.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}Vi([Fs(0)],Na.prototype,"attack",void 0);Vi([Fs(0)],Na.prototype,"decay",void 0);Vi([dD(0,1)],Na.prototype,"sustain",void 0);Vi([Fs(0)],Na.prototype,"release",void 0);const sf=(()=>{let e,n;const i=[];for(e=0;e<128;e++)i[e]=Math.sin(e/127*(Math.PI/2));const s=[],a=6.4;for(e=0;e<127;e++){n=e/127;const g=Math.sin(n*(Math.PI*2)*a-Math.PI/2)+1;s[e]=g/10+n*.83}s[127]=1;const r=[],u=5;for(e=0;e<128;e++)r[e]=Math.ceil(e/127*u)/u;const c=[];for(e=0;e<128;e++)n=e/127,c[e]=.5*(1-Math.cos(Math.PI*n));const f=[];for(e=0;e<128;e++){n=e/127;const g=Math.pow(n,3)*4+.2,E=Math.cos(g*Math.PI*2*n);f[e]=Math.abs(E*(1-n))}function h(g){const E=new Array(g.length);for(let v=0;v<g.length;v++)E[v]=1-g[v];return E}function d(g){return g.slice(0).reverse()}return{bounce:{In:h(f),Out:f},cosine:{In:i,Out:d(i)},exponential:"exponential",linear:"linear",ripple:{In:s,Out:h(s)},sine:{In:c,Out:h(c)},step:{In:r,Out:h(r)}}})();class Eu extends bt{constructor(){const e=Rt(Eu.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=n=>this._original_triggerRelease(n),this._volume=this.output=new mo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,xr(this,"volume")}static getDefaults(){return Object.assign(bt.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,n){const i=this["_original_"+e]=this[e];this[e]=(...s)=>{const a=s[n],r=this.context.transport.schedule(u=>{s[n]=u,i.apply(this,s)},a);this._scheduledEvents.push(r)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,n,i,s){const a=this.toSeconds(i),r=this.toSeconds(n);return this.triggerAttack(e,a,s),this.triggerRelease(a+r),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class vu extends Eu{constructor(){const e=Rt(vu.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Eu.getDefaults(),{detune:0,onsilence:Jt,portamento:0})}triggerAttack(e,n,i=1){this.log("triggerAttack",e,n,i);const s=this.toSeconds(n);return this._triggerEnvelopeAttack(s,i),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const n=this.toSeconds(e);return this._triggerEnvelopeRelease(n),this}setNote(e,n){const i=this.toSeconds(n),s=e instanceof fi?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(i)>.05){const a=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,a,i)}else this.frequency.setValueAtTime(s,i);return this}}Vi([Fs(0)],vu.prototype,"portamento",void 0);class W1 extends Na{constructor(){super(Rt(W1.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Vr({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class Uf extends vu{constructor(){const e=Rt(Uf.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new Bf(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new W1(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),xr(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(vu.getDefaults(),{envelope:Object.assign(wI(Na.getDefaults(),Object.keys(bt.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(wI(Bf.getDefaults(),[...Object.keys(zn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,n){if(this.envelope.triggerAttack(e,n),this.oscillator.start(e),this.envelope.sustain===0){const i=this.toSeconds(this.envelope.attack),s=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+i+s)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Kh extends Uf{constructor(){const e=Rt(Kh.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,xr(this,["oscillator","envelope"])}static getDefaults(){return au(vu.getDefaults(),Uf.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,n){const i=this.toSeconds(n),s=this.toFrequency(e instanceof fi?e.toFrequency():e),a=s*this.octaves;return this.oscillator.frequency.setValueAtTime(a,i),this.oscillator.frequency.exponentialRampToValueAtTime(s,i+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Vi([dD(0)],Kh.prototype,"octaves",void 0);Vi([Fs(0)],Kh.prototype,"pitchDecay",void 0);const _D=new Set;function X1(t){_D.add(t)}function mD(t,e){const n=`registerProcessor("${t}", ${e})`;_D.add(n)}const dne=`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`;X1(dne);const _ne=`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`;X1(_ne);const mne=`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`;X1(mne);const gne="feedback-comb-filter",Ene=`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`;mD(gne,Ene);class $h extends Eu{constructor(){const e=Rt($h.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const n={};Object.keys(e.urls).forEach(i=>{const s=parseInt(i,10);if(Ct(nf(i)||ga(s)&&isFinite(s),`url key is neither a note or midi pitch: ${i}`),nf(i)){const a=new fi(this.context,i).toMidi();n[a]=e.urls[i]}else ga(s)&&isFinite(s)&&(n[s]=e.urls[s])}),this._buffers=new F1({urls:n,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Eu.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Jt,onerror:Jt,release:.1,urls:{}})}_findClosest(e){let i=0;for(;i<96;){if(this._buffers.has(e+i))return-i;if(this._buffers.has(e-i))return i;i++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,n,i=1){return this.log("triggerAttack",e,n,i),Array.isArray(e)||(e=[e]),e.forEach(s=>{const a=pD(new fi(this.context,s).toFrequency()),r=Math.round(a),u=a-r,c=this._findClosest(r),f=r-c,h=this._buffers.get(f),d=hD(c+u),g=new Ph({url:h,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:d}).connect(this.output);g.start(n,0,h.duration/d,i),Pi(this._activeSources.get(r))||this._activeSources.set(r,[]),this._activeSources.get(r).push(g),g.onended=()=>{if(this._activeSources&&this._activeSources.has(r)){const E=this._activeSources.get(r),v=E.indexOf(g);v!==-1&&E.splice(v,1)}}}),this}triggerRelease(e,n){return this.log("triggerRelease",e,n),Array.isArray(e)||(e=[e]),e.forEach(i=>{const s=new fi(this.context,i).toMidi();if(this._activeSources.has(s)&&this._activeSources.get(s).length){const a=this._activeSources.get(s);n=this.toSeconds(n),a.forEach(r=>{r.stop(n)}),this._activeSources.set(s,[])}}),this}releaseAll(e){const n=this.toSeconds(e);return this._activeSources.forEach(i=>{for(;i.length;)i.shift().stop(n)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,n,i,s=1){const a=this.toSeconds(i);return this.triggerAttack(e,a,s),Pi(n)?(Ct(Pi(e),"notes must be an array when duration is array"),e.forEach((r,u)=>{const c=n[Math.min(u,n.length-1)];this.triggerRelease(r,a+this.toSeconds(c))})):this.triggerRelease(e,a+this.toSeconds(n)),this}add(e,n,i){if(Ct(nf(e)||isFinite(e),`note must be a pitch or midi: ${e}`),nf(e)){const s=new fi(this.context,e).toMidi();this._buffers.add(s,n,i)}else this._buffers.add(e,n,i);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(n=>n.dispose())}),this._activeSources.clear(),this}}Vi([Fs(0)],$h.prototype,"attack",void 0);Vi([Fs(0)],$h.prototype,"release",void 0);class H1 extends bt{constructor(){const e=Rt(H1.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new yr({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",xr(this,"pan")}static getDefaults(){return Object.assign(bt.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const vne="bit-crusher",yne=`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`;mD(vne,yne);class Y1 extends bt{constructor(){const e=Rt(Y1.getDefaults(),arguments,["channels"]);super(e),this.name="Split",this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(bt.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class z1 extends bt{constructor(){const e=Rt(z1.getDefaults(),arguments,["channels"]);super(e),this.name="Merge",this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(bt.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Vh extends bt{constructor(){const e=Rt(Vh.getDefaults(),arguments,["type","size"]);super(e),this.name="Analyser",this._analysers=[],this._buffers=[],this.input=this.output=this._gain=new Vr({context:this.context}),this._split=new Y1({context:this.context,channels:e.channels}),this.input.connect(this._split),Us(e.channels,1);for(let n=0;n<e.channels;n++)this._analysers[n]=this.context.createAnalyser(),this._split.connect(this._analysers[n],n,0);this.size=e.size,this.type=e.type,this.smoothing=e.smoothing}static getDefaults(){return Object.assign(bt.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach((e,n)=>{const i=this._buffers[n];this._type==="fft"?e.getFloatFrequencyData(i):this._type==="waveform"&&e.getFloatTimeDomainData(i)}),this.channels===1?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach((n,i)=>{n.fftSize=e*2,this._buffers[i]=new Float32Array(e)})}get channels(){return this._analysers.length}get type(){return this._type}set type(e){Ct(e==="waveform"||e==="fft",`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach(n=>n.smoothingTimeConstant=e)}dispose(){return super.dispose(),this._analysers.forEach(e=>e.disconnect()),this._split.dispose(),this._gain.dispose(),this}}class Mf extends bt{constructor(){super(Rt(Mf.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Vh({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class J1 extends Mf{constructor(){const e=Rt(J1.getDefaults(),arguments,["smoothing"]);super(e),this.name="Meter",this.input=this.output=this._analyser=new Vh({context:this.context,size:256,type:"waveform",channels:e.channelCount}),this.smoothing=e.smoothing,this.normalRange=e.normalRange,this._rms=new Array(e.channelCount),this._rms.fill(0)}static getDefaults(){return Object.assign(Mf.getDefaults(),{smoothing:.8,normalRange:!1,channelCount:1})}getLevel(){return Ah("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const e=this._analyser.getValue(),i=(this.channels===1?[e]:e).map((s,a)=>{const r=s.reduce((c,f)=>c+f*f,0),u=Math.sqrt(r/s.length);return this._rms[a]=Math.max(u,this._rms[a]*this.smoothing),this.normalRange?this._rms[a]:fD(this._rms[a])});return this.channels===1?i[0]:i}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Pr extends bt{constructor(){const e=Rt(Pr.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new Vr({context:this.context}),Pr._allSolos.has(this.context)||Pr._allSolos.set(this.context,new Set),Pr._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(bt.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Pr._allSolos.get(this.context).forEach(n=>n._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){Pr._soloed.has(this.context)||Pr._soloed.set(this.context,new Set),Pr._soloed.get(this.context).add(this)}_removeSolo(){Pr._soloed.has(this.context)&&Pr._soloed.get(this.context).delete(this)}_isSoloed(){return Pr._soloed.has(this.context)&&Pr._soloed.get(this.context).has(this)}_noSolos(){return!Pr._soloed.has(this.context)||Pr._soloed.has(this.context)&&Pr._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Pr._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Pr._allSolos=new Map;Pr._soloed=new Map;class Z1 extends bt{constructor(){const e=Rt(Z1.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new H1({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new mo({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,xr(this,["pan","volume"])}static getDefaults(){return Object.assign(bt.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Ho extends bt{constructor(){const e=Rt(Ho.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new Pr({solo:e.solo,context:this.context}),this._panVol=this.output=new Z1({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),xr(this,["pan","volume"])}static getDefaults(){return Object.assign(bt.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Ho.buses.has(e)||Ho.buses.set(e,new Vr({context:this.context})),Ho.buses.get(e)}send(e,n=0){const i=this._getBus(e),s=new Vr({context:this.context,units:"decibels",gain:n});return this.connect(s),s.connect(i),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Ho.buses=new Map;class Q1 extends bt{constructor(){super(Rt(Q1.getDefaults(),arguments)),this.name="Mono",this.input=new Vr({context:this.context}),this._merge=this.output=new z1({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Kf extends bt{constructor(){const e=Rt(Kf.getDefaults(),arguments);super(e),this.name="Recorder",this.input=new Vr({context:this.context}),Ct(Kf.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:e.mimeType})}static getDefaults(){return bt.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return vn!==null&&Reflect.has(vn,"MediaRecorder")}get state(){return this._recorder.state==="inactive"?"stopped":this._recorder.state==="paused"?"paused":"started"}start(){return gr(this,void 0,void 0,function*(){Ct(this.state!=="started","Recorder is already started");const e=new Promise(n=>{const i=()=>{this._recorder.removeEventListener("start",i,!1),n()};this._recorder.addEventListener("start",i,!1)});return this._recorder.start(),yield e})}stop(){return gr(this,void 0,void 0,function*(){Ct(this.state!=="stopped","Recorder is not started");const e=new Promise(n=>{const i=s=>{this._recorder.removeEventListener("dataavailable",i,!1),n(s.data)};this._recorder.addEventListener("dataavailable",i,!1)});return this._recorder.stop(),yield e})}pause(){return Ct(this.state==="started","Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}Oi().transport;Oi().destination;Oi().destination;Oi().listener;Oi().draw;Oi();var rr;(function(t){t.LOAD="LOAD",t.EXEC="EXEC",t.WRITE_FILE="WRITE_FILE",t.READ_FILE="READ_FILE",t.DELETE_FILE="DELETE_FILE",t.RENAME="RENAME",t.CREATE_DIR="CREATE_DIR",t.LIST_DIR="LIST_DIR",t.DELETE_DIR="DELETE_DIR",t.ERROR="ERROR",t.DOWNLOAD="DOWNLOAD",t.PROGRESS="PROGRESS",t.LOG="LOG",t.MOUNT="MOUNT",t.UNMOUNT="UNMOUNT"})(rr||(rr={}));const Tne=(()=>{let t=0;return()=>t++})(),bne=new Error("ffmpeg is not loaded, call `await ffmpeg.load()` first"),Rne=new Error("called FFmpeg.terminate()");var jn,fa,Ls,to,ro,$f,In;class xne{constructor(){ra(this,jn,null);ra(this,fa,{});ra(this,Ls,{});ra(this,to,[]);ra(this,ro,[]);be(this,"loaded",!1);ra(this,$f,()=>{Ut(this,jn)&&(Ut(this,jn).onmessage=({data:{id:e,type:n,data:i}})=>{switch(n){case rr.LOAD:this.loaded=!0,Ut(this,fa)[e](i);break;case rr.MOUNT:case rr.UNMOUNT:case rr.EXEC:case rr.WRITE_FILE:case rr.READ_FILE:case rr.DELETE_FILE:case rr.RENAME:case rr.CREATE_DIR:case rr.LIST_DIR:case rr.DELETE_DIR:Ut(this,fa)[e](i);break;case rr.LOG:Ut(this,to).forEach(s=>s(i));break;case rr.PROGRESS:Ut(this,ro).forEach(s=>s(i));break;case rr.ERROR:Ut(this,Ls)[e](i);break}delete Ut(this,fa)[e],delete Ut(this,Ls)[e]})});ra(this,In,({type:e,data:n},i=[],s)=>Ut(this,jn)?new Promise((a,r)=>{const u=Tne();Ut(this,jn)&&Ut(this,jn).postMessage({id:u,type:e,data:n},i),Ut(this,fa)[u]=a,Ut(this,Ls)[u]=r,s==null||s.addEventListener("abort",()=>{r(new DOMException(`Message # ${u} was aborted`,"AbortError"))},{once:!0})}):Promise.reject(bne));be(this,"load",async(e={},{signal:n}={})=>{if(!Ut(this,jn)){const i=e.workerURL?new URL(e.workerURL):new URL("/main/pp11/sfx/assets/DoJTI3u2.js",import.meta.url);ju(this,jn,new Worker(i,{type:"module"})),Ut(this,$f).call(this)}return Ut(this,In).call(this,{type:rr.LOAD,data:e},void 0,n)});be(this,"exec",(e,n=-1,{signal:i}={})=>Ut(this,In).call(this,{type:rr.EXEC,data:{args:e,timeout:n}},void 0,i));be(this,"terminate",()=>{const e=Object.keys(Ut(this,Ls));for(const n of e)Ut(this,Ls)[n](Rne),delete Ut(this,Ls)[n],delete Ut(this,fa)[n];Ut(this,jn)&&(Ut(this,jn).terminate(),ju(this,jn,null),this.loaded=!1)});be(this,"writeFile",(e,n,{signal:i}={})=>{const s=[];return n instanceof Uint8Array&&s.push(n.buffer),Ut(this,In).call(this,{type:rr.WRITE_FILE,data:{path:e,data:n}},s,i)});be(this,"mount",(e,n,i)=>{const s=[];return Ut(this,In).call(this,{type:rr.MOUNT,data:{fsType:e,options:n,mountPoint:i}},s)});be(this,"unmount",e=>{const n=[];return Ut(this,In).call(this,{type:rr.UNMOUNT,data:{mountPoint:e}},n)});be(this,"readFile",(e,n="binary",{signal:i}={})=>Ut(this,In).call(this,{type:rr.READ_FILE,data:{path:e,encoding:n}},void 0,i));be(this,"deleteFile",(e,{signal:n}={})=>Ut(this,In).call(this,{type:rr.DELETE_FILE,data:{path:e}},void 0,n));be(this,"rename",(e,n,{signal:i}={})=>Ut(this,In).call(this,{type:rr.RENAME,data:{oldPath:e,newPath:n}},void 0,i));be(this,"createDir",(e,{signal:n}={})=>Ut(this,In).call(this,{type:rr.CREATE_DIR,data:{path:e}},void 0,n));be(this,"listDir",(e,{signal:n}={})=>Ut(this,In).call(this,{type:rr.LIST_DIR,data:{path:e}},void 0,n));be(this,"deleteDir",(e,{signal:n}={})=>Ut(this,In).call(this,{type:rr.DELETE_DIR,data:{path:e}},void 0,n))}on(e,n){e==="log"?Ut(this,to).push(n):e==="progress"&&Ut(this,ro).push(n)}off(e,n){e==="log"?ju(this,to,Ut(this,to).filter(i=>i!==n)):e==="progress"&&ju(this,ro,Ut(this,ro).filter(i=>i!==n))}}jn=new WeakMap,fa=new WeakMap,Ls=new WeakMap,to=new WeakMap,ro=new WeakMap,$f=new WeakMap,In=new WeakMap;const Sne=new Error("failed to get response body reader"),Cne=new Error("failed to complete download"),Ane="Content-Length",Lne=async(t,e)=>{var s;const n=await fetch(t);let i;try{const a=parseInt(n.headers.get(Ane)||"-1"),r=(s=n.body)==null?void 0:s.getReader();if(!r)throw Sne;const u=[];let c=0;for(;;){const{done:d,value:g}=await r.read(),E=g?g.length:0;if(d){if(a!=-1&&a!==c)throw Cne;e&&e({url:t,total:a,received:c,delta:E,done:d});break}u.push(g),c+=E,e&&e({url:t,total:a,received:c,delta:E,done:d})}const f=new Uint8Array(c);let h=0;for(const d of u)f.set(d,h),h+=d.length;i=f.buffer}catch(a){console.log("failed to send download progress event: ",a),i=await n.arrayBuffer()}return i},cv=async(t,e,n=!1,i)=>{const s=n?await Lne(t,i):await(await fetch(t)).arrayBuffer(),a=new Blob([s],{type:e});return URL.createObjectURL(a)};let fv;const zt=new xne,wne=new Q1,af=new El,Qu=new J1,of=new Kf,Vo={source:{volume:0},loudnorm:{isEnabled:!0,targetLoudness:-18,targetTruePeak:-.1,targetLra:50},loudnorm2:{isEnabled:!0,targetLoudness:-16,targetTruePeak:-.1,targetLra:6},gate:{isEnabled:!0,threshold:.01,attack:100,release:400,makeup:1,ratio:3,knee:8},eq:{isEnabled:!0,highpass:100,widthType:"q",width:.5,lowpass:18e3},silenceremove:{isEnabled:!0,start:!0,startDuration:0,startThreshold:-22,startSilence:.1,end:!1,endDuration:0,endThreshold:-22,endSilence:.1,detection:"rms"}};class One{constructor(){be(this,"updateInterval",window.setInterval(this.onUpdateInterval.bind(this),50));be(this,"data",bn({value:0,normal:0,level:0,range:[1/0,-1/0]}));be(this,"smoothing",.8);be(this,"previousValue",0);be(this,"levelBufferMaxSize",100);be(this,"levelBufferMinSize",20);be(this,"levelBuffer",[]);be(this,"minAdjustmentRate",.02);be(this,"maxAdjustmentRate",.1)}destroy(){this.updateInterval&&window.clearInterval(this.updateInterval)}async setup(){await ene(),await this.loadFfmpeg(),af.set({volume:Vo.source.volume}),af.chain(wne,Qu,of)}async reset(){zt.loaded&&zt.terminate(),await this.loadFfmpeg()}setDevice(e){e?af.open(e):af.close(),this.data.range[0]=1/0,this.data.range[1]=-1/0,this.levelBuffer=[]}async loadFfmpeg(){const e="https://nopus-assets.jackbox.tv",n="https://unpkg.com/@ffmpeg/core@0.12.4/dist/esm";if(!fv){const i=await cv(`${n}/ffmpeg-core.js`,"text/javascript"),s=await cv(`${n}/ffmpeg-core.wasm`,"application/wasm"),a=await cv(`${e}/ffmpeg/worker.js`,"text/javascript");fv={coreURL:i,wasmURL:s,workerURL:a}}await zt.load(fv)}async startRecording(){await of.start()}async cancelRecording(){await of.stop()}async saveRecording(e=".ogg"){let n=await of.stop();if(n=await this.getTranscodedAudio(n,".ogg",".wav"),n=await this.getLoudnormBlob(n,Vo.loudnorm),!n.size)throw new Error("Silence Error Loudnorm A");if(n=await this.getGateAndEqBlob(n,Vo.gate,Vo.eq),!n.size)throw new Error("Silence Error Gate");if(n=await this.getLoudnormBlob(n,Vo.loudnorm2),!n.size)throw new Error("Silence Error Loudnorm B");if(n=await this.getSilenceRemoveBlob(n,Vo.silenceremove),!n.size)throw new Error("Silence Error SilenceRemove");return n=await this.getTranscodedAudio(n,".wav",e),this.blobToBase64(n)}onUpdateInterval(){if(this.data.level=Qu.getValue(),this.data.level===-1/0||(Qu.normalRange=!0,this.data.normal=Qu.getValue(),Qu.normalRange=!1,this.levelBuffer.push(this.data.level),this.levelBuffer.length>this.levelBufferMaxSize&&this.levelBuffer.shift(),this.levelBuffer.length<this.levelBufferMinSize))return;const e=[...this.levelBuffer].sort((s,a)=>s-a),n=e[Math.floor(e.length*.05)],i=e[Math.floor(e.length*.95)];if(this.data.range[0]===1/0){this.data.range[0]=n,this.data.range[1]=Math.max(i,n+20);return}n<this.data.range[0]-2&&(this.data.range[0]=this.data.range[0]*(1-this.minAdjustmentRate)+n*this.minAdjustmentRate),i>this.data.range[1]+2&&(this.data.range[1]=this.data.range[1]*(1-this.maxAdjustmentRate)+i*this.maxAdjustmentRate),this.data.range[1]-this.data.range[0]<15&&(this.data.range[1]=this.data.range[0]+15),this.data.value=this.getSmoothedValue()}getNormalizedValue(){if(this.data.range[0]===1/0)return 0;const e=this.data.range[1]-this.data.range[0],i=(Math.max(this.data.range[0]-e*.1,Math.min(this.data.range[1]+e*.1,this.data.level))-this.data.range[0])/(this.data.range[1]-this.data.range[0]);return Math.max(0,Math.min(1,i))}getSmoothedValue(){const n=this.getNormalizedValue()**2;return this.previousValue=this.previousValue*this.smoothing+n*(1-this.smoothing),this.previousValue}async getLoudnessValues(e,n){const i=await e.arrayBuffer(),s=new Uint8Array(i);let a=!1,r="";return zt.on("log",({message:u})=>{try{u==="{"?(a=!0,r+=u):u==="}"?(a=!1,r+=u):a&&(r+=u)}catch{}}),await zt.writeFile("input.wav",s),await zt.exec(["-hide_banner","-i","input.wav","-af",`loudnorm=I=${n.targetLoudness}:TP=${n.targetTruePeak}:LRA=${n.targetLra}:linear=true:print_format=json`,"-f","null","-"]),zt.off("log",()=>{}),await zt.deleteFile("input.wav"),JSON.parse(r)}async getLoudnormBlob(e,n){if(!n.isEnabled)return e;const i=await this.getLoudnessValues(e,n),s=await e.arrayBuffer(),a=new Uint8Array(s);await zt.writeFile("input.wav",a),await zt.exec(["-hide_banner","-i","input.wav","-af",`loudnorm=I=${n.targetLoudness}:TP=${n.targetTruePeak}:LRA=${n.targetLra}:measured_I=${i.input_i}:measured_TP=${i.input_tp}:measured_LRA=${i.input_lra}:measured_thresh=${i.input_thresh}:offset=${i.target_offset}:linear=true:print_format=json`,"output.wav"]);const r=await zt.readFile("output.wav");return await zt.deleteFile("output.wav"),await zt.deleteFile("input.wav"),new Blob([r],{type:"audio/wav"})}async getGateAndEqBlob(e,n,i){const s=["-hide_banner","-i","input.wav","-filter_complex"],a=[];if(i.isEnabled&&(a.push(`highpass=f=${i.highpass}:width_type=${i.widthType}:width=${i.width}`),a.push(`lowpass=f=${i.lowpass}`)),n.isEnabled&&a.push(`agate=threshold=${n.threshold}:attack=${n.attack}:release=${n.release}:makeup=${n.makeup}:ratio=${n.ratio}:knee=${n.knee}`),!a.length)return e;const r=await e.arrayBuffer(),u=new Uint8Array(r);s.push(`${a.join(", ")}`,"output.wav"),await zt.writeFile("input.wav",u),await zt.exec(s);const c=await zt.readFile("output.wav");return await zt.deleteFile("output.wav"),await zt.deleteFile("input.wav"),new Blob([c],{type:"audio/wav"})}async getSilenceRemoveBlob(e,n){if(!n.isEnabled)return e;const i=[];if(n.start&&i.push(`start_periods=1:start_duration=${n.startDuration}:start_threshold=${n.startThreshold}dB:start_silence=${n.startSilence}`),n.end&&i.push(`stop_periods=1:stop_duration=${n.endDuration}:stop_threshold=${n.endThreshold}dB:stop_silence=${n.endSilence}`),!i.length)return e;i.push(`detection=${n.detection}`);const s=await e.arrayBuffer(),a=new Uint8Array(s);await zt.writeFile("input.wav",a),await zt.exec(["-hide_banner","-i","input.wav","-af",`silenceremove=${i.join(":")}`,"output.wav"]);const r=await zt.readFile("output.wav");return await zt.deleteFile("output.wav"),await zt.deleteFile("input.wav"),new Blob([r],{type:"audio/wav"})}async blobToBase64(e){return new Promise((n,i)=>{const s=new FileReader;s.onerror=()=>i(s.error),s.onloadend=()=>{const a=s.result,r=a.substring(a.indexOf(",")+1);n(r)},s.readAsDataURL(e)})}async getTranscodedAudio(e,n,i){let s="";switch(i){case".ogg":s="libvorbis";break;case".mp3":s="libmp3lame";break;case".wav":s="pcm_s16le";break;case".flac":s="libflac";break}const a=await e.arrayBuffer(),r=new Uint8Array(a);await zt.writeFile(`input${n}`,r),await zt.exec(["-i",`input${n}`,"-c:a",s,`output${i}`]);const u=await zt.readFile(`output${i}`);return await zt.deleteFile(`input${n}`),await zt.deleteFile(`output${i}`),new Blob([u],{type:`audio/${i.slice(1)}`})}}const Ine=dt({data(){return{seed:0}}}),Nne={class:"filters",height:"0",width:"0"},Pne={id:"sketch"},kne=["seed"],Dne={id:"sketch-heavy"},Bne=["seed"];function Une(t,e,n,i,s,a){return Y(),te("svg",Nne,[V("defs",null,[V("filter",Pne,[V("feTurbulence",{id:"turbulence",type:"turbulence",baseFrequency:".2",numOctaves:"1",seed:t.seed,result:"turbulence"},null,8,kne),e[0]||(e[0]=V("feDisplacementMap",{id:"displacement",in:"SourceGraphic",in2:"turbulence",scale:"1",xChannelSelector:"R",yChannelSelector:"G"},null,-1))]),V("filter",Dne,[V("feTurbulence",{id:"turbulence",type:"turbulence",baseFrequency:".2",numOctaves:"1",seed:t.seed,result:"turbulence"},null,8,Bne),e[1]||(e[1]=V("feDisplacementMap",{id:"displacement",in:"SourceGraphic",in2:"turbulence",scale:"2",xChannelSelector:"R",yChannelSelector:"G"},null,-1))])])])}const Mne=rt(Ine,[["render",Une]]);var hv,II;function Kne(){if(II)return hv;II=1;var t=TP(),e=mi(),n="Expected a function";function i(s,a,r){var u=!0,c=!0;if(typeof s!="function")throw new TypeError(n);return e(r)&&(u="leading"in r?!!r.leading:u,c="trailing"in r?!!r.trailing:c),t(s,a,{leading:u,maxWait:a,trailing:c})}return hv=i,hv}var $ne=Kne();const Vne=is($ne);class eT{constructor(e,n){be(this,"soundManager");be(this,"height");be(this,"scoreToWin");be(this,"tickMs");be(this,"shouldDestroy",!1);be(this,"nextTickAt",0);be(this,"durationMs");be(this,"pausedMs");be(this,"data",bn({status:"waiting",value:0}));be(this,"time",bn({startMs:0,currentMs:0,percent:0}));be(this,"throttledOnAnimationUpdate",Vne(e=>{this.isPaused||(this.data.status==="active"&&(this.time.currentMs=e-this.time.startMs,this.time.percent=this.time.currentMs/this.durationMs),this.scoreToWin&&this.score>=this.scoreToWin?this.end():this.durationMs&&this.time.currentMs>this.durationMs&&this.end(),this.data.value=this.soundManager.data.value*this.height,this.onFrame())},17));this.soundManager=e,this.height=n.height??1e3,n.scoreToWin?this.scoreToWin=n.scoreToWin:n.durationMs&&(this.durationMs=n.durationMs),n.tickMs&&(this.tickMs=n.tickMs),window.requestAnimationFrame(this.onAnimationFrame.bind(this))}get isPaused(){return this.pausedMs!==void 0}set isPaused(e){e&&this.pausedMs===void 0&&this.pause(),!e&&this.pausedMs!==void 0&&this.resume()}destroy(){this.shouldDestroy=!0}start(){if(!this.durationMs&&!this.scoreToWin)throw new Error("No end condition provided");this.data.status==="waiting"&&(this.time.startMs=window.performance.now(),this.data.status="active")}pause(){this.pausedMs=window.performance.now()}resume(){this.pausedMs&&(this.time.startMs+=window.performance.now()-this.pausedMs,delete this.pausedMs)}onAnimationFrame(e){this.throttledOnAnimationUpdate(e),this.tickMs&&e>this.nextTickAt&&(this.nextTickAt=e+this.tickMs,this.onTick()),!this.shouldDestroy&&window.requestAnimationFrame(this.onAnimationFrame.bind(this))}end(){this.data.status="finished"}}let Fne=class extends eT{constructor(){super(...arguments);be(this,"threshold",.6);be(this,"previousFaceOffset",0);be(this,"previousValue",0);be(this,"gameData",bn({isOver:!1,score:0,faceOffset:0}))}get score(){return this.gameData.score}onFrame(){if(this.updateFace(),this.data.status!=="active")return;const n=this.data.value>this.height*this.threshold;n&&!this.gameData.isOver&&(this.gameData.isOver=!0,this.gameData.score+=1),!n&&this.gameData.isOver&&(this.gameData.isOver=!1)}onTick(){}updateFace(){const n=this.previousValue-this.data.value;this.previousFaceOffset=this.previousFaceOffset?this.previousFaceOffset*.8+n*1.5*(1-.8):n,this.previousFaceOffset>25&&(this.previousFaceOffset=25),this.previousFaceOffset<-25&&(this.previousFaceOffset=-25),this.previousValue=this.data.value,this.gameData.faceOffset=this.previousFaceOffset}};const qne=dt({props:{hostIsPaused:{type:Boolean,required:!0},player:{type:Object,required:!0},soundManager:{type:Object,required:!0}},data(){return{game:new Fne(this.soundManager,{durationMs:this.player.durationMs,scoreToWin:this.player.scoreToWin})}},computed:{ballStyles(){return{top:`${100-this.game.data.value/this.game.height*100}%`}},faceStyles(){return{transform:`translateY(${this.game.gameData.faceOffset}%)`}},lineStyles(){return{top:`${100-100*this.game.threshold}%`}},scoreStyles(){return{height:`${100-100*this.game.threshold}%`}}},watch:{hostIsPaused:{handler(t){this.game.isPaused=t}},"player.hasStarted":{immediate:!0,handler(t){t&&this.game.start()}},"game.score":{handler(t,e){t>e&&this.onPointScored()}}},beforeUnmount(){this.game.destroy()},methods:{async onPointScored(){const t=this.$refs.point;t==null||t.getAnimations().forEach(e=>e.play());try{if(this.$ecast.role==="audience"){await this.$ecast.incrementGCounter(this.player.responseKey);return}await this.$ecast.updateObject(this.player.responseKey,{pointScored:!0})}catch(e){this.$handleEcastError(e)}}}}),Gne={class:"field"},jne={key:0,class:"waiting"},Wne={key:1,class:"score"},Xne={key:2,class:"go"},Hne={key:3,class:"finished"},Yne={ref:"point",class:"point"};function zne(t,e,n,i,s,a){return Y(),te("div",{class:et(["minigame constrain",`status-${t.game.data.status}`])},[V("div",Gne,[V("div",{class:"message",style:jr(t.scoreStyles)},[t.game.data.status==="waiting"?(Y(),te("span",jne,"Get Ready")):Ke("",!0),t.game.data.status==="active"?(Y(),te("span",Wne,nt(t.game.score),1)):Ke("",!0),t.game.data.status==="active"?(Y(),te("span",Xne,"GO!")):Ke("",!0),t.game.data.status==="finished"?(Y(),te("span",Hne,"Done!")):Ke("",!0)],4),V("div",{class:"line",style:jr(t.lineStyles)},null,4),V("div",{class:"ball",style:jr(t.ballStyles)},[V("div",Yne,null,512),e[0]||(e[0]=V("div",{class:"circle"},null,-1)),V("div",{class:"face",style:jr(t.faceStyles)},null,4)],4)])],2)}const Jne=rt(qne,[["render",zne],["__scopeId","data-v-a4bbb7b4"]]);var pv,NI;function Zne(){if(NI)return pv;NI=1;var t=yP(),e=1/0,n=17976931348623157e292;function i(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-1/0){var a=s<0?-1:1;return a*n}return s===s?s:0}return pv=i,pv}var dv,PI;function Qne(){if(PI)return dv;PI=1;var t=OP(),e=E2(),n=Zne(),i=parseFloat,s=Math.min,a=Math.random;function r(u,c,f){if(f&&typeof f!="boolean"&&e(u,c,f)&&(c=f=void 0),f===void 0&&(typeof c=="boolean"?(f=c,c=void 0):typeof u=="boolean"&&(f=u,u=void 0)),u===void 0&&c===void 0?(u=0,c=1):(u=n(u),c===void 0?(c=u,u=0):c=n(c)),u>c){var h=u;u=c,c=h}if(f||u%1||c%1){var d=a();return s(u+d*(c-u+i("1e-"+((d+"").length-1))),c)}return t(u,c)}return dv=r,dv}var eie=Qne();const _v=is(eie);let tie=class extends eT{constructor(n,i,s){super(n,s);be(this,"incrementMs",250);be(this,"widthScale",3);be(this,"width");be(this,"eatThreshold",.1);be(this,"stages",["-2-2-3-5-8-b-c-b-9-6-4-3-3-4-5-6-5-4-3-3-4-6-9-b-c-b-8-5-3-2-2-2"]);be(this,"gameData",bn({dots:[],snake:[]}));this.gameData.dots=this.parseStage(i),s.scoreToWin&&(this.durationMs=this.gameData.dots.length*this.incrementMs),this.width=Math.ceil(this.durationMs/this.widthScale);for(let a=0;a<30;a++)this.gameData.snake.push(0)}get score(){return this.gameData.dots.filter(n=>n.status==="eaten").length}parseStage(n){const i=this.stages[n%this.stages.length],s=[];let a=0;this.scoreToWin!==void 0?a=this.scoreToWin*10:this.durationMs&&this.durationMs>25e3?a=i.length*2:a=i.length;let r=0;for(;r<a;)for(let u=0;u<i.length;u++){const c=parseInt(i[u],16),h={value:Number.isNaN(c)?null:c/16*this.height,time:this.incrementMs*r/this.widthScale,status:"pending",styles:[]};for(let d=0;d<=9;d++){const g=_v(359);h.styles.push({"--x":`${Math.cos(g)*_v(500)}px`,"--y":`${Math.sin(g)*_v(500)}px`})}s.push(h),r+=1}return s}onFrame(){this.updateDots(),this.updateSnake()}onTick(){}updateDots(){for(let n=0;n<this.gameData.dots.length;n++){const i=this.gameData.dots[n];if(i.value!==null&&i.status==="pending"){if(i.time>this.time.currentMs/this.widthScale)break;this.gameData.dots[n].status=Math.abs(i.value-this.data.value)<this.eatThreshold*this.height?"eaten":"missed"}}}updateSnake(){this.gameData.snake.unshift(this.data.value/1e3),this.gameData.snake.pop()}};const rie=dt({props:{hostIsPaused:{type:Boolean,required:!0},player:{type:Object,required:!0},soundManager:{type:Object,required:!0}},data(){return{game:new tie(this.soundManager,this.player.seed,{durationMs:this.player.durationMs,scoreToWin:this.player.scoreToWin})}},computed:{dots(){return this.game.gameData.dots.filter(t=>t.value!==null)},stageStyles(){return{transform:`translateX(-${this.game.time.percent*100}%)`}},snake(){let t="";const e=this.$refs.snakeBox,n=(e==null?void 0:e.getBoundingClientRect().width)??0;return this.game.gameData.snake.forEach((i,s)=>{t+=s?" L ":"M ",t+=`${n*(1-s/this.game.gameData.snake.length)},${n*(1-i)}`}),`path("${t}")`}},watch:{hostIsPaused:{handler(t){this.game.isPaused=t}},"player.hasStarted":{immediate:!0,handler(t){t&&this.game.start()}},"game.score":{handler(t,e){t>e&&this.onPointScored()}}},beforeUnmount(){this.game.destroy()},methods:{async onPointScored(){const t=this.$refs.segment;t==null||t.forEach(e=>e.getAnimations().forEach(n=>n.play()));try{if(this.$ecast.role==="audience"){await this.$ecast.incrementGCounter(this.player.responseKey);return}await this.$ecast.updateObject(this.player.responseKey,{pointScored:!0})}catch(e){this.$handleEcastError(e)}}}}),nie={class:"message"},iie={key:0,class:"waiting"},sie={key:1,class:"score"},aie={key:2,class:"go"},oie={key:3,class:"finished"},uie={class:"field"},lie=["viewBox"],cie=["transform"],fie=["transform"];function hie(t,e,n,i,s,a){return Y(),te("div",{class:et(["minigame constrain",`status-${t.game.data.status}`])},[V("div",nie,[t.game.data.status==="waiting"?(Y(),te("span",iie,"Get Ready")):Ke("",!0),t.game.data.status==="active"?(Y(),te("span",sie,nt(t.game.score),1)):Ke("",!0),t.game.data.status==="active"?(Y(),te("span",aie,"GO!")):Ke("",!0),t.game.data.status==="finished"?(Y(),te("span",oie,"Done!")):Ke("",!0)]),V("div",uie,[(Y(),te("svg",{class:"stage sketch",viewBox:`0 0 ${t.game.width} ${t.game.height}`,style:jr(t.stageStyles)},[(Y(!0),te(ht,null,Qt(t.dots,(r,u)=>(Y(),te(ht,{key:u},[r.status==="eaten"?(Y(),te("g",{key:0,class:et(["eaten",`eaten-${u%5}`]),transform:`translate(${r.time},${t.game.height-r.value})`},[(Y(),te(ht,null,Qt(10,c=>V("rect",{key:c,style:jr(r.styles[c-1]),width:"15",height:"15"},null,4)),64))],10,cie)):(Y(),te("g",{key:1,class:et(r.status),transform:`translate(${r.time},${t.game.height-r.value})`},e[0]||(e[0]=[V("circle",{r:"40"},null,-1)]),10,fie))],64))),128))],12,lie)),V("div",{ref:"snakeBox",class:"snake",style:jr({"--path":t.snake})},[(Y(),te(ht,null,Qt(15,r=>V("div",{key:r,class:et(["segment",`segment-${16-r}`])},null,2)),64)),e[1]||(e[1]=V("div",{class:"segment head"},[V("div",{class:"jaws bottom"}),V("div",{class:"jaws top"}),V("div",{class:"eyes"})],-1))],4)])],2)}const pie=rt(rie,[["render",hie],["__scopeId","data-v-0f77c121"]]),Ji="cubic-bezier(0.5, 1, 0.89, 1)",Is="cubic-bezier(0.32, 0, 0.67, 0)",die="cubic-bezier(0.5, 0, 0.75, 0)";function _ie(t,e){const n={easing:"ease-in-out",duration:e};t.board.animate([{transform:"scaleY(1) translateY(0)"},{transform:"scaleY(0.9) translateY(7%)"},{transform:"scaleY(1) translateY(0)"}],n),t.foot.animate([{transform:"translateY(0%)"},{transform:"translateY(10%)"},{transform:"translateY(0%)"}],n),t.head.animate([{transform:"rotate(0) translateY(0%)"},{transform:"rotate(6deg) translateY(12%)"},{transform:"rotate(0) translateY(0%)"}],n)}function mie(t,e){var n,i;(n=t.toy)==null||n.animate([{transform:"translateY(0)",offset:.13,easing:Ji},{transform:"translateY(-150%)",offset:.5,easing:Is},{transform:"translateY(0)",offset:.86}],{duration:e}),t.board.animate([{transform:"scaleY(1)",offset:0},{transform:"scaleY(0.9) translate(0%, 3%)",offset:.13,easing:Ji},{transform:"scaleY(1) translate(0%, -5%) rotate(-10deg)",offset:.48,easing:die},{transform:"scaleY(1) translate(0%, -30%) rotate(20deg)",offset:.72},{transform:"scaleY(0.9) translate(0%, 3%)",offset:.86},{transform:"scaleY(1)",offset:1}],{duration:e}),t.foot.animate([{transform:"rotate(0deg)",offset:0},{transform:"rotate(0deg) translate(0, 7%)",offset:.13,easing:Ji},{transform:"rotate(30deg) translate(0%, -70%)",offset:.5,easing:Is},{transform:"rotate(0deg) translate(0, 7%)",offset:.86},{transform:"rotate(0deg)",offset:1}],{duration:e}),t.head.animate([{transform:"rotate(0)",offset:0},{transform:"rotate(6deg) translate(0, 8%)",offset:.13,easing:Ji},{transform:"rotate(-15deg) translate(10%, -35%)",offset:.5,easing:Is},{transform:"rotate(6deg) translate(0, 8%)",offset:.86},{transform:"rotate(0)",offset:1}],{duration:e}),(i=t.shadow)==null||i.animate([{opacity:1,transform:"scale(1)",offset:.13,easing:Ji},{opacity:.75,transform:"scale(0.9)",offset:.5,easing:Is},{opacity:1,transform:"scale(1)",offset:.86}],{duration:e})}function gie(t,e){var n,i;(n=t.toy)==null||n.animate([{transform:"translateY(0)",offset:.13,easing:Ji},{transform:"translateY(-200%)",offset:.5,easing:Is},{transform:"translateY(0)",offset:.86}],{duration:e}),t.board.animate([{transform:"scaleY(1)",offset:0},{transform:"scaleY(0.9) translate(0%, 3%)",offset:.13,easing:Ji},{transform:"scaleY(1) translate(0%, 0%) rotate(-10deg)",offset:.48,easing:Is},{transform:"scaleY(1) translate(0%, -50%) rotate(10deg)",offset:.72},{transform:"scaleY(0.9) translate(0%, 3%)",offset:.86},{transform:"scaleY(1)",offset:1}],{duration:e}),t.board.animate([{backgroundPosition:"0 0",offset:0},{backgroundPosition:"0 0",offset:.13,easing:"steps(8)"},{backgroundPosition:"0 -800%",offset:.72},{backgroundPosition:"0 -800%",offset:.86},{backgroundPosition:"0 -800%",offset:1}],{duration:e}),t.foot.animate([{transform:"rotate(0deg)",offset:0},{transform:"rotate(0deg) translate(0, 7%)",offset:.13,easing:Ji},{transform:"rotate(30deg) translate(0%, -90%)",offset:.5,easing:Is},{transform:"rotate(0deg) translate(0, 7%)",offset:.86},{transform:"rotate(0deg)",offset:1}],{duration:e}),t.head.animate([{transform:"rotate(0)",offset:0},{transform:"rotate(6deg) translate(0, 8%)",offset:.13,easing:Ji},{transform:"rotate(-15deg) translate(15%, -50%)",offset:.5,easing:Is},{transform:"rotate(6deg) translate(0, 8%)",offset:.86},{transform:"rotate(0)",offset:1}],{duration:e}),(i=t.shadow)==null||i.animate([{opacity:1,transform:"scale(1)",offset:.13,easing:Ji},{opacity:.6,transform:"scale(0.85)",offset:.5,easing:Is},{opacity:1,transform:"scale(1)",offset:.86}],{duration:e})}function Eie(t,e,n){switch(e.key){case"hop":_ie(t,n);break;case"skip":mie(t,n);break;case"jump":gie(t,n)}}function vie(t,e){var n;(n=t.toy)==null||n.animate([{transform:"scaleX(0.5) translateX(0)",offset:.13},{transform:"skewX(15deg) scaleX(1) translateX(-50%)",offset:.5},{transform:"scaleX(1) translateX(0)",offset:.86}],{duration:e})}function yie(t,e,n,i){if(e===n)return;const s=n>e?"linear":"ease-out";t.animate([{transform:`translateX(-${e}%)`},{transform:`translateX(-${n}%)`}],{easing:s,fill:"forwards",duration:i,iterations:1})}let Tie=class extends eT{constructor(n,i,s){super(n,s);be(this,"width");be(this,"widthScale",.2);be(this,"incrementsPerPoint",2);be(this,"stage",[]);be(this,"stages",["-----x-----x-----X-----x-----x-----X-----x-----x-----x-----X-----X-----x-----x---x---X---X---X---"]);be(this,"movements",[{key:"jump",threshold:.4*this.height,ticks:6},{key:"skip",threshold:.2*this.height,ticks:2},{key:"hop",threshold:0,ticks:2}]);be(this,"gameData",bn({isBlocked:!1,potentialMovement:this.movements[this.movements.length-1],currentMovement:null,ticksUntilNextMovement:0,position:0}));this.stage=this.parseStage(i),this.onMovement=s.onMovement.bind(this),s.scoreToWin&&(this.durationMs=this.stage.length*this.tickMs),this.width=Math.ceil(this.durationMs/this.widthScale)}get score(){return Math.floor(this.gameData.position/this.incrementsPerPoint)}destroy(){super.destroy(),delete this.onMovement}parseStage(n){const i=this.stages[n%this.stages.length],s=[];let a=0;for(this.scoreToWin!==void 0?a=this.scoreToWin*this.incrementsPerPoint*2:this.durationMs&&this.durationMs>25e3?a=i.length*this.incrementsPerPoint*2:a=i.length*this.incrementsPerPoint;s.length<a;)for(let r=0;r<i.length;r++)i[r]===" "&&s.push(1),i[r]==="x"?s.push(2):i[r]==="X"?s.push(3):s.push(0);return s}onFrame(){for(let n=0;n<this.movements.length;n++)if(!(this.data.value<this.movements[n].threshold)){this.gameData.potentialMovement=this.movements[n];break}}onTick(){var a;if(this.gameData.ticksUntilNextMovement){this.gameData.currentMovement=null,this.gameData.ticksUntilNextMovement-=1;return}const n=this.stage[this.gameData.position]??0,i=this.gameData.position;let s=this.gameData.position;this.gameData.currentMovement=this.gameData.potentialMovement,this.gameData.ticksUntilNextMovement=this.gameData.currentMovement.ticks-1,this.data.status==="active"&&this.gameData.currentMovement.key!=="none"?n>=1&&this.gameData.currentMovement.key==="hop"?this.gameData.isBlocked=!0:n>2&&this.gameData.currentMovement.key==="skip"?this.gameData.isBlocked=!0:(this.gameData.isBlocked=!1,this.gameData.position+=1,s=this.gameData.position):this.gameData.isBlocked=!1,(a=this.onMovement)==null||a.call(this,this.gameData.currentMovement,i,s,this.gameData.isBlocked)}};const bie=dt({props:{player:{type:Object,required:!0},soundManager:{type:Object,required:!0}},data(){return{lastSentScore:0,game:new Tie(this.soundManager,this.player.seed,{durationMs:this.player.durationMs,scoreToWin:this.player.scoreToWin,tickMs:200,onMovement:this.onMovement.bind(this)})}},computed:{floorPaths(){const t=[];let e=null;return this.game.stage.forEach((n,i)=>{if(n===1){e&&(t.push(e),e=null);return}const s=this.incrementWidth*i+50,a=this.game.height,r=this.game.height;e||(e=`M ${s} ${a} `);const u=s+this.incrementWidth-50;if(n===0){e+=`L ${u} ${r}`;return}const c=this.incrementWidth/4,f=s+this.incrementWidth/2;let h=this.game.height;n===2&&(h-=this.game.height*.2),n===3&&(h-=this.game.height*.4),e+=`C ${s+c} ${a}, ${f-c} ${h}, ${f} ${h}`,e+=`C ${f+c} ${h}, ${u-c} ${r}, ${u} ${r}`}),t.push(e),t},incrementWidth(){return this.game.width/this.game.stage.length}},watch:{hostIsPaused:{handler(t){this.game.isPaused=t}},"player.hasStarted":{immediate:!0,handler(t){t&&this.game.start()}},"game.score":{handler(t,e){t>e&&this.onPointScored()}}},beforeUnmount(){this.game.destroy()},methods:{onMovement(t,e,n,i){const s=t.ticks*this.game.tickMs;if(i?vie({toy:this.$refs.toy,board:this.$refs.board,foot:this.$refs.foot,head:this.$refs.head},s):Eie({toy:this.$refs.toy,board:this.$refs.board,foot:this.$refs.foot,head:this.$refs.head,shadow:this.$refs.shadow},t,s),e!==n){const a=e/this.game.stage.length*100,r=n/this.game.stage.length*100;yie(this.$refs.stage,a,r,s)}},async onPointScored(){if(!(this.lastSentScore>=this.game.score))try{if(this.$ecast.role==="audience"){await this.$ecast.incrementGCounter(this.player.responseKey),this.lastSentScore=this.game.score;return}await this.$ecast.updateObject(this.player.responseKey,{pointScored:!0}),this.lastSentScore=this.game.score}catch(t){this.$handleEcastError(t)}}}}),Rie={class:"field"},xie={class:"message"},Sie={key:0,class:"waiting"},Cie={key:1,class:"go"},Aie={key:2,class:"finished"},Lie={ref:"stage",class:"stage"},wie={class:"increments"},Oie={key:0,class:"score"},Iie=["viewBox"],Nie=["d"],Pie={ref:"shadow",class:"shadow"},kie={ref:"toy",class:"toy real"},Die={ref:"board",class:"board"},Bie={ref:"foot",class:"foot"},Uie={ref:"head",class:"head"};function Mie(t,e,n,i,s,a){return Y(),te("div",{class:et(["minigame constrain",`status-${t.game.data.status}`])},[V("div",Rie,[V("div",xie,[t.game.data.status==="waiting"?(Y(),te("span",Sie,"Get Ready")):Ke("",!0),t.game.data.status==="active"?(Y(),te("span",Cie,"GO!")):Ke("",!0),t.game.data.status==="finished"?(Y(),te("span",Aie,"Done!")):Ke("",!0)]),V("div",Lie,[V("div",wie,[(Y(!0),te(ht,null,Qt(t.game.stage,(r,u)=>(Y(),te("div",{key:u,class:et(["increment",{collected:u/2<t.game.score,current:u/2<=t.game.score}])},[u&&u%2===0?(Y(),te("p",Oie,nt(u/2),1)):Ke("",!0)],2))),128))]),e[0]||(e[0]=V("div",{class:"grass"},null,-1)),(Y(),te("svg",{class:"floor",viewBox:`0 0 ${t.game.width} ${t.game.height}`},[(Y(!0),te(ht,null,Qt(t.floorPaths,(r,u)=>(Y(),te("path",{key:u,d:r},null,8,Nie))),128))],8,Iie))],512),V("div",Pie,null,512),V("div",kie,[V("div",Die,null,512),V("div",Bie,null,512),V("div",Uie,e[1]||(e[1]=[V("div",{class:"crank"},null,-1),V("div",{class:"face"},null,-1)]),512)],512)])],2)}const Kie=rt(bie,[["render",Mie],["__scopeId","data-v-b4897b68"]]),$ie=dt({props:{avatar:{type:Number,required:!0}}});function Vie(t,e,n,i,s,a){return Y(),te("div",{class:et(["avatar",`avatar-${t.avatar}`])},null,2)}const Eo=rt($ie,[["render",Vie],["__scopeId","data-v-30bf6416"]]),Fie=dt({props:{info:{type:String,required:!1}}}),qie={class:"text"},Gie={key:0,class:"info"};function jie(t,e,n,i,s,a){return Y(),te("div",{class:et(["info-box",{"has-info":t.info}])},[V("span",qie,[cl(t.$slots,"default",{},void 0,!0)]),t.info?(Y(),te("div",Gie,[V("span",null,nt(t.info),1)])):Ke("",!0)],2)}const Fh=rt(Fie,[["render",jie],["__scopeId","data-v-90800b12"]]),Wie=dt({props:{text:{type:String,required:!1}}}),Xie={class:"edge-button left replay-button","aria-label":"replay"},Hie={key:0,viewBox:"0 0 200 150",class:"text"},Yie={href:"#replay-path",startOffset:"50%","text-anchor":"middle"};function zie(t,e,n,i,s,a){return Y(),te("button",Xie,[e[1]||(e[1]=ba('<svg viewBox="0 0 200 150" class="sketch" data-v-90e9f51c><path class="fill slim" d="M100,150c41.42,0,75-33.58,75-75S141.42,0,100,0H0v150h100Z" data-v-90e9f51c></path><circle class="fill wide" cx="100" cy="75" r="75" data-v-90e9f51c></circle><circle class="background" cx="100" cy="75" r="55" data-v-90e9f51c></circle><path class="line" d="M120.56,47.23c8.49,6.29,13.99,16.39,13.99,27.77s-5.58,21.62-14.18,27.91" data-v-90e9f51c></path><path class="line" d="M109.31,57.25c6.38,3.35,10.73,10.05,10.73,17.75s-4.44,14.54-10.94,17.86" data-v-90e9f51c></path><path class="fill" d="M102.87,106.31c0,2.79-3.38,4.17-5.34,2.19l-16.81-16.99c-.59-.59-1.38-.92-2.22-.92h-10.93c-1.72,0-3.12-1.4-3.12-3.12v-12.36s0-.04-.02-.06c-.03-.03-.03-.08,0-.12h0s.02-.04.02-.06v-12.36c0-1.72,1.4-3.12,3.12-3.12h10.93c.83,0,1.63-.33,2.22-.92l16.81-16.98c1.96-1.98,5.34-.59,5.34,2.19v62.62Z" data-v-90e9f51c></path></svg>',1)),t.text?(Y(),te("svg",Hie,[e[0]||(e[0]=V("defs",null,[V("path",{id:"replay-path",d:"M29.29,4.29c39.05-39.05,102.37-39.05,141.42,0,39.05,39.05,39.05,102.37,0,141.42"})],-1)),V("text",null,[V("textPath",Yie,nt(t.text),1)])])):Ke("",!0)])}const gD=rt(Wie,[["render",zie],["__scopeId","data-v-90e9f51c"]]),Jie=dt({props:{text:{type:String,required:!1}}}),Zie={class:"edge-button right retry-button","aria-label":"retry"},Qie={key:0,viewBox:"0 0 200 150",class:"text"},ese={href:"#retry-path",startOffset:"50%","text-anchor":"middle"};function tse(t,e,n,i,s,a){return Y(),te("button",Zie,[e[1]||(e[1]=ba('<svg viewBox="0 0 200 150" class="sketch" data-v-47c8f7e4><path class="fill slim" d="M100,150c-41.42,0-75-33.58-75-75S58.58,0,100,0h100v150h-100Z" data-v-47c8f7e4></path><circle class="fill wide" cx="100" cy="75" r="75" data-v-47c8f7e4></circle><circle class="background" cx="100" cy="75" r="55" data-v-47c8f7e4></circle><path class="line fill" d="M114.23,70.5c0,7.1-5.76,12.86-12.86,12.86s-12.86-5.76-12.86-12.86v-20.14c0-7.1,5.76-12.86,12.86-12.86s12.86,5.76,12.86,12.86v20.14Z" data-v-47c8f7e4></path><line class="line" x1="101.37" y1="95.36" x2="101.37" y2="112.5" data-v-47c8f7e4></line><path class="line" d="M77.8,62.36v9.43c0,13.02,10.55,23.57,23.57,23.57s23.57-10.55,23.57-23.57v-9.43" data-v-47c8f7e4></path><line class="line" x1="90.24" y1="112.5" x2="112.5" y2="112.5" data-v-47c8f7e4></line></svg>',1)),t.text?(Y(),te("svg",Qie,[e[0]||(e[0]=V("defs",null,[V("path",{id:"retry-path",d:"M29.29,145.71c-39.05-39.05-39.05-102.37,0-141.42,39.05-39.05,102.37-39.05,141.42,0"})],-1)),V("text",null,[V("textPath",ese,nt(t.text),1)])])):Ke("",!0)])}const ED=rt(Jie,[["render",tse],["__scopeId","data-v-47c8f7e4"]]),rse={},nse={class:"start-button","aria-label":"start the game"};function ise(t,e){return Y(),te("button",nse,e[0]||(e[0]=[ba('<svg viewBox="0 0 200 200" class="sketch" data-v-17f39e52><circle class="background" cx="100" cy="100" r="100" data-v-17f39e52></circle><circle class="line" cx="100" cy="100" r="104" data-v-17f39e52></circle><path class="fill" d="M59.06,108.07c.53-2.13,3.55-2.84,3.89-4.72.41-2.26-2.52-3.32-2.37-6.28.13-2.58,2.65-7.78,4.85-9.22.58-.38,6.88-3.03,7.47-3.09,1.58-.16,6.96.3,8.74.51,1.96.23,6.93,2.47,7.98.38.94-2.74-2.14-3.49-3.5-5.3-3.79-5.06-4.94-15.89-2.33-21.61,2.42-5.29,10.56-10.43,14.75-4.44,2.32,3.32,1.44,5.18,1.88,8.67.69,5.39,6.31,12.96,10.49,16.32,3.14,2.52,7.63,3.61,10.32,5.94,3.23,2.8,2.81,7.11,8.36,6.59,2.2-.21,3.08-1.59,5.61-.34,1.49.74,1.84,2.12,2.03,3.68.74,6.21,1.09,18.49-.58,24.37-.75,2.64-3.55,4.44-6.21,4.77-2.45.31-5.18-1.14-6.78-.66-1.3.39-2.35,2.7-3.8,3.7-9.62,6.69-25.78,6.72-36.87,9.28l-1.06.46h-1.32c-5.33-1.22-9.58-2.22-11.74-7.81-1.51-3.9.39-3.9.75-6.51.47-3.47-2.43-2.49-4.74-3.12-1.51-.41-4.14-2.58-4.81-3.98s-.19-2.86-.98-4.08v-3.52ZM98.02,116.99c2.47,2.21,1.78,5.71-.53,7.76-1.24,1.1-9.1,4.48-5.93,6.39,2.44.9,4.53-1.2,6.8-1.99,6.12-2.14,12.18-2.65,17.77-6.39,2.1-1.4,4.34-5.03,6.51-5.39,2.57-.43,4.12,3.7,7.09,1.87,2.64-1.62.88-4.44.92-6.56.07-3.46.17-8.01.44-11.43.13-1.68,1.7-3.52.21-5.04-2.69-2.76-5.25,2.81-8.3.82-1.08-.7-3.61-6.25-5.96-8.09-1.85-1.45-4.16-1.84-6.13-3.1-5.91-3.77-15.48-14.8-15.85-21.96-.1-1.88,1.48-7.89-2.37-7.68-3.49.19-5.13,6.69-5.13,9.46,0,3.38,2.68,12.44,4.51,15.31,1.66,2.61,4.78,3.61,6.59,7.03,1.42,2.67,2.02,7.73,3.5,9.68,1.28,1.69,7.39,3.36,4.81,6.69-2.55,3.3-8.55-2.63-9.61-5.41-.99-2.58-1.3-11.13-4.77-11.46-4.37-.42.26,5.99.31,7.61.06,2.25-2.21,3.44-1.72,5.16.33,1.16,3.24,1.88,4.34,3.16,1.47,1.72,2.46,4.88,1.26,6.99-.87,1.53-4.6,2.02-3.86,4.37.43,1.35,3.8,1.03,5.09,2.19ZM73.84,89.76c-5.62.29-12.74,12.59-2.25,12.17,4.46-.18,19.38-2.17,17.24-9.38-.71-2.41-4.03-1.41-5.83-1.64-2.83-.35-6.35-1.3-9.17-1.16ZM86.62,103.78c-1.32.25-3.01,1.5-4.28,1.87-2.16.63-7.23,1.27-9.46,1.12-2.41-.17-6.74-2.5-7.91,1.28-1.53,4.94,1.95,8.28,6.61,8.81,5.19.59,14.68-2.02,18.47-5.7s2.21-8.46-3.43-7.39ZM91.36,117.94c-3.68.65-7.12,2.28-10.74,3.11-3.81.88-8.25-.64-6.95,5.59.68,3.24,6.31,6.89,9.27,4.64,2.37-3.35,17.2-10.23,8.43-13.34Z" data-v-17f39e52></path><path class="fingers" d="M131.11,101.25c.13-1.68,1.7-3.52.21-5.04-2.69-2.76-5.25,2.81-8.3.82-1.08-.7-3.61-6.25-5.96-8.09-1.85-1.45-4.16-1.84-6.13-3.1-5.91-3.77-15.48-14.8-15.85-21.96-.1-1.88,1.48-7.89-2.37-7.68-3.49.19-5.13,6.69-5.13,9.46,0,3.38,2.68,12.44,4.51,15.31,1.66,2.61,4.78,3.61,6.59,7.03,1.42,2.67,2.02,7.73,3.5,9.68,1.28,1.69,7.39,3.36,4.81,6.69-2.55,3.3-8.55-2.63-9.61-5.41-.99-2.58-1.3-11.13-4.77-11.46-4.37-.42.26,5.99.31,7.61.06,2.25-2.21,3.44-1.72,5.16.33,1.16,3.24,1.88,4.34,3.16,1.47,1.72,2.46,4.88,1.26,6.99-.87,1.53-4.6,2.02-3.86,4.37.43,1.35,3.8,1.03,5.09,2.19,2.47,2.21,1.78,5.71-.53,7.76-1.24,1.1-9.1,4.48-5.93,6.39,2.44.9,4.53-1.2,6.8-1.99,6.12-2.14,12.18-2.65,17.77-6.39,2.09-1.4,4.34-5.03,6.51-5.39,2.57-.43,4.12,3.7,7.09,1.87,2.64-1.62.88-4.44.92-6.56.07-3.46.17-8.01.44-11.43ZM90.05,111.16c3.78-3.67,2.21-8.46-3.43-7.39-1.32.25-3.01,1.5-4.28,1.87-2.16.63-7.23,1.27-9.46,1.12-2.41-.17-6.74-2.5-7.91,1.28-1.53,4.94,1.95,8.28,6.61,8.81,5.19.59,14.68-2.02,18.47-5.7ZM71.6,101.94c4.46-.18,19.38-2.17,17.24-9.38-.71-2.41-4.03-1.41-5.83-1.64-2.83-.35-6.35-1.3-9.17-1.16-5.62.29-12.74,12.59-2.25,12.17ZM91.36,117.94c-3.68.65-7.12,2.28-10.74,3.11-3.81.88-8.25-.64-6.95,5.59.68,3.24,6.31,6.89,9.27,4.64,2.37-3.35,17.2-10.23,8.43-13.34Z" data-v-17f39e52></path></svg><svg viewBox="0 0 200 200" class="text" data-v-17f39e52><defs data-v-17f39e52><path id="start-path" d="M55.01,136.97c-12.26-14.95-16.81-35.69-10.24-55.39,10.17-30.5,43.15-46.98,73.65-36.81,30.5,10.17,46.98,43.15,36.81,73.65-6.57,19.7-22.65,33.55-41.44,38.15" data-v-17f39e52></path></defs><text data-v-17f39e52><textPath href="#start-path" startOffset="50%" text-anchor="middle" data-v-17f39e52>START THE GAME</textPath></text></svg>',2)]))}const sse=rt(rse,[["render",ise],["__scopeId","data-v-17f39e52"]]),ase=dt({components:{Avatar:Eo,InfoBox:Fh,ReplayButton:gD,RetryButton:ED,StartButton:sse},props:{info:{type:Object,required:!0},players:{type:Object,required:!0},player:{type:Object,required:!0}},computed:{avatarClasses(){const t=[];for(let e=0;e<this.player.numAvatars;e++)t.push([]);return Object.keys(this.players).forEach(e=>{const n=parseInt(e,10),i=this.players[n];i&&(this.info.avatar===i.avatar?t[i.avatar].push("selected"):t[i.avatar].push("disabled"))}),t},canStart(){return!(!this.player.canStart||!this.info.isVip)}},mounted(){this.sendPermissions()},methods:{async onAvatarClick(t){try{await this.$ecast.updateObject(this.player.responseKey,{avatar:t})}catch(e){console.error(e)}},async onStartClick(){try{await this.$ecast.updateObject(this.player.responseKey,{startGame:!0})}catch(t){console.error(t)}},async onPlayClick(){try{await this.$ecast.updateObject(this.player.responseKey,{playSound:!0})}catch(t){console.error(t)}},async onRerecordClick(){try{await this.$ecast.updateObject(this.player.responseKey,{rerecordSound:!0})}catch(t){console.error(t)}},async sendPermissions(){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{device:navigator.platform,hasPermission:!0})}catch(t){console.error(t)}}}}),ose={class:"lobby"},use={class:"constrain no-edge"},lse={class:"avatars-box"},cse=["disabled","aria-label","onClick"],fse={class:"actions-box"},hse={class:"button-wrapper"},pse={class:"button-wrapper"};function dse(t,e,n,i,s,a){const r=ct("InfoBox"),u=ct("Avatar"),c=ct("ReplayButton"),f=ct("StartButton"),h=ct("RetryButton");return Y(),te("div",ose,[ft(r,null,{default:Ds(()=>[Tr(nt(t.player.prompt),1)]),_:1}),V("div",use,[V("div",lse,[(Y(!0),te(ht,null,Qt(t.avatarClasses,(d,g)=>(Y(),te("button",{key:g,class:"avatar-button",disabled:d.length!==0,"aria-label":t.$t(`AVATARS.AVATAR_${g}`),onClick:E=>t.onAvatarClick(g)},[ft(u,{class:et(d),avatar:g},null,8,["class","avatar"])],8,cse))),128))]),V("div",fse,[V("div",hse,[t.player.hasAvatarSound?(Y(),Ht(c,{key:0,text:"Replay",onClick:t.onPlayClick},null,8,["onClick"])):Ke("",!0)]),t.info.isVip?(Y(),Ht(f,{key:0,class:"start-button",disabled:!t.canStart,onClick:t.onStartClick},null,8,["disabled","onClick"])):Ke("",!0),V("div",pse,[t.player.hasAvatarSound?(Y(),Ht(h,{key:0,text:"Retry",onClick:t.onRerecordClick},null,8,["onClick"])):Ke("",!0)])])])])}const _se=rt(ase,[["render",dse],["__scopeId","data-v-346e7cd2"]]),mse=dt({props:{player:{type:Object,required:!0},soundManager:{type:Object,required:!0}},data(){return{min:.25,max:.75,sendInterval:null,lastSent:null}},computed:{wormClass(){const t=this.soundManager.data.value;return t<=this.min?"step-0":t>this.max?"step-10":`step-${Math.floor((t-this.min)/((this.max-this.min)/9))+1}`}},mounted(){this.sendInterval||(this.sendInterval=window.setInterval(()=>void this.onInterval(),2e3))},beforeUnmount(){this.sendInterval&&(window.clearInterval(this.sendInterval),this.sendInterval=null)},methods:{async onInterval(){let t=Math.floor(this.soundManager.data.value*this.player.responseKeys.length);t>=this.player.responseKeys.length&&(t=this.player.responseKeys.length-1);try{if(this.lastSent===t)return;this.lastSent!==null&&await this.$ecast.decrementPNCounter(this.player.responseKeys[this.lastSent]),await this.$ecast.incrementPNCounter(this.player.responseKeys[t]),this.lastSent=t}catch(e){this.$handleEcastError(e)}}}}),gse={class:"minigame constrain"};function Ese(t,e,n,i,s,a){return Y(),te("div",gse,[e[1]||(e[1]=V("p",{class:"message"},[V("span",null,"Make Noise")],-1)),V("div",{class:et(["eel",t.wormClass])},e[0]||(e[0]=[V("div",{class:"shadow"},null,-1)]),2)])}const vse=rt(mse,[["render",Ese],["__scopeId","data-v-f19ddf87"]]),yse={},Tse={viewBox:"0 0 100 100"};function bse(t,e){return Y(),te("svg",Tse,e[0]||(e[0]=[V("path",{class:"red",d:"M37.75,11.3L1.92,73.37c-5.44,9.43,1.36,21.22,12.25,21.22h71.67c10.89,0,17.69-11.79,12.25-21.22L62.25,11.3c-5.44-9.43-19.06-9.43-24.5,0Z"},null,-1),V("path",{class:"blue",d:"M46.64,32.68c3.56.11,11.41-1.23,10.75,4.27,0,0-2.35,27.76-2.35,27.76-.52,10.74-13.74,6.46-12.44-6.51,0,0,0-21.48,0-21.48,0-2.23,1.81-4.04,4.04-4.04Z"},null,-1),V("path",{class:"blue",d:"M49.97,76.97c7.34,0,7.42,8.87-.17,8.87s-6.51-8.87.17-8.87Z"},null,-1)]))}const Rse=rt(yse,[["render",bse],["__scopeId","data-v-22823bcc"]]),xse=dt({components:{Avatar:Eo,WarningIcon:Rse},props:{deviceManager:{type:Object,required:!0},player:{type:Object,required:!0}},data(){return{showAudienceOptions:this.$ecast.role==="audience"&&this.deviceManager.shouldPromptForPermission}},mounted(){this.sendPermissions(),this.deviceManager.assumedPermission!=="unknown"&&this.deviceManager.initialize()},methods:{onAudienceReady(){this.showAudienceOptions=!1},onAudienceDeny(){this.deviceManager.denyPermissions()},async onInitClick(){await this.deviceManager.initialize()},async sendPermissions(){if(this.player.responseKey&&this.$ecast.role==="player")try{await this.$ecast.updateObject(this.player.responseKey,{device:navigator.platform,hasPermission:!1})}catch(t){console.error(t)}}}}),Sse={class:"permissions constrain no-top"},Cse={class:"backfill"},Ase={key:0,class:"interior"},Lse={class:"text"},wse={class:"choices"},Ose={key:1,class:"interior"},Ise={class:"text yellow"},Nse={class:"info"},Pse={key:2,class:"interior"},kse={class:"text"},Dse={key:3,class:"interior will-ask"},Bse={class:"text"};function Use(t,e,n,i,s,a){const r=ct("Avatar"),u=ct("WarningIcon");return Y(),te("div",Sse,[V("div",Cse,[t.showAudienceOptions?(Y(),te("div",Ase,[ft(r,{avatar:6,class:"outline-thick"}),V("p",Lse,nt(t.$t("PERMISSIONS.AUDIENCE")),1),V("div",wse,[V("button",{class:"choice-button",onClick:e[0]||(e[0]=(...c)=>t.onAudienceReady&&t.onAudienceReady(...c))},[V("span",null,nt(t.$t("PERMISSIONS.ACKNOWLEDGE")),1)]),V("button",{class:"choice-button",onClick:e[1]||(e[1]=(...c)=>t.onAudienceDeny&&t.onAudienceDeny(...c))},[V("span",null,nt(t.$t("PERMISSIONS.DENY")),1)])])])):t.deviceManager.grantedPermission==="denied"?(Y(),te("div",Ose,[ft(u,{class:"icon sketch"}),V("p",Ise,nt(t.$t("PERMISSIONS.NO_ACCESS")),1),V("p",Nse,nt(t.$t("PERMISSIONS.NO_ACCESS_INFO")),1)])):t.deviceManager.grantedPermission==="no-devices"?(Y(),te("div",Pse,[ft(u,{class:"icon sketch"}),V("p",kse,nt(t.$t("PERMISSIONS.NO_DEVICES")),1)])):t.deviceManager.assumedPermission==="unknown"?(Y(),te("div",Dse,[ft(r,{avatar:5,class:"outline-thick"}),V("p",Bse,nt(t.$t("PERMISSIONS.WILL_ASK")),1),V("button",{class:"choice-button",onClick:e[2]||(e[2]=(...c)=>t.onInitClick&&t.onInitClick(...c))},[V("span",null,nt(t.$t("PERMISSIONS.ACKNOWLEDGE")),1)])])):Ke("",!0)])])}const Mse=rt(xse,[["render",Use],["__scopeId","data-v-df0f6224"]]),Kse={},$se={viewBox:"0 0 200 150"};function Vse(t,e){return Y(),te("svg",$se,e[0]||(e[0]=[V("path",{class:"fill",d:"M52.82,91.5c.66-2.65,4.43-3.55,4.85-5.88.51-2.82-3.15-4.14-2.96-7.84.16-3.22,3.31-9.71,6.05-11.51.73-.47,8.58-3.78,9.32-3.85,1.97-.19,8.68.37,10.9.63,2.45.29,8.65,3.08,9.95.48,1.17-3.42-2.67-4.34-4.37-6.61-4.73-6.31-6.16-19.83-2.9-26.96,3.02-6.6,13.17-13.01,18.4-5.54,2.9,4.14,1.79,6.46,2.35,10.81.85,6.72,7.86,16.17,13.09,20.35,3.92,3.13,9.51,4.51,12.87,7.41,4.03,3.49,3.51,8.87,10.42,8.22,2.74-.26,3.85-1.98,7-.43,1.86.92,2.3,2.64,2.53,4.59.92,7.75,1.36,23.07-.73,30.4-.93,3.3-4.43,5.54-7.75,5.95-3.05.38-6.46-1.42-8.46-.82-1.62.48-2.94,3.37-4.73,4.62-12,8.35-32.16,8.39-45.99,11.58l-1.32.58h-1.65c-6.64-1.53-11.95-2.76-14.66-9.73-1.88-4.87.48-4.87.93-8.13.59-4.33-3.04-3.11-5.91-3.89-1.88-.52-5.17-3.22-6.01-4.96s-.23-3.56-1.22-5.09v-4.39h-.01Z"},null,-1),V("path",{class:"inner",d:"M142.7,83c.16-2.09,2.12-4.39.26-6.3-3.35-3.44-6.54,3.51-10.35,1.03-1.35-.88-4.51-7.8-7.44-10.09-2.31-1.81-5.2-2.3-7.64-3.86-7.38-4.7-19.3-18.46-19.77-27.4-.12-2.34,1.84-9.84-2.96-9.58-4.36.23-6.39,8.35-6.41,11.8,0,4.22,3.34,15.52,5.62,19.1,2.08,3.26,5.97,4.51,8.22,8.77,1.77,3.33,2.52,9.64,4.37,12.08,1.59,2.12,9.21,4.19,5.99,8.35-3.19,4.12-10.66-3.29-11.99-6.74-1.24-3.22-1.62-13.89-5.95-14.3-5.44-.52.33,7.48.38,9.5.07,2.8-2.75,4.29-2.14,6.45.41,1.44,4.04,2.34,5.42,3.95,1.83,2.14,3.07,6.09,1.57,8.72-1.09,1.91-5.75,2.52-4.81,5.46.54,1.68,4.74,1.28,6.35,2.72,3.08,2.76,2.23,7.12-.66,9.68-1.54,1.37-11.36,5.58-7.4,7.96,3.04,1.11,5.65-1.5,8.48-2.49,7.63-2.67,15.19-3.31,22.18-7.97,2.61-1.75,5.4-6.27,8.13-6.72,3.2-.54,5.13,4.62,8.84,2.34,3.29-2.02,1.1-5.54,1.15-8.18.1-4.32.21-10,.55-14.26h0ZM91.48,95.36c4.72-4.58,2.76-10.56-4.28-9.21-1.65.32-3.75,1.87-5.33,2.34-2.69.78-9.02,1.59-11.8,1.4-3-.21-8.41-3.12-9.87,1.59-1.91,6.17,2.43,10.33,8.25,11,6.48.74,18.31-2.52,23.04-7.11h-.01ZM68.46,83.86c5.57-.22,24.17-2.71,21.52-11.7-.89-3-5.03-1.76-7.27-2.05-3.52-.44-7.92-1.62-11.44-1.44-7.01.36-15.89,15.7-2.8,15.18h0ZM93.11,103.82c-4.59.81-8.88,2.85-13.4,3.88-4.74,1.1-10.3-.8-8.68,6.97.85,4.04,7.86,8.59,11.56,5.79,2.96-4.18,21.45-12.76,10.5-16.64h.01Z"},null,-1)]))}const Fse=rt(Kse,[["render",Vse],["__scopeId","data-v-b41781d5"]]),qse=dt({components:{Avatar:Eo,Thumb:Fse},props:{artifact:{type:Object,required:!0},artifactId:{type:String,required:!0},context:{type:String,required:!0}},computed:{mostLikes(){return this.artifact.blob.players.toSorted((t,e)=>e.likes-t.likes)[0]},sortedPlayers(){return this.artifact.blob.players.toSorted((t,e)=>e.score-t.score)}}}),Gse="/main/pp11/sfx/assets/q8FSibOu.png",jse="/main/pp11/sfx/assets/CTwWTE9K.png",Wse="/main/pp11/sfx/assets/Cyivhz1w.png",Xse="/main/pp11/sfx/assets/VyvnyMUo.png",Hse={class:"constrain"},Yse=["alt"],zse={class:"recap"},Jse=["alt"],Zse=["alt"],Qse={class:"score"},eae={class:"outline"},tae={class:"text"},rae={class:"likes"},nae={class:"name"},iae={class:"rank"},sae={class:"outline"},aae={class:"text"},oae=["alt"];function uae(t,e,n,i,s,a){const r=ct("Avatar"),u=ct("Thumb");return Y(),te("div",{class:et({sfx:t.context==="standalone"})},[V("div",Hse,[t.context==="standalone"?(Y(),te("img",{key:0,class:"masthead",src:Gse,alt:t.$t("ALT.LOGO")},null,8,Yse)):Ke("",!0),V("div",zse,[e[0]||(e[0]=V("svg",{viewBox:"0 0 285 142",preserveAspectRatio:"none"},[V("path",{d:"M247.7,12.11c5.98-5.6,15.11-7.04,20.73-.13,8.67,10.67-3.92,19.57-4.9,29.59-.91,9.29,6.7,24.82,11.17,33.09,4.56,8.43,15.74,21.35,7.14,30.62-10.15,10.95-32.18-5.85-37.43,13.71-1.82,6.8.9,21.42-10.44,21.42s-10.68-17.09-17.62-22.58c-8.23-6.52-15.87,2.33-24.08,3.05-4.71.41-8.6-.59-13.32,1.18-6.3,2.37-10.05,10.29-17.18,10.77-5.2.35-10.51-4.26-15.63-4.95-10.38-1.41-13.61,3.69-20.58,9.33-15.65,12.67-19.2-4.09-32.66-5.39-4.71-.46-9.41,1.43-14.09,1.04-13.38-1.12-17.58-22.85-34.09-24.31-10.65-.94-19.53,9.51-28.82,2-11.03-8.92-2.56-24.18-6.6-35.5-2.71-7.6-11.38-13.05-8.81-22.05,3.04-10.63,17.03-7.85,22.66-15.07,5.47-7.02-.88-17.97,7.45-24.49,8.98-7.02,16.81,3.51,25.01,4.34,11.2,1.13,15.68-8.52,24.59-12.04,13-5.14,22.14-2.52,33.15,1.6,4.82,1.8,9.77,2.11,14.68,3.45,8.86,2.44,16.35,3.05,25.56-2.76C163.43,1.8,159.43-.08,173.42,0c10.25,1.13,8.77,19.88,17.47,25.35,8.13,5.12,14.65-.22,22.77-.32,7.93-.1,13.69,5.19,21.82.45,5.29-3.08,7.93-9.35,12.21-13.37h0Z"})],-1)),V("p",null,nt(t.$t("POST_GAME.PRIVACY")),1),V("img",{class:"privacy",src:jse,alt:t.$t("ALT.RECAP")},null,8,Jse)]),(Y(!0),te(ht,null,Qt(t.sortedPlayers,(c,f)=>(Y(),te("div",{key:c.name,class:et(["player",{winner:!f,"most-liked":c===t.mostLikes}])},[f?Ke("",!0):(Y(),te("img",{key:0,class:"winner-title",src:Wse,alt:t.$t("ALT.WINNER")},null,8,Zse)),V("p",Qse,[V("span",eae,nt(c.score),1),V("span",tae,nt(c.score),1)]),ft(r,{avatar:c.avatar},null,8,["avatar"]),V("div",rae,[(Y(!0),te(ht,null,Qt(c.likes,h=>(Y(),Ht(u,{key:h,class:"like"}))),128))]),V("p",nae,[V("span",iae,[V("span",sae,nt(f+1),1),V("span",aae,nt(f+1),1)]),Tr(" "+nt(c.name),1)]),c===t.mostLikes?(Y(),te("img",{key:1,class:"most-likes",src:Xse,alt:t.$t("ALT.MOST_LIKES")},null,8,oae)):Ke("",!0)],2))),128))])],2)}const vD=rt(qse,[["render",uae],["__scopeId","data-v-bd0e81c3"]]),lae={},cae={viewBox:"0 0 100 100"};function fae(t,e){return Y(),te("svg",cae,e[0]||(e[0]=[V("polygon",{points:"30 25 70 50 30 75"},null,-1)]))}const hae=rt(lae,[["render",fae],["__scopeId","data-v-d1542c7d"]]),pae=dt({components:{Avatar:Eo,Gallery:hP,EmbeddedPostGameActions:Cj,PlayIcon:hae},props:{artifact:{type:Object},info:{type:Object,required:!0},players:{type:Object,required:!0},player:{type:Object,required:!0}},data(){return{GalleryView:Qo(vD),isIOS:Zi.isIOS,showIconMessage:!0,isConnected:!0}},computed:{bloopers(){if(!this.player.bloopers)return null;const t=Object.values(this.players),e={};return this.player.bloopers.forEach((n,i)=>{e[n.videoId]||(e[n.videoId]={thumbnailUrl:`https://cdn.jackboxgames.com/hear-say/thumbnails/${n.videoId}.jpg`,alt:n.videoTitle,bloopers:[]});const s=t.find(u=>u.name===n.playerName),a=[];let r=!1;this.player.currentlyPlaying!==void 0&&(r=!0),this.player.currentlyPlaying===i&&a.push("selected"),e[n.videoId].bloopers.push({avatar:(s==null?void 0:s.avatar)??0,index:i,name:n.playerName,isDisabled:r,classes:a})}),Object.values(e)}},mounted(){this.$ecastManager.on("didDisconnect",this.onDidDisconnect.bind(this)),this.$ecastManager.on("didDisconnect",this.onDidConnect.bind(this)),this.$ecastManager.on("roomDidExit",this.onDidDisconnect.bind(this)),this.$ecastManager.on("didEmitPausedEvent",this.onDidEmitPausedEvent.bind(this))},methods:{async onBlooperClick(t){try{await this.$ecast.updateObject(this.player.responseKey,{blooper:t})}catch(e){console.error(e)}},onCloseClick(){this.showIconMessage=!1},onDidDisconnect(){this.isConnected=!1},onDidConnect(){this.isConnected=!0},onDidEmitPausedEvent(t){(t==="didDisconnect"||t==="roomDidExit")&&(this.isConnected=!1),t==="didConnect"&&(this.isConnected=!0)}}}),dae="/main/pp11/sfx/assets/BZIcutwF.png",_ae="/main/pp11/sfx/assets/DyCDT6Kv.png",mae={class:"constrain"},gae={key:1,class:"constrain"},Eae=["alt"],vae={class:"thumbnail"},yae=["src","alt"],Tae=["disabled","onClick"];function bae(t,e,n,i,s,a){var h,d;const r=ct("Avatar"),u=ct("PlayIcon"),c=ct("EmbeddedPostGameActions"),f=ct("Gallery");return Y(),Ht(f,{view:t.GalleryView,"artifact-id":(h=t.artifact)==null?void 0:h.artifactId,"category-id":(d=t.artifact)==null?void 0:d.categoryId,context:"postGame"},{pre:Ds(()=>[t.isIOS?(Y(),te("div",{key:0,class:et(["ios-message",{hide:!t.showIconMessage}])},[V("div",mae,[e[2]||(e[2]=V("img",{src:dae,alt:""},null,-1)),Tr(" "+nt(t.$t("POST_GAME.ICON"))+" ",1),V("button",{class:"choice-button small",onClick:e[0]||(e[0]=(...g)=>t.onCloseClick&&t.onCloseClick(...g))},e[1]||(e[1]=[V("span",null,"GOT IT",-1)]))])],2)):Ke("",!0),t.bloopers&&t.isConnected?(Y(),te("div",gae,[V("img",{class:"masthead",src:_ae,alt:t.$t("ALT.BLOOPER_REEL")},null,8,Eae),(Y(!0),te(ht,null,Qt(t.bloopers,(g,E)=>(Y(),te("div",{key:E,class:"video backfill"},[V("div",vae,[V("img",{src:g.thumbnailUrl,alt:g.alt},null,8,yae),e[3]||(e[3]=V("div",{class:"border sketch"},null,-1))]),(Y(!0),te(ht,null,Qt(g.bloopers,(v,S)=>(Y(),te("button",{key:S,class:et(["player-button",v.classes]),disabled:v.isDisabled,onClick:x=>t.onBlooperClick(v.index)},[ft(r,{avatar:v.avatar,class:"outline-thin"},null,8,["avatar"]),V("span",null,nt(v.name),1),ft(u,{class:"icon sketch"})],10,Tae))),128))]))),128))])):Ke("",!0)]),default:Ds(()=>[ft(c,{class:"constrain",player:t.player},null,8,["player"])]),_:1},8,["view","artifact-id","category-id"])}const Rae=rt(pae,[["render",bae],["__scopeId","data-v-72037464"]]);let yD=.8;function xae(t,e){const n=e[0]-t[0],i=e[1]-t[1];return{d:Math.sqrt(n**2+i**2),a:Math.atan2(i,n)}}function kI(t,e,n,i){const r=xae(n||e,i||e),u=r.a+(t?Math.PI:0),c=r.d*yD,f=e[0]+Math.cos(u)*c,h=e[1]+Math.sin(u)*c;return[f,h]}function Sae(t,e,n){const i=kI(!1,n[e-1],n[e-2],t),s=kI(!0,t,n[e-1],n[e+1]);return`C ${i[0]},${i[1]} ${s[0]},${s[1]} ${t[0]},${t[1]}`}function Cae(t,e){return t.reduce((n,i,s,a)=>s===0?`L ${i[0]},${i[1]}`:`${n} ${e(i,s,a)}`,"")}function Aae(t,e=.8){return yD=e,Cae(t,Sae)}const Lae=dt({props:{duration:{type:Number,required:!0},message:{type:String,required:!1},samples:{type:Array,required:!1},status:{type:String,required:!0}},data(){return{outerRadius:250,innerRadius:150}},computed:{buttonText(){switch(this.status){case"countout":return"Send it";case"error":return"ERROR";case"recording":return"Recording";case"waiting":return"Record";default:return""}},maxDistance(){return this.outerRadius-this.innerRadius},path(){var e;if(!((e=this.samples)!=null&&e.length))return null;const t=[];for(let n=0;n<this.samples.length&&!(this.samples[n]===null||n!==this.samples.length-1&&this.samples[n+1]===null);n++){const i=this.radiansPerSegment*n,s=i-this.radiansPerSegmentThird,a=i+this.radiansPerSegmentThird,r=this.maxDistance*this.samples[n]+this.innerRadius,u=r,c=250+r*Math.cos(s),f=250+u*Math.cos(a),h=250+r*Math.sin(s),d=250+u*Math.sin(a);t.push([c,h],[f,d])}return`M 250 250 ${Aae(t,.2)} L 250 250`},radiansPerSegment(){var t;return(t=this.samples)!=null&&t.length?Math.PI*2/(this.samples.length-1):0},radiansPerSegmentThird(){var t;return(t=this.samples)!=null&&t.length?this.radiansPerSegment/3:0},showCountout(){return this.status==="processing"||this.status==="countout"},statusText(){switch(this.status){case"processing":return"Processing";case"sending":return"Sending";default:return""}}}}),wae={viewBox:"0 0 500 500"},Oae=["d"],Iae={key:1,class:"slice",r:"62.5",cx:"250",cy:"250"},Nae={class:"text-group"},Pae={class:"status-text"},kae={href:"#status-path",startOffset:"50%","text-anchor":"middle"},Dae={class:"message-text"},Bae={href:"#message-path",startOffset:"50%","text-anchor":"middle"},Uae={key:0,class:"try-again"};function Mae(t,e,n,i,s,a){return Y(),te("button",{class:et(["record-button",`status-${t.status}`])},[(Y(),te("svg",wae,[e[0]||(e[0]=V("defs",null,[V("path",{id:"status-path",d:"M196.97,303.03c-29.29-29.29-29.29-76.78,0-106.07s76.78-29.29,106.07,0,29.29,76.78,0,106.07"}),V("path",{id:"message-path",d:"M87.5,253c0-89.75,72.75-162.5,162.5-162.5s162.5,72.75,162.5,162.5"})],-1)),e[1]||(e[1]=V("path",{class:"message",d:"M405.2,177.5c11.67,23.32,18.24,49.64,18.24,77.5,0,95.79-77.65,173.44-173.44,173.44s-173.44-77.65-173.44-173.44c0-27.85,6.57-54.17,18.24-77.5"},null,-1)),t.path?(Y(),te("path",{key:0,class:"waveform",d:t.path},null,8,Oae)):Ke("",!0),e[2]||(e[2]=V("circle",{class:"fill",r:"125",cx:"250",cy:"250"},null,-1)),e[3]||(e[3]=V("circle",{class:"dotted",r:"125",cx:"250",cy:"250"},null,-1)),t.showCountout?(Y(),te("circle",Iae)):Ke("",!0),V("g",Nae,[V("text",Pae,[V("textPath",kae,nt(t.statusText),1)])]),V("text",Dae,[V("textPath",Bae,nt(t.message),1)])])),V("span",null,nt(t.buttonText),1),t.status==="error"?(Y(),te("span",Uae,"Try Again")):Ke("",!0)],2)}const Kae=rt(Lae,[["render",Mae],["__scopeId","data-v-d700287a"]]),$ae=dt({components:{InfoBox:Fh,RecordButton:Kae,RetryButton:ED},props:{player:{type:Object,required:!0},soundManager:{type:Object,required:!0}},data(){return{postRecordingMs:1e3,status:"waiting",startTimestamp:null,currentMs:0,isRecording:!1,base64:null,sampleScale:70,samples:[],errorType:null}},computed:{canRetry(){return!(this.player.category==="avatar"||this.status==="waiting"||this.status==="recording"||this.status==="sending")},displayDuration(){const t=Math.round(this.player.durationMs/1e3)||1;return`about ${t} ${t===1?"second":"seconds"} long`},info(){return this.player.totalPrompts<=1?null:`${this.player.currentPromptNumber}/${this.player.totalPrompts}`},numberOfSamples(){return this.player.durationMs<1500?24:this.player.durationMs<2500?32:this.player.durationMs<3500?48:64},totalMs(){return this.player.durationMs+this.postRecordingMs}},watch:{"player.currentPromptNumber":{immediate:!0,handler(){this.reset()}},"player.audioError":{handler(t,e){t&&!e&&(this.status="error",this.errorType="sending")}}},mounted(){this.reset()},methods:{reset(){this.status="waiting",this.errorType=null,this.startTimestamp=null,this.currentMs=0,this.isRecording=!1,this.base64=null,this.samples=[]},async onMainActionClick(){if(this.status!=="recording"&&this.status!=="processing"&&this.status!=="sending"){if(this.status==="countout")return this.sendRecording();if(this.status==="error")return this.reset();this.samples=new Array(this.numberOfSamples).fill(null),await this.soundManager.startRecording(),this.startTimestamp=window.performance.now(),this.status="recording",window.requestAnimationFrame(this.onFrame.bind(this))}},onRetryClick(){this.canRetry&&this.reset()},onFrame(t){if(this.status!=="waiting"&&this.status!=="sending"&&this.startTimestamp!==null&&this.status!=="error"){if(this.currentMs=t-this.startTimestamp,this.status==="recording"&&(this.currentMs>=this.totalMs&&this.stopRecording(),this.currentMs<this.player.durationMs)){const e=Math.floor(this.currentMs/this.player.durationMs*this.numberOfSamples);if(e>=0&&e<this.numberOfSamples){let n=this.soundManager.data.normal;n>0&&n<1&&(n=Math.log(1+n*this.sampleScale)/Math.log(1+this.sampleScale)),this.samples[e]=n}}this.status==="countout"&&this.currentMs>this.totalMs+this.player.submitTimeoutMs&&this.sendRecording(),window.requestAnimationFrame(this.onFrame.bind(this))}},async stopRecording(){this.status="processing";try{this.base64=await this.soundManager.saveRecording(this.player.format)??null}catch(t){this.status="error",t instanceof Error&&(t.message==="Silence Error Loudnorm A"&&(this.errorType="loudnormA"),t.message==="Silence Error Gate"&&(this.errorType="gate"),t.message==="Silence Error Loudnorm B"&&(this.errorType="loudnormB"),t.message==="Silence Error SilenceRemove"&&(this.errorType="silenceRemove"))}finally{await this.soundManager.reset()}this.status==="processing"&&(this.status="countout")},async sendRecording(){if(this.status="sending",!this.base64){this.status="error",this.errorType="encoding";return}try{await this.$ecast.updateObject(this.player.responseKey,{base64:this.base64,format:this.player.format})}catch(t){this.status="error",this.errorType="sending",console.error(t)}}}}),Vae={class:"constrain double-top no-edge"},Fae={class:"box prompt-box"},qae={class:"prompt"},Gae={key:0,class:"direction"},jae={class:"box action-box"},Wae={class:"box error-box"},Xae={key:0,class:"error"},Hae={key:1,class:"error"},Yae={key:2,class:"error"},zae={key:3,class:"error"},Jae={key:4,class:"error"},Zae={key:5,class:"error"};function Qae(t,e,n,i,s,a){const r=ct("InfoBox"),u=ct("RecordButton"),c=ct("RetryButton"),f=Kr("bb");return Y(),te("div",{class:et(["recording",`status-${t.status}`])},[ft(r,{info:t.info},{default:Ds(()=>e[0]||(e[0]=[Tr("Record a sound")])),_:1},8,["info"]),V("div",{class:et(["edge sketch heavy",{"is-avatar":t.player.category==="avatar"}])},null,2),V("div",Vae,[V("div",Fae,[St(V("p",qae,null,512),[[f,t.player.prompt]]),t.player.direction?St((Y(),te("p",Gae,null,512)),[[f,t.player.direction]]):Ke("",!0)]),V("div",jae,[ft(u,{status:t.status,duration:t.player.durationMs,samples:t.samples,message:t.displayDuration,style:jr({"--submitTimeoutDuration":`${t.player.submitTimeoutMs}ms`}),onClick:t.onMainActionClick},null,8,["status","duration","samples","message","style","onClick"]),t.canRetry?(Y(),Ht(c,{key:0,text:"Retry",onClick:t.onRetryClick},null,8,["onClick"])):Ke("",!0)]),V("div",Wae,[t.errorType==="loudnormA"?(Y(),te("p",Xae,e[1]||(e[1]=[Tr(" Please check your microphone and refresh your browser."),V("span",null,"(sfx-00)",-1)]))):Ke("",!0),t.errorType==="gate"?(Y(),te("p",Hae,e[2]||(e[2]=[Tr(" Please check your microphone and refresh your browser."),V("span",null,"(sfx-01)",-1)]))):Ke("",!0),t.errorType==="loudnormB"?(Y(),te("p",Yae,e[3]||(e[3]=[Tr(" Please check your microphone and refresh your browser."),V("span",null,"(sfx-02)",-1)]))):Ke("",!0),t.errorType==="silenceRemove"?(Y(),te("p",zae,e[4]||(e[4]=[Tr(" Please check your microphone and refresh your browser."),V("span",null,"(sfx-03)",-1)]))):Ke("",!0),t.errorType==="sending"?(Y(),te("p",Jae,e[5]||(e[5]=[Tr(" We were unable to send your audio. Check your connection"),V("span",null,"(sfx-04)",-1)]))):Ke("",!0),t.errorType==="encoding"?(Y(),te("p",Zae,e[6]||(e[6]=[Tr(" Please refresh your browser."),V("span",null,"(sfx-05)",-1)]))):Ke("",!0)])])],2)}const eoe=rt($ae,[["render",Qae],["__scopeId","data-v-559e289e"]]),toe={},roe={viewBox:"0 0 100 100",class:"sketch"};function noe(t,e){return Y(),te("svg",roe,e[0]||(e[0]=[V("path",{class:"line",d:"M63.13,26.29c7.25,5.37,11.94,13.99,11.94,23.71s-4.76,18.46-12.11,23.83"},null,-1),V("path",{class:"line",d:"M53.53,34.85c5.45,2.86,9.16,8.58,9.16,15.15s-3.79,12.41-9.34,15.25"},null,-1),V("path",{class:"fill",d:"M48.03,76.73c0,2.38-2.89,3.56-4.56,1.87l-14.35-14.51c-.5-.5-1.18-.79-1.9-.79h-9.33c-1.47,0-2.66-1.2-2.66-2.66v-10.55s0-.03-.02-.05c-.03-.03-.03-.07,0-.1h0s.02-.03.02-.05v-10.55c0-1.47,1.2-2.66,2.66-2.66h9.33c.71,0,1.39-.28,1.9-.79l14.35-14.5c1.67-1.69,4.56-.5,4.56,1.87v53.46h0Z"},null,-1)]))}const ioe=rt(toe,[["render",noe],["__scopeId","data-v-5f26a47e"]]),soe=dt({components:{Avatar:Eo,InfoBox:Fh,SpeakerIcon:ioe},props:{players:{type:Object,required:!0},player:{type:Object,required:!0}},methods:{async onPlayClick(t){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{value:t})}catch(e){console.error(e)}}}}),aoe={class:"scoreboard"},ooe={class:"constrain"},uoe=["onClick"];function loe(t,e,n,i,s,a){const r=ct("InfoBox"),u=ct("Avatar"),c=ct("SpeakerIcon");return Y(),te("div",aoe,[ft(r,null,{default:Ds(()=>[Tr(nt(t.player.prompt),1)]),_:1}),V("div",ooe,[(Y(!0),te(ht,null,Qt(t.player.choices,(f,h)=>(Y(),te("button",{key:h,class:"player-button",onClick:d=>t.onPlayClick(h)},[ft(u,{avatar:t.players[f].avatar,class:"outline-thin"},null,8,["avatar"]),V("span",null,nt(t.players[f].name),1),ft(c,{class:"icon"})],8,uoe))),128))])])}const coe=rt(soe,[["render",loe],["__scopeId","data-v-58f3b939"]]),foe={},hoe={class:"edge-button right like-button","aria-label":"like"};function poe(t,e){return Y(),te("button",hoe,e[0]||(e[0]=[ba('<svg viewBox="0 0 200 150" class="sketch" data-v-e3b09448><path class="background slim" d="M100,150.5c-41.42,0-75-33.58-75-75S58.58.5,100,.5h100v150h-100Z" data-v-e3b09448></path><circle class="background wide" cx="100" cy="75.5" r="75" data-v-e3b09448></circle><g class="hand" data-v-e3b09448><path class="fill" d="M52.82,91.5c.66-2.65,4.43-3.55,4.85-5.88.51-2.82-3.15-4.14-2.96-7.84.16-3.22,3.31-9.71,6.05-11.51.73-.47,8.58-3.78,9.32-3.85,1.97-.19,8.68.37,10.9.63,2.45.29,8.65,3.08,9.95.48,1.17-3.42-2.67-4.34-4.37-6.61-4.73-6.31-6.16-19.83-2.9-26.96,3.02-6.6,13.17-13.01,18.4-5.54,2.9,4.14,1.79,6.46,2.35,10.81.85,6.72,7.86,16.17,13.09,20.35,3.92,3.13,9.51,4.51,12.87,7.41,4.03,3.49,3.51,8.87,10.42,8.22,2.74-.26,3.85-1.98,7-.43,1.86.92,2.3,2.64,2.53,4.59.92,7.75,1.36,23.07-.73,30.4-.93,3.3-4.43,5.54-7.75,5.95-3.05.38-6.46-1.42-8.46-.82-1.62.48-2.94,3.37-4.73,4.62-12,8.35-32.16,8.39-45.99,11.58l-1.32.58h-1.65c-6.64-1.53-11.95-2.76-14.66-9.73-1.88-4.87.48-4.87.93-8.13.59-4.33-3.04-3.11-5.91-3.89-1.88-.52-5.17-3.22-6.01-4.96s-.23-3.56-1.22-5.09v-4.39h-.01Z" data-v-e3b09448></path><path class="inner" d="M142.7,83c.16-2.09,2.12-4.39.26-6.3-3.35-3.44-6.54,3.51-10.35,1.03-1.35-.88-4.51-7.8-7.44-10.09-2.31-1.81-5.2-2.3-7.64-3.86-7.38-4.7-19.3-18.46-19.77-27.4-.12-2.34,1.84-9.84-2.96-9.58-4.36.23-6.39,8.35-6.41,11.8,0,4.22,3.34,15.52,5.62,19.1,2.08,3.26,5.97,4.51,8.22,8.77,1.77,3.33,2.52,9.64,4.37,12.08,1.59,2.12,9.21,4.19,5.99,8.35-3.19,4.12-10.66-3.29-11.99-6.74-1.24-3.22-1.62-13.89-5.95-14.3-5.44-.52.33,7.48.38,9.5.07,2.8-2.75,4.29-2.14,6.45.41,1.44,4.04,2.34,5.42,3.95,1.83,2.14,3.07,6.09,1.57,8.72-1.09,1.91-5.75,2.52-4.81,5.46.54,1.68,4.74,1.28,6.35,2.72,3.08,2.76,2.23,7.12-.66,9.68-1.54,1.37-11.36,5.58-7.4,7.96,3.04,1.11,5.65-1.5,8.48-2.49,7.63-2.67,15.19-3.31,22.18-7.97,2.61-1.75,5.4-6.27,8.13-6.72,3.2-.54,5.13,4.62,8.84,2.34,3.29-2.02,1.1-5.54,1.15-8.18.1-4.32.21-10,.55-14.26h0ZM91.48,95.36c4.72-4.58,2.76-10.56-4.28-9.21-1.65.32-3.75,1.87-5.33,2.34-2.69.78-9.02,1.59-11.8,1.4-3-.21-8.41-3.12-9.87,1.59-1.91,6.17,2.43,10.33,8.25,11,6.48.74,18.31-2.52,23.04-7.11h-.01ZM68.46,83.86c5.57-.22,24.17-2.71,21.52-11.7-.89-3-5.03-1.76-7.27-2.05-3.52-.44-7.92-1.62-11.44-1.44-7.01.36-15.89,15.7-2.8,15.18h0ZM93.11,103.82c-4.59.81-8.88,2.85-13.4,3.88-4.74,1.1-10.3-.8-8.68,6.97.85,4.04,7.86,8.59,11.56,5.79,2.96-4.18,21.45-12.76,10.5-16.64h.01Z" data-v-e3b09448></path></g></svg>',1)]))}const doe=rt(foe,[["render",poe],["__scopeId","data-v-e3b09448"]]),_oe={},moe={class:"sketch",viewBox:"0 0 500 500"};function goe(t,e){return Y(),te("svg",moe,e[0]||(e[0]=[V("circle",{cx:"250",cy:"250",r:"175"},null,-1),V("path",{d:"M164.32,229.67c6.14-6.04,29.79-7.79,35.95,5.83,4.94,10.93,20.43,42.94,23.5,49.34s8.66,7.72,15.93-4.71c7.27-12.42,65.77-130.82,154.16-208.19C462.08,12.23,492.57-4.7,498.41,1.06c5.85,5.75-5.04,22.67-23.26,39.74-58.1,54.45-178.88,239.53-203.56,310.68-13.19,38.04-39.76,39.56-48.37,26.01-8.61-13.55-47.28-79.08-58.39-97.73-14.64-24.56-12.09-38.7-.52-50.09Z"},null,-1)]))}const Eoe=rt(_oe,[["render",goe],["__scopeId","data-v-b832aa97"]]),voe=dt({components:{Avatar:Eo,CheckIcon:Eoe,InfoBox:Fh,LikeButton:doe,ReplayButton:gD},props:{players:{type:Object,required:!0},player:{type:Object,required:!0}},data(){return{hasAudienceVoted:!1}},computed:{isAudience(){return this.$ecast.role==="audience"},choices(){return this.player.choices.map((t,e)=>{var s;const n=this.players[`${t}`],i={id:t,avatar:n.avatar,name:n.name,isLiked:!1,isPlaying:!1,canPlay:!0,isSelected:this.player.choice===e,classes:[]};return this.$ecast.role==="player"&&(this.player.kind==="voting"?i.classes.push("has-left-accessory"):i.classes.push("has-right-accessory")),this.player.currentlyPlaying!==void 0&&(i.canPlay=!1,this.player.currentlyPlaying===n.id&&(i.isPlaying=!0)),(s=this.player.likes)!=null&&s.includes(e)&&(i.isLiked=!0),this.player.choice===e&&(i.isSelected=!0),i})},info(){return!this.player.currentPromptNumber||!this.player.totalPrompts?null:`${this.player.currentPromptNumber} of ${this.player.totalPrompts}`},prompt(){return this.player.kind==="voting"?this.$t("VOTING.VOTE_FOR_ONE"):this.$t("VOTING.GIVE_LIKES")}},methods:{async onReplayClick(t){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{replay:t})}catch(e){console.error(e)}},async onVoteClick(t){if(this.player.responseKey)try{this.isAudience?(await this.$ecast.incrementCountGroupCounter(this.player.responseKey,`${t}`),this.hasAudienceVoted=!0):await this.$ecast.updateObject(this.player.responseKey,{vote:t})}catch(e){console.error(e)}},async onLikeClick(t){if(this.player.responseKey)try{await this.$ecast.updateObject(this.player.responseKey,{like:t})}catch(e){console.error(e)}}}}),yoe={class:"constrain double-top no-edge"},Toe=["disabled","onClick"],boe={key:1,class:"thanks"};function Roe(t,e,n,i,s,a){const r=ct("InfoBox"),u=ct("ReplayButton"),c=ct("Avatar"),f=ct("CheckIcon"),h=ct("LikeButton");return Y(),te("div",{class:et(t.player.kind)},[ft(r,{info:t.info},{default:Ds(()=>[Tr(nt(t.prompt),1)]),_:1},8,["info"]),V("div",yoe,[t.hasAudienceVoted?(Y(),te("p",boe,"Thank you for voting")):(Y(!0),te(ht,{key:0},Qt(t.choices,(d,g)=>(Y(),te("div",{key:g,class:et(["choice-wrapper",d.classes])},[t.player.kind==="voting"&&t.$ecast.role==="player"?(Y(),Ht(u,{key:0,class:et(["accessory",{playing:d.isPlaying}]),disabled:!d.canPlay,onClick:E=>t.onReplayClick(g)},null,8,["disabled","class","onClick"])):Ke("",!0),V("button",{class:et(["player-button",{selected:d.isSelected}]),disabled:t.player.kind!=="voting",onClick:E=>t.onVoteClick(g)},[ft(c,{avatar:d.avatar,class:"outline-thin"},null,8,["avatar"]),V("span",null,nt(d.name),1),ft(f,{class:et(["icon",{checked:d.isSelected}])},null,8,["class"])],10,Toe),t.player.kind!=="voting"&&t.$ecast.role==="player"?(Y(),Ht(h,{key:1,class:et(["accessory",{liked:d.isLiked}]),disabled:d.isLiked,onClick:E=>t.onLikeClick(g)},null,8,["disabled","class","onClick"])):Ke("",!0)],2))),128))])],2)}const mv=rt(voe,[["render",Roe],["__scopeId","data-v-7487069d"]]),xoe=dt({components:{Avatar:Eo},props:{info:{type:Object,required:!0},player:{type:Object,required:!0}}}),Soe={class:"waiting constrain"},Coe={class:"message"};function Aoe(t,e,n,i,s,a){const r=ct("Avatar");return Y(),te("div",Soe,[ft(r,{avatar:t.info.avatar??3,class:"outline-thick"},null,8,["avatar"]),V("p",Coe,nt(t.player.message??"Waiting"),1)])}const DI=rt(xoe,[["render",Aoe],["__scopeId","data-v-d8100423"]]),Loe={},woe={class:"pill-button leave-button"};function Ooe(t,e){return Y(),te("button",woe,e[0]||(e[0]=[ba('<span class="background" data-v-5bb9ed58></span><svg class="sketch" viewBox="0 0 200 200" data-v-5bb9ed58><path class="line" d="M155,85v-36c0-2.21-1.79-4-4-4h-36.32" data-v-5bb9ed58></path><path class="door line" d="M114.68,200V30.31c0-2.66-2.55-4.58-5.1-3.84l-64.58,18.54v155" data-v-5bb9ed58></path><polygon class="handle" points="101.5 128.6 91.29 127.6 91.29 118.4 101.5 117.4 101.5 128.6" data-v-5bb9ed58></polygon><line class="line" x1="132.68" y1="122" x2="155" y2="122" data-v-5bb9ed58></line><polygon class="line" points="154.77 103.76 172.93 121.92 154.77 140.08 154.77 103.76" data-v-5bb9ed58></polygon><line class="line" x1="154.77" y1="160" x2="154.77" y2="200" data-v-5bb9ed58></line></svg><span class="border sketch" data-v-5bb9ed58></span><span class="text" data-v-5bb9ed58>Leave</span>',4)]))}const Ioe=rt(Loe,[["render",Ooe],["__scopeId","data-v-5bb9ed58"]]),Noe={},Poe={viewBox:"0 0 100 100"};function koe(t,e){return Y(),te("svg",Poe,e[0]||(e[0]=[V("circle",{cx:"50",cy:"50",r:"39.8"},null,-1),V("polyline",{points:"29.73 41.93 51.14 64.03 100 0"},null,-1)]))}const Doe=rt(Noe,[["render",koe],["__scopeId","data-v-fb5704b3"]]),Boe={},Uoe={viewBox:"0 0 100 100"};function Moe(t,e){return Y(),te("svg",Uoe,e[0]||(e[0]=[V("circle",{cx:"50",cy:"50",r:"50"},null,-1),V("polygon",{points:"73.41 34.28 65.72 26.59 50 42.32 34.28 26.59 26.59 34.28 42.32 50 26.59 65.72 34.28 73.41 50 57.68 65.72 73.41 73.41 65.72 57.68 50 73.41 34.28"},null,-1)]))}const TD=rt(Boe,[["render",Moe],["__scopeId","data-v-c2085cfd"]]),Koe=dt({components:{CloseIcon:TD,RadioIcon:Doe},props:{deviceManager:{type:Object,required:!0},soundManager:{type:Object,required:!0}},emits:{didClickClose:()=>!0},methods:{onCloseClick(){this.$emit("didClickClose")},async onDeviceClick(t){await this.deviceManager.setCurrentDevice(t)}}}),$oe={class:"panel backfill"},Voe={class:"top"},Foe={key:0,class:"heading none"},qoe={key:1,class:"devices"},Goe=["onClick"];function joe(t,e,n,i,s,a){const r=ct("CloseIcon"),u=ct("RadioIcon");return Y(),te("div",{class:"mic-settings",onClick:e[3]||(e[3]=Ir((...c)=>t.onCloseClick&&t.onCloseClick(...c),["self"])),onKeydown:e[4]||(e[4]=Bi((...c)=>t.onCloseClick&&t.onCloseClick(...c),["esc"]))},[V("div",{class:"constrain",onClick:e[1]||(e[1]=Ir((...c)=>t.onCloseClick&&t.onCloseClick(...c),["self"])),onKeydown:e[2]||(e[2]=Bi((...c)=>t.onCloseClick&&t.onCloseClick(...c),["esc"]))},[V("div",$oe,[V("div",Voe,[e[5]||(e[5]=V("p",{class:"title"},"Select input device",-1)),V("button",{class:"close-button",onClick:e[0]||(e[0]=(...c)=>t.onCloseClick&&t.onCloseClick(...c))},[ft(r,{class:"sketch"})])]),t.deviceManager.devices.length?(Y(),te("div",qoe,[(Y(!0),te(ht,null,Qt(t.deviceManager.devices,c=>(Y(),te("button",{key:c.id,class:et(["device-button",{selected:c.isSelected}]),onClick:f=>t.onDeviceClick(c.id)},[ft(u,{class:et(["radio sketch",{checked:c.isSelected}])},null,8,["class"]),Tr(nt(c.name),1)],10,Goe))),128))])):(Y(),te("p",Foe,"No input devices found"))])],32)],32)}const Woe=rt(Koe,[["render",joe],["__scopeId","data-v-93f49764"]]),Xoe={},Hoe={class:"pill-button mic-settings-button"};function Yoe(t,e){return Y(),te("button",Hoe,e[0]||(e[0]=[ba('<span class="background" data-v-37720b7d></span><svg class="sketch" viewBox="0 0 200 200" data-v-37720b7d><path class="line" d="M45,83v22c0,30.38,24.62,55,55,55s55-24.62,55-55v-22" data-v-37720b7d></path><line class="line" x1="100" y1="160" x2="100" y2="200" data-v-37720b7d></line><path class="line mic" d="M130,102c0,16.57-13.43,30-30,30s-30-13.43-30-30v-47c0-16.57,13.43-30,30-30s30,13.43,30,30v47Z" data-v-37720b7d></path></svg><span class="border sketch" data-v-37720b7d></span><span class="text" data-v-37720b7d>Mic options</span>',4)]))}const zoe=rt(Xoe,[["render",Yoe],["__scopeId","data-v-37720b7d"]]),Joe={},Zoe={viewBox:"0 0 100 100",class:"sketch"};function Qoe(t,e){return Y(),te("svg",Zoe,e[0]||(e[0]=[V("path",{d:"M39.31,65.78c2.37,3.47,3.76,7.67,3.76,12.2s-1.36,8.64-3.69,12.09"},null,-1),V("path",{d:"M50.57,57.39c4.12,5.81,6.54,12.92,6.54,20.59s-2.24,14.25-6.09,19.94"},null,-1),V("path",{d:"M14.49,0c3.1,5.89,6.78,12.88,6.78,18.21,0,.97,0,1.94,0,2.9-.08,7.13.73,14.97,4.76,20.86l2.8,4.09c2.61,3.82,1.38,9.05-2.66,11.3l-3.11,1.73v8.82l-8.65,6.02c-2.33,1.62-2.22,5.11.2,6.58l6.67,4.05-6.78,15.41h0"},null,-1),V("polygon",{points:"10.52 43.81 1.36 43.53 2.37 31.6 11.53 32.38 10.52 43.81"},null,-1)]))}const eue=rt(Joe,[["render",Qoe],["__scopeId","data-v-ea8ce12b"]]),tue={},rue={viewBox:"0 0 100 100",class:"sketch"};function nue(t,e){return Y(),te("svg",rue,e[0]||(e[0]=[V("path",{d:"M18.57,33.14v12.57c0,17.36,14.07,31.43,31.43,31.43s31.43-14.07,31.43-31.43v-12.57"},null,-1),V("path",{d:"M67.14,44c0,9.47-7.67,17.14-17.14,17.14s-17.14-7.67-17.14-17.14v-26.86C32.86,7.67,40.53,0,50,0s17.14,7.67,17.14,17.14v26.86Z"},null,-1),V("polygon",{points:"45.89 39.93 39.72 39.69 39.83 29.43 46 29.53 45.89 39.93"},null,-1),V("polygon",{points:"60.43 39.36 53.68 39.11 54.37 29.43 60.54 29.53 60.43 39.36"},null,-1)]))}const iue=rt(tue,[["render",nue],["__scopeId","data-v-dafab008"]]),sue=dt({components:{CloseIcon:TD,FaceIcon:eue,MicIcon:iue},emits:{didClickClose:()=>!0},data(){return{tips:[{title:"Performance tips: ",index:0,tips:["Sounds are timed to fit specific game moments, so try to fill up all your recording time!","Not sure what to record? Listen to other players to get ideas!","Try it out once or twice for yourself before pressing Record!","Not sure how to perform? Try speaking like youre super lazy or very much in a rush.","Want to stand out? Try speaking in all caps.","Pro tip: try saying your prompt in a loud whisper voice","Not sure how to perform? Try including dramatic pauses.","Try a character voice or accent youre comfortable with."]},{title:"Practical tips: ",index:0,tips:["Hold the mic to your mouth and check that you're not blocking it (It's the little pinhole!)","If your sounds feel too soft, get closer. If your sounds feel too loud, move away.","For the highest sound quality, use a phone or an external mic. Avoid laptop mics if you can!","Our microphones record you, not the room, but move around if you need to.","Mic issues? Tap the settings icon at the bottom left to make changes, or try refreshing!"]}]}},methods:{onLeftClick(t){t.index!==0&&(t.index-=1)},onRightClick(t){t.index!==t.tips.length-1&&(t.index+=1)},onCloseClick(){this.$emit("didClickClose")}}}),aue={class:"panel backfill"},oue={class:"title"},uue={class:"slides"},lue=["disabled","onClick"],cue=["disabled","onClick"],fue={class:"dots"};function hue(t,e,n,i,s,a){const r=ct("CloseIcon"),u=ct("FaceIcon"),c=ct("MicIcon");return Y(),te("div",{class:"tips",onClick:e[3]||(e[3]=Ir((...f)=>t.onCloseClick&&t.onCloseClick(...f),["self"])),onKeydown:e[4]||(e[4]=Bi((...f)=>t.onCloseClick&&t.onCloseClick(...f),["esc"]))},[V("div",{class:"constrain",onClick:e[1]||(e[1]=Ir((...f)=>t.onCloseClick&&t.onCloseClick(...f),["self"])),onKeydown:e[2]||(e[2]=Bi((...f)=>t.onCloseClick&&t.onCloseClick(...f),["esc"]))},[V("div",aue,[V("button",{class:"close-button",onClick:e[0]||(e[0]=(...f)=>t.onCloseClick&&t.onCloseClick(...f))},[ft(r,{class:"sketch"})]),(Y(!0),te(ht,null,Qt(t.tips,(f,h)=>(Y(),te("div",{key:f.title,class:"section"},[V("p",oue,[h===0?(Y(),Ht(u,{key:0,class:"icon"})):h===1?(Y(),Ht(c,{key:1,class:"icon"})):Ke("",!0),Tr(" "+nt(f.title),1)]),V("div",uue,[V("button",{class:"direction left sketch","aria-label":"left",disabled:f.index===0,onClick:d=>t.onLeftClick(f)},e[5]||(e[5]=[V("svg",{viewBox:"0 0 10 25"},[V("path",{d:"M 10 0 L 0 12.5 L 10 25"})],-1)]),8,lue),(Y(!0),te(ht,null,Qt(f.tips,(d,g)=>(Y(),te("p",{key:g,class:et(["slide",{back:g<f.index,current:g===f.index,forth:g>f.index}])},nt(d),3))),128)),V("button",{class:"direction right sketch","aria-label":"right",disabled:f.index===f.tips.length-1,onClick:d=>t.onRightClick(f)},e[6]||(e[6]=[V("svg",{viewBox:"0 0 10 25"},[V("path",{d:"M 0 0 L 10 12.5 L 0 25"})],-1)]),8,cue)]),V("div",fue,[(Y(!0),te(ht,null,Qt(f.tips,(d,g)=>(Y(),te("span",{key:g,class:et(["dot",{active:g===f.index}])},null,2))),128))])]))),128))])],32)],32)}const pue=rt(sue,[["render",hue],["__scopeId","data-v-80ed5ba4"]]),due={},_ue={class:"pill-button tips-button"};function mue(t,e){return Y(),te("button",_ue,e[0]||(e[0]=[ba('<span class="background" data-v-d53660ee></span><svg class="sketch" viewBox="0 0 200 200" data-v-d53660ee><path class="line" d="M129.63,132.01c4.75,6.95,7.53,15.35,7.53,24.4s-2.72,17.29-7.39,24.19" data-v-d53660ee></path><path class="line" d="M152.16,115.23c8.24,11.63,13.08,25.84,13.08,41.18s-4.49,28.5-12.19,39.89" data-v-d53660ee></path><path class="face" d="M80.97,2.25c5.98,11.39,12.6,24.48,12.6,34.61,0,1.94,0,3.88-.02,5.8-.16,14.26,1.47,29.95,9.52,41.72l5.6,8.19c5.22,7.63,2.76,18.11-5.33,22.61l-6.23,3.47v17.65l-17.3,12.05c-4.67,3.25-4.45,10.22.41,13.17l13.34,8.1-12.75,28.98C34.76,189.65,0,149.1,0,100.44S34.84,11.13,80.97,2.25Z" data-v-d53660ee></path><path class="line" d="M80.97,2.25c5.98,11.39,12.6,24.48,12.6,34.61,0,1.94,0,3.88-.02,5.8-.16,14.26,1.47,29.95,9.52,41.72l5.6,8.19c5.22,7.63,2.76,18.11-5.33,22.61l-6.23,3.47v17.65l-17.3,12.05c-4.67,3.25-4.45,10.22.41,13.17l13.34,8.1-12.75,28.98" data-v-d53660ee></path><polygon class="eye" points="72.05 88.06 53.72 87.5 55.75 63.64 74.08 65.2 72.05 88.06" data-v-d53660ee></polygon></svg><span class="border sketch" data-v-d53660ee></span><span class="text" data-v-d53660ee>Tips</span>',4)]))}const gue=rt(due,[["render",mue],["__scopeId","data-v-d53660ee"]]),Eue=dt({themeColor:"#001C43",components:{Filters:Mne,LeaveButton:Ioe,MicSettings:Woe,MicSettingsButton:zoe,Tips:pue,TipsButton:gue},props:{artifact:{type:Object},hostIsPaused:{type:Boolean},info:{type:Object},players:{type:Object},player:{type:Object}},ecastKeys:{players:"connectedPlayers"},ecastProviders:{artifact:t=>{if(t.artifact)return t.artifact;let e=0,n;for(;t[`artifact:${e}`];)n=t[`artifact:${e}`],e+=1;return n},hostIsPaused:t=>t.hostIsPaused.hostIsPaused,info:(t,{id:e})=>{if(!t.connectedPlayers)return;const n=t.connectedPlayers[e];return n||{id:e,avatar:0,isVip:!1,name:"AUDIENCE"}},player:(t,{id:e})=>t.audiencePlayer?t.audiencePlayer:t[`player:${e}`]},data(){return{deviceManager:new wJ,soundManager:new One,showMicSettings:!1,showTips:!1}},computed:{isMinigame(){var t,e,n,i;return((t=this.player)==null?void 0:t.kind)==="bop"||((e=this.player)==null?void 0:e.kind)==="dots"||((n=this.player)==null?void 0:n.kind)==="jump"||((i=this.player)==null?void 0:i.kind)==="loudness"},screen(){var t;if(this.showPermissions)return[Mse,{deviceManager:this.deviceManager,player:this.player}];if(this.isMinigame&&this.shouldSkipMinigame)return[DI,{player:this.player}];switch((t=this.player)==null?void 0:t.kind){case"bop":return[Jne,{player:this.player,soundManager:this.soundManager,hostIsPaused:this.hostIsPaused}];case"dots":return[pie,{player:this.player,soundManager:this.soundManager,hostIsPaused:this.hostIsPaused}];case"jump":return[Kie,{player:this.player,soundManager:this.soundManager,hostIsPaused:this.hostIsPaused}];case"loudness":return[vse,{player:this.player,soundManager:this.soundManager,hostIsPaused:this.hostIsPaused}];case"likes":return[mv,{player:this.player,players:this.players}];case"lobby":return[_se,{player:this.player,players:this.players,info:this.info}];case"postGame":return[Rae,{artifact:this.artifact,player:this.player,players:this.players,info:this.info}];case"recording":return[eoe,{player:this.player,soundManager:this.soundManager}];case"scoreboard":return[coe,{player:this.player,players:this.players}];case"voting":return[mv,{player:this.player,players:this.players}];case"voted":return[mv,{player:this.player,players:this.players}];case"waiting":return[DI,{player:this.player,info:this.info}];default:return[GG,{player:this.player}]}},shouldSkipMinigame(){return!(this.$ecast.role==="player"||this.deviceManager.grantedPermission==="granted")},showBottomOptions(){return this.player.kind!=="postGame"},showLeave(){return this.player?this.player.kind==="lobby"||this.player.kind==="recording"&&this.player.category==="avatar":!1},showPermissions(){var t;return!(((t=this.player)==null?void 0:t.kind)==="postGame"||this.$ecast.role==="player"&&this.deviceManager.grantedPermission==="granted"||this.$ecast.role==="audience"&&["granted","denied"].includes(this.deviceManager.grantedPermission))}},watch:{"player.kind":{handler(t,e){t==="postGame"?this.deviceManager.stopMicrophone():this.deviceManager.canReactivate&&this.deviceManager.startMicrophone()}}},mounted(){this.deviceManager.on("deviceDidChange",this.onDeviceDidChange.bind(this)),this.deviceManager.on("devicesDidChange",this.onDevicesDidChange.bind(this)),this.deviceManager.on("microphoneStateDidChange",this.onMicrophoneStateDidChange.bind(this)),this.deviceManager.on("permissionDidChange",this.onPermissionDidChange.bind(this))},beforeUnmount(){var t;this.deviceManager.off("deviceDidChange",this.onDeviceDidChange.bind(this)),this.deviceManager.off("devicesDidChange",this.onDevicesDidChange.bind(this)),this.deviceManager.off("microphoneStateDidChange",this.onMicrophoneStateDidChange.bind(this)),this.deviceManager.off("permissionDidChange",this.onPermissionDidChange.bind(this)),(t=this.soundManager)==null||t.destroy()},methods:{onMicSettingsClick(){this.showTips=!1,this.showMicSettings=!this.showMicSettings},onTipsClick(){this.showMicSettings=!1,this.showTips=!this.showTips},async onLeaveClick(){const t=this.player;if(t.responseKey)try{if(await this.$showModal("Options",{text:"Are you sure you want to leave?",options:[{text:"Yes",value:"yes"},{text:"No",value:"no"}]})!=="yes")return;await this.$ecast.updateObject(t.responseKey,{selfKick:!0})}catch(e){console.error(e)}},onDeviceDidChange(t){var e;this.soundManager.setDevice((e=t.device)==null?void 0:e.id)},onDevicesDidChange(t){},onMicrophoneStateDidChange(t){var e;this.soundManager.setDevice((e=t.device)==null?void 0:e.id)},onPermissionDidChange(t){t.permission==="granted"&&(this.soundManager.setup(),this.deviceManager.currentDevice&&this.soundManager.setDevice(this.deviceManager.currentDevice.id))}}}),vue={key:3,class:"bottom-options"};function yue(t,e,n,i,s,a){const r=ct("Filters"),u=ct("MicSettings"),c=ct("Tips"),f=ct("MicSettingsButton"),h=ct("TipsButton"),d=ct("LeaveButton");return t.player&&t.info?(Y(),te("div",{key:0,class:et(["sfx",{"is-minigame":t.isMinigame}])},[ft(r),t.screen?(Y(),Ht(Dl(t.screen[0]),Ul({key:0,role:"main",class:"screen"},t.screen[1]),null,16)):Ke("",!0),t.showMicSettings?(Y(),Ht(u,{key:1,"device-manager":t.deviceManager,"sound-manager":t.soundManager,onDidClickClose:t.onMicSettingsClick},null,8,["device-manager","sound-manager","onDidClickClose"])):Ke("",!0),t.showTips?(Y(),Ht(c,{key:2,onDidClickClose:t.onTipsClick},null,8,["onDidClickClose"])):Ke("",!0),t.showBottomOptions?(Y(),te("div",vue,[ft(f,{class:et({selected:t.showMicSettings,warning:!t.deviceManager.currentDevice}),disabled:t.deviceManager.grantedPermission!=="granted",onClick:t.onMicSettingsClick},null,8,["class","disabled","onClick"]),ft(h,{class:et({selected:t.showTips}),onClick:t.onTipsClick},null,8,["class","onClick"]),t.showLeave?(Y(),Ht(d,{key:0,onClick:t.onLeaveClick},null,8,["onClick"])):Ke("",!0)])):Ke("",!0)],2)):Ke("",!0)}const Tue=rt(Eue,[["render",yue]]);TJ({MainView:Tue,GalleryView:vD,messages:LJ});
//# sourceMappingURL=DFxei7rs.js.map
